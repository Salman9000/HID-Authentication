{"version":3,"sources":["App.js","Canvas.js","logo.svg","webSdk.js","reportWebVitals.js","index.js"],"names":["App","faceSDK","window","reader","FingerprintReader","useState","scanStart","setScanStart","userName","setUserName","setreaderConnected","error","setError","canvasRef","useRef","videoRef","useEffect","getConnectedDevices","canvas","current","init","console","log","e","a","enumerateDevices","devices","getDeviceInfo","myDevice","setCookie","name","value","days","expires","date","Date","setTime","getTime","toUTCString","document","cookie","submit","data","JSON","stringify","encodedData","Buffer","from","toString","axios","post","user","type","credential","id","res","token","AuthenticateUserResult","jwt","decoded","jwt_decode","location","replace","message","response","capture","onDeviceDisconnected","device","updateReaderStatus","onSamplesAcquired","stopAcquisition","samples","readerConnected","length","startAcquisition","SampleFormat","Intermediate","className","style","width","margin","marginBottom","onClick","onChange","target","description","error_code","height","ref","Canvas","previous_async","async","noop","identity","v","toBool","notId","root","self","global","this","only_once","fn","Error","apply","arguments","_once","noConflict","_toString","Object","prototype","_isArray","Array","isArray","obj","call","_isArrayLike","arr","_arrayEach","iterator","index","_map","result","_range","count","i","_indexOf","item","_keys","keys","k","hasOwnProperty","push","_keyIterator","coll","len","_restParam","func","startIndex","Math","max","rest","_withoutIndex","callback","_setImmediate","setImmediate","_delay","setTimeout","_eachOfLimit","limit","nextKey","done","running","errored","replenish","key","err","doParallel","eachOf","doParallelLimit","doSeries","eachOfSeries","_asyncMap","eachfn","results","_filter","x","sort","b","_reject","cb","_createTester","check","getResult","iteratee","_","_findGetResult","_parallel","tasks","task","args","_concat","y","concat","_queue","worker","concurrency","payload","_insert","q","pos","started","idle","drain","unshift","saturated","process","_next","workers","removed","workersList","splice","empty","paused","kill","pause","resume","resumeCount","min","w","_console_fn","_times","mapper","_applyEach","fns","go","that","pop","ensureAsync","innerArgs","sync","nextTick","forEach","each","forEachSeries","eachSeries","forEachLimit","eachLimit","forEachOf","object","iter","completed","forEachOfSeries","iterate","forEachOfLimit","eachOfLimit","map","mapSeries","mapLimit","inject","foldl","reduce","memo","foldr","reduceRight","reversed","reverse","transform","select","filter","selectLimit","filterLimit","selectSeries","filterSeries","reject","rejectLimit","rejectSeries","any","some","someLimit","all","every","everyLimit","detect","detectSeries","detectLimit","sortBy","comparator","left","right","criteria","auto","remainingTasks","runningTasks","listeners","addListener","taskComplete","slice","dep","taskCallback","safeResults","val","rkey","requires","ready","listener","idx","removeListener","retry","times","DEFAULT_TIMES","DEFAULT_INTERVAL","attempts","opts","interval","parseTimes","acc","t","parseInt","wrappedTask","wrappedCallback","wrappedResults","retryAttempt","finalAttempt","seriesCallback","retryInterval","series","waterfall","wrapIterator","next","parallel","parallelLimit","makeCallback","callArgs","concatSeries","whilst","test","doWhilst","calls","until","doUntil","during","truth","doDuring","queue","items","priorityQueue","_compareTasks","priority","sequence","compare","beg","end","mid","_binarySearch","cargo","dir","memoize","hasher","queues","memoized","l","unmemoized","unmemoize","timesSeries","timesLimit","seq","newargs","nextargs","compose","applyEach","applyEachSeries","forever","constant","values","wrapSync","asyncify","_isObject","then","module","exports","define","factory","hex_chr","hex","num","str","j","charAt","str2blks_SHA1","nblk","blks","charCodeAt","hex2blks_SHA1","substr","ba2blks_SHA1","ba","off","add","lsw","rol","cnt","ft","c","d","kt","calcSHA1","calcSHA1Blks","calcSHA1Hex","calcSHA1BA","calcSHA1BAEx","s","calcSHA1Raw","olda","oldb","oldc","oldd","olde","sha1","sjcl","cipher","hash","keyexchange","mode","misc","codec","exception","corrupt","invalid","bug","notReady","bitArray","bitSlice","bstart","bend","_shiftRight","undefined","clamp","extract","blength","sh","floor","a1","a2","last","shift","getPartial","bitLength","ceil","partial","_end","round","equal","carry","out","shift2","last2","_xor4","byteswapM","m","sha256","_key","_precompute","_h","_buffer","_length","reset","update","finalize","blockSize","_init","utf8String","toBits","ol","nl","_block","h","factor","prime","frac","outer","pow","words","tmp","h0","h1","h2","h3","h4","h5","h6","h7","aes","_tables","encKey","decKey","sbox","decTable","keyLen","rcon","encrypt","_crypt","decrypt","xInv","x2","x4","tEnc","tDec","encTable","sboxInv","th","input","b2","c2","nInnerRounds","kIndex","table","t0","t1","t2","t3","prng","defaultParanoia","_pools","_poolEntropy","_reseedCount","_robins","_eventId","_collectorIds","_collectorIdNext","_strength","_poolStrength","_nextReseed","_counter","_cipher","_defaultParanoia","_collectorsStarted","_callbacks","progress","seeded","_callbackI","_NOT_READY","_READY","_REQUIRES_RESEED","_MAX_WORDS_PER_BURST","_PARANOIA_LEVELS","_MILLISECONDS_PER_RESEED","_BITS_PER_RESEED","randomWords","nwords","paranoia","g","readiness","isReady","_reseedFromPools","_gate","_gen4words","setDefaultParanoia","allowZeroParanoia","addEntropy","estimatedEntropy","source","objName","valueOf","robin","oldReady","_fireEvent","getProgress","entropyRequired","startCollectors","_eventListener","loadTimeCollector","_bind","_loadTimeCollector","mouseCollector","_mouseCollector","keyboardCollector","_keyboardCollector","accelerometerCollector","_accelerometerCollector","touchCollector","_touchCollector","addEventListener","attachEvent","stopCollectors","removeEventListener","detachEvent","cbs","jsTemp","_reseed","seedWords","full","reseedData","strength","random","_addCurrentTimeToEntropy","ev","clientX","offsetX","clientY","offsetY","touch","touches","changedTouches","pageX","pageY","performance","now","ac","accelerationIncludingGravity","z","orientation","or","arg","cbsTemp","getCryptoModule","require","buf","crypt","ab","randomBytes","Uint32Array","Uint8Array","buffer","crypto","getRandomValues","msCrypto","fromBits","bl","String","fromCharCode","decodeURIComponent","escape","unescape","encodeURIComponent","base64","_chars","_noEquals","_url","bits","ta","indexOf","base64url","dbits","j_lm","BigInteger","fromNumber","fromString","nbi","am1","n","am2","xl","xh","am3","navigator","appName","am","DB","DM","DV","BI_FP","FV","F1","F2","rr","vv","BI_RM","BI_RC","int2char","intAt","bnpCopyTo","r","bnpFromInt","nbv","fromInt","bnpFromString","fromRadix","mi","ZERO","subTo","bnpClamp","bnToString","negate","toRadix","km","p","bnNegate","bnAbs","bnCompareTo","nbits","bnBitLength","bnpDLShiftTo","bnpDRShiftTo","bnpLShiftTo","bs","bm","ds","bnpRShiftTo","bnpSubTo","bnpMultiplyTo","abs","bnpSquareTo","bnpDivRemTo","pm","pt","copyTo","ts","ms","nsh","lShiftTo","ys","y0","yt","d1","d2","dlShiftTo","compareTo","ONE","qd","drShiftTo","rShiftTo","bnMod","divRemTo","Classic","cConvert","mod","cRevert","cReduce","cMulTo","multiplyTo","cSqrTo","squareTo","bnpInvDigit","Montgomery","mp","invDigit","mpl","mph","um","mt2","montConvert","montRevert","montReduce","u0","montSqrTo","montMulTo","bnpIsEven","bnpExp","r2","convert","sqrTo","mulTo","revert","bnModPowInt","isEven","exp","bnClone","bnIntValue","bnByteValue","bnShortValue","bnpChunkSize","LN2","bnSigNum","bnpToRadix","signum","cs","chunkSize","intValue","bnpFromRadix","dMultiply","dAddOffset","bnpFromNumber","testBit","bitwiseTo","shiftLeft","op_or","isProbablePrime","nextBytes","bnToByteArray","bnEquals","bnMin","bnMax","bnpBitwiseTo","op","f","op_and","bnAnd","bnOr","op_xor","bnXor","op_andnot","bnAndNot","bnNot","bnShiftLeft","bnShiftRight","lbit","bnGetLowestSetBit","cbit","bnBitCount","bnTestBit","bnpChangeBit","bnSetBit","changeBit","bnClearBit","bnFlipBit","bnpAddTo","bnAdd","addTo","bnSubtract","bnMultiply","bnSquare","bnDivide","bnRemainder","bnDivideAndRemainder","bnpDMultiply","bnpDAddOffset","NullExp","nNop","nMulTo","nSqrTo","bnPow","bnpMultiplyLowerTo","bnpMultiplyUpperTo","Barrett","q3","mu","divide","barrettConvert","barrettRevert","barrettReduce","multiplyUpperTo","multiplyLowerTo","barrettSqrTo","barrettMulTo","bnModPow","k1","g2","is1","bnGCD","clone","getLowestSetBit","bnpModInt","bnModInverse","u","subtract","modPowInt","lowprimes","lplim","bnIsProbablePrime","modInt","millerRabin","bnpMillerRabin","n1","shiftRight","modPow","byteValue","shortValue","toByteArray","equals","and","xor","andNot","not","bitCount","setBit","clearBit","flipBit","multiply","remainder","divideAndRemainder","modInverse","gcd","square","SRPClient","username","password","group","hashFn","initVal","initVals","N","gBn","one","two","toHexString","bi","padLeft","orig","join","bytesToHex","bytes","hexToBytes","match","stringToBytes","bytesToString","byteArr","toHash","paddedHash","calculateX","saltHex","usernameBytes","passwordBytes","upBytes","upHash","upHashBytes","saltUpBytes","saltUpHash","xtmp","calculateV","salt","calculateU","A","B","canCalculateA","calculateA","calculateM1","K","hashN","hexHash","hashg","hashUsername","xorNg_bytes","hashN_bytes","hashg_bytes","toHash_str","calculateM","calculateM2","B_or_M","calculateS","uu","aa","bx","calculateK","S","srpRandom","randomHexSalt","array","nlen","nZeros","toLowerCase","pack","ascii","1024","1536","2048","3072","4096","6144","8192","calculateB","calculateServerS","lib$es6$promise$utils$$isFunction","lib$es6$promise$asap$$vertxNext","lib$es6$promise$asap$$customSchedulerFn","lib$es6$promise$utils$$isArray","lib$es6$promise$asap$$len","lib$es6$promise$asap$$asap","lib$es6$promise$asap$$queue","lib$es6$promise$asap$$flush","lib$es6$promise$asap$$scheduleFlush","lib$es6$promise$asap$$browserWindow","lib$es6$promise$asap$$browserGlobal","lib$es6$promise$asap$$BrowserMutationObserver","MutationObserver","WebKitMutationObserver","lib$es6$promise$asap$$isNode","lib$es6$promise$asap$$isWorker","Uint8ClampedArray","importScripts","MessageChannel","lib$es6$promise$asap$$useSetTimeout","lib$es6$promise$$internal$$noop","iterations","observer","node","createTextNode","observe","characterData","lib$es6$promise$asap$$useMutationObserver","channel","port1","onmessage","port2","postMessage","lib$es6$promise$asap$$useMessageChannel","vertx","runOnLoop","runOnContext","lib$es6$promise$asap$$attemptVertx","lib$es6$promise$$internal$$PENDING","lib$es6$promise$$internal$$GET_THEN_ERROR","lib$es6$promise$$internal$$ErrorObject","lib$es6$promise$$internal$$handleMaybeThenable","promise","maybeThenable","constructor","thenable","_state","lib$es6$promise$$internal$$fulfill","_result","lib$es6$promise$$internal$$reject","lib$es6$promise$$internal$$subscribe","lib$es6$promise$$internal$$resolve","reason","lib$es6$promise$$internal$$handleOwnThenable","lib$es6$promise$$internal$$getThen","sealed","fulfillmentHandler","rejectionHandler","lib$es6$promise$$internal$$tryThen","_label","lib$es6$promise$$internal$$handleForeignThenable","TypeError","lib$es6$promise$$internal$$publishRejection","_onerror","lib$es6$promise$$internal$$publish","_subscribers","parent","child","onFulfillment","onRejection","subscribers","settled","detail","lib$es6$promise$$internal$$invokeCallback","lib$es6$promise$$internal$$TRY_CATCH_ERROR","succeeded","failed","hasCallback","lib$es6$promise$$internal$$tryCatch","lib$es6$promise$enumerator$$Enumerator","Constructor","enumerator","_instanceConstructor","_validateInput","_input","_remaining","_enumerate","_validationError","lib$es6$promise$enumerator$$default","_eachEntry","entry","_settledAt","_willSettleAt","resolve","state","lib$es6$promise$promise$all$$default","entries","lib$es6$promise$promise$race$$default","lib$es6$promise$promise$resolve$$default","lib$es6$promise$promise$reject$$default","lib$es6$promise$promise$$counter","lib$es6$promise$promise$$default","lib$es6$promise$promise$$Promise","resolver","_id","lib$es6$promise$promise$$needsResolver","lib$es6$promise$promise$$needsNew","lib$es6$promise$$internal$$initializePromise","race","_setScheduler","scheduleFn","_setAsap","asapFn","_asap","lib$es6$promise$polyfill$$default","local","Function","P","Promise","cast","lib$es6$promise$umd$$ES6Promise","core","WebSdk","debug","version","WebSdkEncryptionSupport","None","Encoding","Encryption","AESEncryption","WebSdkDataSupport","Binary","getQueryParam","url","RegExp","exec","ajax","method","xhr","XMLHttpRequest","open","responseType","setRequestHeader","onreadystatechange","readyState","DONE","status","responseText","parse","urlEncodedData","urlEncodedDataPairs","send","defer","deferred","Deferred","create","tryParseJson","FixedQueue","maxSize","m_items","m_maxSize","defineProperty","get","enumerable","configurable","trimHead","trimTail","utils","Configurator","m_key","sessionData","sessionStorage","getItem","m_port","port","m_host","host","m_isSecure","isSecure","m_srp","srp","set","setItem","ensureLoaded","uri","endpoint","tryParse","catch","connectionString","urlEl","createElement","href","search","hostname","p1","p2","WebSdkAESVersion","WebSdkAESDataType","UnicodeString","UTF8String","utf8ToBase64","binstr","utf8ToBinaryString","btoa","base64ToUtf8","b64","binaryStringToUtf8","atob","escstr","code","toUpperCase","keyCharAt","getHdr","dv","DataView","getUint8","getUint32","offset","getUint16","setHdr","setUint8","setUint32","byteLength","setUint16","ab2str","blob","Blob","fileReader","FileReader","onload","event","onerror","readAsText","str2ab","ArrayBuffer","bufView","Uint16Array","strLen","binary2ab","bin","bufSrc","generateKey","rawKey","usages","extractable","subtle","importKey","iv","msGenerateKey","keyOpp","oncomplete","msEncrypt","encOpp","msDecrypt","decOpp","encryptAES","decryptAES","hexToArray","promisefy","M1","AESDecryption","hdr","encode","decode","isCryptoSupported","WebChannelOptions","options","validateVersion","supportedVersion","defineProperties","ES6Promise","configurator","WebChannelClientImpl","clientPath","wsThreshold","wsQueueInterval","wsQueueLimit","wsReconnectInterval","queueInterval","webSocket","sessionKey","reconnectTimer","onConnectionFailed","onConnectionSucceed","onDataReceivedBin","onDataReceivedTxt","resetReconnectTimer","notifyFocusChanged","isFocused","isConnected","sendData","fireConnectionFailed","hasFocus","setReconnectTimer","fireConnectionSucceed","clearInterval","setInterval","connectInternal","wsconnect","$q","WebSocket","CLOSED","binaryType","onclose","wsonclose","onopen","wsonmessage","wsdisconnect","OPEN","close","isFailed","deactivateBufferCheck","wssend","bufferedAmount","activateBufferCheck","generateSessionKey","srpData","setupSecureChannel","connectionUrl","sessionId","processMessageQueue","multipleAttempts","connect","disconnect","sendDataBin","sendDataTxt","WebChannelClient","webChannelOptions","client","reportWebVitals","onPerfEntry","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.5371536e.chunk.js","sourcesContent":["import logo from \"./logo.svg\"\r\nimport React, { useEffect, useState, useRef } from \"react\"\r\nimport { Credential, BioSample } from \"@digitalpersona/core\"\r\nimport { FingerprintsAuth, FaceAuth } from \"@digitalpersona/authentication\"\r\nimport { ServiceError, AuthService } from \"@digitalpersona/services\"\r\nimport {\r\n  FingerprintReader,\r\n  QualityCode,\r\n  ErrorOccurred,\r\n  SampleFormat\r\n} from \"@digitalpersona/devices\"\r\nimport \"./App.css\"\r\nimport axios from 'axios';\r\nimport jwt_decode from \"jwt-decode\";\r\nimport Canvas from \"./Canvas\"\r\nfunction App() {\r\n  const faceSDK = window.faceSDK;\r\n  const host = \"sdk.techinoviq.com\"\r\n  const reader = new FingerprintReader()\r\n  const [scanStart, setScanStart] = useState(false);\r\n  const [userName, setUserName] = useState(\"dinesh@dpdemo.com\");\r\n  const [readerConnected, setreaderConnected] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n  const canvasRef = useRef(null)\r\n  const videoRef = useRef(null)\r\n  useEffect(() => {\r\n    // (device) => {\r\n    //   reader.onDeviceConnected()\r\n    // }\r\n    getConnectedDevices()\r\n    // checkDeviceStatus()\r\n    setreaderConnected(true)\r\n    // capture()\r\n  }, [])\r\n\r\n  const canvas = canvasRef.current\r\n  const video = videoRef.current\r\n  useEffect(() => {\r\n    // const canvas = canvasRef.current\r\n    // const context = canvas.getContext('2d')\r\n\r\n    //Our first draw\r\n    // context.fillStyle = '#000000'\r\n    // context.fillRect(0, 0, context.canvas.width, context.canvas.height)\r\n  }, [])\r\n\r\n  const successCallBack = () => {\r\n    console.log(\"success\")\r\n  }\r\n  const errCallBack = (e) => {\r\n      console.log(e)\r\n  }\r\n  const progressCallBack = () => {\r\n      console.log(\"progress\")\r\n  }\r\nif(canvas) {\r\n// console.log(canvas.getContext('2d'))\r\n  // faceSDK.getAvailableDevices().then(data => console.log(data))\r\n  // faceSDK.capture();\r\n  try {\r\n\r\n    faceSDK.init(null, null, canvas, canvas, null, successCallBack, errCallBack, progressCallBack);\r\n  } catch (e) {\r\nconsole.log(e)\r\n  }\r\n  // console.log(\"ere\")\r\n  // faceSDK.start();\r\n}\r\n\r\n  const getConnectedDevices = async () => {\r\n    try {      \r\n      const devices = await reader.enumerateDevices()\r\n      console.log(devices)\r\n      const myDevice = await reader.getDeviceInfo(devices[0])\r\n      console.log(myDevice)\r\n      // capture()\r\n    } catch (e) {\r\n      console.log(e)\r\n    }\r\n  }\r\n  \r\n  function setCookie(name,value,days) {\r\n    var expires = \"\";\r\n    if (days) {\r\n        var date = new Date();\r\n        date.setTime(date.getTime() + (days*24*60*60*1000));\r\n        expires = \"; expires=\" + date.toUTCString();\r\n    }\r\n    document.cookie = name + \"=\" + (value || \"\")  + expires + \"; path=/\";\r\n}\r\n  const submit = async (data) => {\r\n    try {\r\n      // const auth = new FingerprintsAuth(authService);\r\n      // console.log(data)\r\n      // const token = await auth.identify(data)\r\n\r\n      // console.log(token, \"token\")\r\n      console.log(JSON.stringify(data), \"Asdsa\")\r\n      const encodedData = Buffer.from(JSON.stringify(data)).toString('base64');\r\n      console.log(encodedData)\r\n      const res = await axios.post(`https://${host}/DPWebAuth/DPWebAuthService.svc/AuthenticateUser`, {\r\n        \r\n          user: {\r\n              name: userName,\r\n              type: 6\r\n          },\r\n          credential: {\r\n              id: \"AC184A13-60AB-40e5-A514-E10F777EC2F9\",\r\n              data: encodedData\r\n          }\r\n      \r\n      })\r\n      const token = res.data.AuthenticateUserResult.jwt\r\n      var decoded = jwt_decode(token);\r\n      console.log(decoded)\r\n      setCookie('credentials', userName)\r\n      window.location.replace(\"http://localhost:9089/BrowserWeb/servlet/BrowserServlet\")\r\n      // const token = auth.identify(BioSample[data])\r\n      // console.log(auth.identify(sample))\r\n      // setsamples({ samples: BioSample[data] })\r\n      console.log(\"fingerprint acquired\")\r\n    } catch (error) {\r\n      if (error?.message == \"Request failed with status code 404\") {\r\n        console.log(error?.response?.data, \"asdsa\")\r\n        setError(error?.response?.data)\r\n        capture();\r\n      }\r\n      console.log(error, \"error\")\r\n\r\n      // capture();\r\n    }\r\n  }\r\n\r\n  const checkDeviceStatus = async () => {\r\n    console.log(\"here\")\r\n    // reader.onDeviceConnected = async (device) => {\r\n    //   // await updateReaderStatus()\r\n    //   console.log(\"Device is connected\")\r\n    //   capture()\r\n    // }\r\n  }\r\n\r\n  reader.onDeviceDisconnected = async (device) => {\r\n    await updateReaderStatus()\r\n    console.log(\"device is diconnected\")\r\n  }\r\n  reader.onSamplesAcquired = async (data) => {\r\n    setError(\"\")\r\n    console.log(\"sampler equried\")\r\n    reader.stopAcquisition();\r\n    setScanStart(false)\r\n    submit(data.samples)\r\n  }\r\n  const updateReaderStatus = async () => {\r\n    try {\r\n      const devices = await reader.enumerateDevices()\r\n      setreaderConnected({ readerConnected: devices.length > 0 })\r\n    } catch (err) {\r\n      setreaderConnected({ readerConnected: false })\r\n    }\r\n  }\r\n  const capture = async () => {\r\n    if(userName != \"\") {\r\n      console.log(\"start scan\")\r\n      setScanStart(true);\r\n      try {\r\n        const res = await reader.startAcquisition(SampleFormat.Intermediate)\r\n        console.log(res, \"Res\")  \r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n    } else {\r\n      setError(\"Please type username\")\r\n    }\r\n    \r\n  }\r\n  return (\r\n    <div className=\"App\">\r\n      {/* <form className=\"enrollement-form\" onSubmit={submit}> */}\r\n      <button\r\n        className={\"primary btn\"}\r\n        style={{ width: \"200px\", margin: \"0 auto\", marginBottom: \"30px\" }}\r\n        onClick={() => capture()}\r\n        type=\"button\"\r\n      >\r\n        Capture Fingerprint\r\n      </button>\r\n      <input type=\"text\" value={userName} onChange={(e) => setUserName(e.target.value)} /> \r\n      <>\r\n      {scanStart ? <p>Please scan your fingeprint</p> : <></>}\r\n      {error ? \r\n      <>\r\n      <h3>Error</h3>\r\n      <p>Description:</p>\r\n      <p>{error.description}</p>\r\n      <p>Error code:</p>\r\n      <p>{error.error_code}</p>\r\n      </>\r\n       : <p></p>}\r\n      </>\r\n      <Canvas canvasRef={canvasRef} />\r\n      <video width=\"320\" height=\"240\" ref={videoRef} />\r\n      {/* </form> */}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\r\n","\r\nimport React, { useRef, useEffect } from 'react'\r\n\r\nconst Canvas = ({canvasRef}) => {\r\n  \r\n  return <canvas ref={canvasRef} />\r\n}\r\n\r\nexport default Canvas","export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","/* eslint-disable */\r\n/*!\r\n * async\r\n * https://github.com/caolan/async\r\n *\r\n * Copyright 2010-2014 Caolan McMahon\r\n * Released under the MIT license\r\n */\r\n;(function () {\r\n\r\n    var async = {};\r\n    function noop() {}\r\n    function identity(v) {\r\n        return v;\r\n    }\r\n    function toBool(v) {\r\n        return !!v;\r\n    }\r\n    function notId(v) {\r\n        return !v;\r\n    }\r\n\r\n    // global on the server, window in the browser\r\n    var previous_async;\r\n\r\n    // Establish the root object, `window` (`self`) in the browser, `global`\r\n    // on the server, or `this` in some virtual machines. We use `self`\r\n    // instead of `window` for `WebWorker` support.\r\n    var root = typeof self === 'object' && self === self && self ||\r\n            typeof global === 'object' && global.global === global && global ||\r\n            this;\r\n\r\n    if (root != null) {\r\n        previous_async = root.async;\r\n    }\r\n\r\n    async.noConflict = function () {\r\n        root.async = previous_async;\r\n        return async;\r\n    };\r\n\r\n    function only_once(fn) {\r\n        return function() {\r\n            if (fn === null) throw new Error(\"Callback was already called.\");\r\n            fn.apply(this, arguments);\r\n            fn = null;\r\n        };\r\n    }\r\n\r\n    function _once(fn) {\r\n        return function() {\r\n            if (fn === null) return;\r\n            fn.apply(this, arguments);\r\n            fn = null;\r\n        };\r\n    }\r\n\r\n    //// cross-browser compatiblity functions ////\r\n\r\n    var _toString = Object.prototype.toString;\r\n\r\n    var _isArray = Array.isArray || function (obj) {\r\n        return _toString.call(obj) === '[object Array]';\r\n    };\r\n\r\n    // Ported from underscore.js isObject\r\n    var _isObject = function(obj) {\r\n        var type = typeof obj;\r\n        return type === 'function' || type === 'object' && !!obj;\r\n    };\r\n\r\n    function _isArrayLike(arr) {\r\n        return _isArray(arr) || (\r\n            // has a positive integer length property\r\n            typeof arr.length === \"number\" &&\r\n            arr.length >= 0 &&\r\n            arr.length % 1 === 0\r\n        );\r\n    }\r\n\r\n    function _arrayEach(arr, iterator) {\r\n        var index = -1,\r\n            length = arr.length;\r\n\r\n        while (++index < length) {\r\n            iterator(arr[index], index, arr);\r\n        }\r\n    }\r\n\r\n    function _map(arr, iterator) {\r\n        var index = -1,\r\n            length = arr.length,\r\n            result = Array(length);\r\n\r\n        while (++index < length) {\r\n            result[index] = iterator(arr[index], index, arr);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    function _range(count) {\r\n        return _map(Array(count), function (v, i) { return i; });\r\n    }\r\n\r\n    function _reduce(arr, iterator, memo) {\r\n        _arrayEach(arr, function (x, i, a) {\r\n            memo = iterator(memo, x, i, a);\r\n        });\r\n        return memo;\r\n    }\r\n\r\n    function _forEachOf(object, iterator) {\r\n        _arrayEach(_keys(object), function (key) {\r\n            iterator(object[key], key);\r\n        });\r\n    }\r\n\r\n    function _indexOf(arr, item) {\r\n        for (var i = 0; i < arr.length; i++) {\r\n            if (arr[i] === item) return i;\r\n        }\r\n        return -1;\r\n    }\r\n\r\n    var _keys = Object.keys || function (obj) {\r\n        var keys = [];\r\n        for (var k in obj) {\r\n            if (obj.hasOwnProperty(k)) {\r\n                keys.push(k);\r\n            }\r\n        }\r\n        return keys;\r\n    };\r\n\r\n    function _keyIterator(coll) {\r\n        var i = -1;\r\n        var len;\r\n        var keys;\r\n        if (_isArrayLike(coll)) {\r\n            len = coll.length;\r\n            return function next() {\r\n                i++;\r\n                return i < len ? i : null;\r\n            };\r\n        } else {\r\n            keys = _keys(coll);\r\n            len = keys.length;\r\n            return function next() {\r\n                i++;\r\n                return i < len ? keys[i] : null;\r\n            };\r\n        }\r\n    }\r\n\r\n    // Similar to ES6's rest param (http://ariya.ofilabs.com/2013/03/es6-and-rest-parameter.html)\r\n    // This accumulates the arguments passed into an array, after a given index.\r\n    // From underscore.js (https://github.com/jashkenas/underscore/pull/2140).\r\n    function _restParam(func, startIndex) {\r\n        startIndex = startIndex == null ? func.length - 1 : +startIndex;\r\n        return function() {\r\n            var length = Math.max(arguments.length - startIndex, 0);\r\n            var rest = Array(length);\r\n            for (var index = 0; index < length; index++) {\r\n                rest[index] = arguments[index + startIndex];\r\n            }\r\n            switch (startIndex) {\r\n                case 0: return func.call(this, rest);\r\n                case 1: return func.call(this, arguments[0], rest);\r\n            }\r\n            // Currently unused but handle cases outside of the switch statement:\r\n            // var args = Array(startIndex + 1);\r\n            // for (index = 0; index < startIndex; index++) {\r\n            //     args[index] = arguments[index];\r\n            // }\r\n            // args[startIndex] = rest;\r\n            // return func.apply(this, args);\r\n        };\r\n    }\r\n\r\n    function _withoutIndex(iterator) {\r\n        return function (value, index, callback) {\r\n            return iterator(value, callback);\r\n        };\r\n    }\r\n\r\n    //// exported async module functions ////\r\n\r\n    //// nextTick implementation with browser-compatible fallback ////\r\n\r\n    // capture the global reference to guard against fakeTimer mocks\r\n    var _setImmediate = typeof setImmediate === 'function' && setImmediate;\r\n\r\n    var _delay = _setImmediate ? function(fn) {\r\n        // not a direct alias for IE10 compatibility\r\n        _setImmediate(fn);\r\n    } : function(fn) {\r\n        setTimeout(function() {\r\n            fn();\r\n        }, 0);\r\n    };\r\n\r\n    if (typeof process === 'object' && typeof process.nextTick === 'function') {\r\n        async.nextTick = process.nextTick;\r\n    } else {\r\n        async.nextTick = _delay;\r\n    }\r\n    async.setImmediate = _setImmediate ? _delay : async.nextTick;\r\n\r\n\r\n    async.forEach =\r\n    async.each = function (arr, iterator, callback) {\r\n        return async.eachOf(arr, _withoutIndex(iterator), callback);\r\n    };\r\n\r\n    async.forEachSeries =\r\n    async.eachSeries = function (arr, iterator, callback) {\r\n        return async.eachOfSeries(arr, _withoutIndex(iterator), callback);\r\n    };\r\n\r\n\r\n    async.forEachLimit =\r\n    async.eachLimit = function (arr, limit, iterator, callback) {\r\n        return _eachOfLimit(limit)(arr, _withoutIndex(iterator), callback);\r\n    };\r\n\r\n    async.forEachOf =\r\n    async.eachOf = function (object, iterator, callback) {\r\n        callback = _once(callback || noop);\r\n        object = object || [];\r\n\r\n        var iter = _keyIterator(object);\r\n        var key, completed = 0;\r\n\r\n        while ((key = iter()) != null) {\r\n            completed += 1;\r\n            iterator(object[key], key, only_once(done));\r\n        }\r\n\r\n        if (completed === 0) callback(null);\r\n\r\n        function done(err) {\r\n            completed--;\r\n            if (err) {\r\n                callback(err);\r\n            }\r\n            // Check key is null in case iterator isn't exhausted\r\n            // and done resolved synchronously.\r\n            else if (key === null && completed <= 0) {\r\n                callback(null);\r\n            }\r\n        }\r\n    };\r\n\r\n    async.forEachOfSeries =\r\n    async.eachOfSeries = function (obj, iterator, callback) {\r\n        callback = _once(callback || noop);\r\n        obj = obj || [];\r\n        var nextKey = _keyIterator(obj);\r\n        var key = nextKey();\r\n        function iterate() {\r\n            var sync = true;\r\n            if (key === null) {\r\n                return callback(null);\r\n            }\r\n            iterator(obj[key], key, only_once(function (err) {\r\n                if (err) {\r\n                    callback(err);\r\n                }\r\n                else {\r\n                    key = nextKey();\r\n                    if (key === null) {\r\n                        return callback(null);\r\n                    } else {\r\n                        if (sync) {\r\n                            async.setImmediate(iterate);\r\n                        } else {\r\n                            iterate();\r\n                        }\r\n                    }\r\n                }\r\n            }));\r\n            sync = false;\r\n        }\r\n        iterate();\r\n    };\r\n\r\n\r\n\r\n    async.forEachOfLimit =\r\n    async.eachOfLimit = function (obj, limit, iterator, callback) {\r\n        _eachOfLimit(limit)(obj, iterator, callback);\r\n    };\r\n\r\n    function _eachOfLimit(limit) {\r\n\r\n        return function (obj, iterator, callback) {\r\n            callback = _once(callback || noop);\r\n            obj = obj || [];\r\n            var nextKey = _keyIterator(obj);\r\n            if (limit <= 0) {\r\n                return callback(null);\r\n            }\r\n            var done = false;\r\n            var running = 0;\r\n            var errored = false;\r\n\r\n            (function replenish () {\r\n                if (done && running <= 0) {\r\n                    return callback(null);\r\n                }\r\n\r\n                while (running < limit && !errored) {\r\n                    var key = nextKey();\r\n                    if (key === null) {\r\n                        done = true;\r\n                        if (running <= 0) {\r\n                            callback(null);\r\n                        }\r\n                        return;\r\n                    }\r\n                    running += 1;\r\n                    iterator(obj[key], key, only_once(function (err) {\r\n                        running -= 1;\r\n                        if (err) {\r\n                            callback(err);\r\n                            errored = true;\r\n                        }\r\n                        else {\r\n                            replenish();\r\n                        }\r\n                    }));\r\n                }\r\n            })();\r\n        };\r\n    }\r\n\r\n\r\n    function doParallel(fn) {\r\n        return function (obj, iterator, callback) {\r\n            return fn(async.eachOf, obj, iterator, callback);\r\n        };\r\n    }\r\n    function doParallelLimit(fn) {\r\n        return function (obj, limit, iterator, callback) {\r\n            return fn(_eachOfLimit(limit), obj, iterator, callback);\r\n        };\r\n    }\r\n    function doSeries(fn) {\r\n        return function (obj, iterator, callback) {\r\n            return fn(async.eachOfSeries, obj, iterator, callback);\r\n        };\r\n    }\r\n\r\n    function _asyncMap(eachfn, arr, iterator, callback) {\r\n        callback = _once(callback || noop);\r\n        arr = arr || [];\r\n        var results = _isArrayLike(arr) ? [] : {};\r\n        eachfn(arr, function (value, index, callback) {\r\n            iterator(value, function (err, v) {\r\n                results[index] = v;\r\n                callback(err);\r\n            });\r\n        }, function (err) {\r\n            callback(err, results);\r\n        });\r\n    }\r\n\r\n    async.map = doParallel(_asyncMap);\r\n    async.mapSeries = doSeries(_asyncMap);\r\n    async.mapLimit = doParallelLimit(_asyncMap);\r\n\r\n    // reduce only has a series version, as doing reduce in parallel won't\r\n    // work in many situations.\r\n    async.inject =\r\n    async.foldl =\r\n    async.reduce = function (arr, memo, iterator, callback) {\r\n        async.eachOfSeries(arr, function (x, i, callback) {\r\n            iterator(memo, x, function (err, v) {\r\n                memo = v;\r\n                callback(err);\r\n            });\r\n        }, function (err) {\r\n            callback(err, memo);\r\n        });\r\n    };\r\n\r\n    async.foldr =\r\n    async.reduceRight = function (arr, memo, iterator, callback) {\r\n        var reversed = _map(arr, identity).reverse();\r\n        async.reduce(reversed, memo, iterator, callback);\r\n    };\r\n\r\n    async.transform = function (arr, memo, iterator, callback) {\r\n        if (arguments.length === 3) {\r\n            callback = iterator;\r\n            iterator = memo;\r\n            memo = _isArray(arr) ? [] : {};\r\n        }\r\n\r\n        async.eachOf(arr, function(v, k, cb) {\r\n            iterator(memo, v, k, cb);\r\n        }, function(err) {\r\n            callback(err, memo);\r\n        });\r\n    };\r\n\r\n    function _filter(eachfn, arr, iterator, callback) {\r\n        var results = [];\r\n        eachfn(arr, function (x, index, callback) {\r\n            iterator(x, function (v) {\r\n                if (v) {\r\n                    results.push({index: index, value: x});\r\n                }\r\n                callback();\r\n            });\r\n        }, function () {\r\n            callback(_map(results.sort(function (a, b) {\r\n                return a.index - b.index;\r\n            }), function (x) {\r\n                return x.value;\r\n            }));\r\n        });\r\n    }\r\n\r\n    async.select =\r\n    async.filter = doParallel(_filter);\r\n\r\n    async.selectLimit =\r\n    async.filterLimit = doParallelLimit(_filter);\r\n\r\n    async.selectSeries =\r\n    async.filterSeries = doSeries(_filter);\r\n\r\n    function _reject(eachfn, arr, iterator, callback) {\r\n        _filter(eachfn, arr, function(value, cb) {\r\n            iterator(value, function(v) {\r\n                cb(!v);\r\n            });\r\n        }, callback);\r\n    }\r\n    async.reject = doParallel(_reject);\r\n    async.rejectLimit = doParallelLimit(_reject);\r\n    async.rejectSeries = doSeries(_reject);\r\n\r\n    function _createTester(eachfn, check, getResult) {\r\n        return function(arr, limit, iterator, cb) {\r\n            function done() {\r\n                if (cb) cb(getResult(false, void 0));\r\n            }\r\n            function iteratee(x, _, callback) {\r\n                if (!cb) return callback();\r\n                iterator(x, function (v) {\r\n                    if (cb && check(v)) {\r\n                        cb(getResult(true, x));\r\n                        cb = iterator = false;\r\n                    }\r\n                    callback();\r\n                });\r\n            }\r\n            if (arguments.length > 3) {\r\n                eachfn(arr, limit, iteratee, done);\r\n            } else {\r\n                cb = iterator;\r\n                iterator = limit;\r\n                eachfn(arr, iteratee, done);\r\n            }\r\n        };\r\n    }\r\n\r\n    async.any =\r\n    async.some = _createTester(async.eachOf, toBool, identity);\r\n\r\n    async.someLimit = _createTester(async.eachOfLimit, toBool, identity);\r\n\r\n    async.all =\r\n    async.every = _createTester(async.eachOf, notId, notId);\r\n\r\n    async.everyLimit = _createTester(async.eachOfLimit, notId, notId);\r\n\r\n    function _findGetResult(v, x) {\r\n        return x;\r\n    }\r\n    async.detect = _createTester(async.eachOf, identity, _findGetResult);\r\n    async.detectSeries = _createTester(async.eachOfSeries, identity, _findGetResult);\r\n    async.detectLimit = _createTester(async.eachOfLimit, identity, _findGetResult);\r\n\r\n    async.sortBy = function (arr, iterator, callback) {\r\n        async.map(arr, function (x, callback) {\r\n            iterator(x, function (err, criteria) {\r\n                if (err) {\r\n                    callback(err);\r\n                }\r\n                else {\r\n                    callback(null, {value: x, criteria: criteria});\r\n                }\r\n            });\r\n        }, function (err, results) {\r\n            if (err) {\r\n                return callback(err);\r\n            }\r\n            else {\r\n                callback(null, _map(results.sort(comparator), function (x) {\r\n                    return x.value;\r\n                }));\r\n            }\r\n\r\n        });\r\n\r\n        function comparator(left, right) {\r\n            var a = left.criteria, b = right.criteria;\r\n            return a < b ? -1 : a > b ? 1 : 0;\r\n        }\r\n    };\r\n\r\n    async.auto = function (tasks, concurrency, callback) {\r\n        if (!callback) {\r\n            // concurrency is optional, shift the args.\r\n            callback = concurrency;\r\n            concurrency = null;\r\n        }\r\n        callback = _once(callback || noop);\r\n        var keys = _keys(tasks);\r\n        var remainingTasks = keys.length;\r\n        if (!remainingTasks) {\r\n            return callback(null);\r\n        }\r\n        if (!concurrency) {\r\n            concurrency = remainingTasks;\r\n        }\r\n\r\n        var results = {};\r\n        var runningTasks = 0;\r\n\r\n        var listeners = [];\r\n        function addListener(fn) {\r\n            listeners.unshift(fn);\r\n        }\r\n        function removeListener(fn) {\r\n            var idx = _indexOf(listeners, fn);\r\n            if (idx >= 0) listeners.splice(idx, 1);\r\n        }\r\n        function taskComplete() {\r\n            remainingTasks--;\r\n            _arrayEach(listeners.slice(0), function (fn) {\r\n                fn();\r\n            });\r\n        }\r\n\r\n        addListener(function () {\r\n            if (!remainingTasks) {\r\n                callback(null, results);\r\n            }\r\n        });\r\n\r\n        _arrayEach(keys, function (k) {\r\n            var task = _isArray(tasks[k]) ? tasks[k]: [tasks[k]];\r\n            var taskCallback = _restParam(function(err, args) {\r\n                runningTasks--;\r\n                if (args.length <= 1) {\r\n                    args = args[0];\r\n                }\r\n                if (err) {\r\n                    var safeResults = {};\r\n                    _forEachOf(results, function(val, rkey) {\r\n                        safeResults[rkey] = val;\r\n                    });\r\n                    safeResults[k] = args;\r\n                    callback(err, safeResults);\r\n                }\r\n                else {\r\n                    results[k] = args;\r\n                    async.setImmediate(taskComplete);\r\n                }\r\n            });\r\n            var requires = task.slice(0, task.length - 1);\r\n            // prevent dead-locks\r\n            var len = requires.length;\r\n            var dep;\r\n            while (len--) {\r\n                if (!(dep = tasks[requires[len]])) {\r\n                    throw new Error('Has inexistant dependency');\r\n                }\r\n                if (_isArray(dep) && _indexOf(dep, k) >= 0) {\r\n                    throw new Error('Has cyclic dependencies');\r\n                }\r\n            }\r\n            function ready() {\r\n                return runningTasks < concurrency && _reduce(requires, function (a, x) {\r\n                    return (a && results.hasOwnProperty(x));\r\n                }, true) && !results.hasOwnProperty(k);\r\n            }\r\n            if (ready()) {\r\n                runningTasks++;\r\n                task[task.length - 1](taskCallback, results);\r\n            }\r\n            else {\r\n                addListener(listener);\r\n            }\r\n            function listener() {\r\n                if (ready()) {\r\n                    runningTasks++;\r\n                    removeListener(listener);\r\n                    task[task.length - 1](taskCallback, results);\r\n                }\r\n            }\r\n        });\r\n    };\r\n\r\n\r\n\r\n    async.retry = function(times, task, callback) {\r\n        var DEFAULT_TIMES = 5;\r\n        var DEFAULT_INTERVAL = 0;\r\n\r\n        var attempts = [];\r\n\r\n        var opts = {\r\n            times: DEFAULT_TIMES,\r\n            interval: DEFAULT_INTERVAL\r\n        };\r\n\r\n        function parseTimes(acc, t){\r\n            if(typeof t === 'number'){\r\n                acc.times = parseInt(t, 10) || DEFAULT_TIMES;\r\n            } else if(typeof t === 'object'){\r\n                acc.times = parseInt(t.times, 10) || DEFAULT_TIMES;\r\n                acc.interval = parseInt(t.interval, 10) || DEFAULT_INTERVAL;\r\n            } else {\r\n                throw new Error('Unsupported argument type for \\'times\\': ' + typeof t);\r\n            }\r\n        }\r\n\r\n        var length = arguments.length;\r\n        if (length < 1 || length > 3) {\r\n            throw new Error('Invalid arguments - must be either (task), (task, callback), (times, task) or (times, task, callback)');\r\n        } else if (length <= 2 && typeof times === 'function') {\r\n            callback = task;\r\n            task = times;\r\n        }\r\n        if (typeof times !== 'function') {\r\n            parseTimes(opts, times);\r\n        }\r\n        opts.callback = callback;\r\n        opts.task = task;\r\n\r\n        function wrappedTask(wrappedCallback, wrappedResults) {\r\n            function retryAttempt(task, finalAttempt) {\r\n                return function(seriesCallback) {\r\n                    task(function(err, result){\r\n                        seriesCallback(!err || finalAttempt, {err: err, result: result});\r\n                    }, wrappedResults);\r\n                };\r\n            }\r\n\r\n            function retryInterval(interval){\r\n                return function(seriesCallback){\r\n                    setTimeout(function(){\r\n                        seriesCallback(null);\r\n                    }, interval);\r\n                };\r\n            }\r\n\r\n            while (opts.times) {\r\n\r\n                var finalAttempt = !(opts.times-=1);\r\n                attempts.push(retryAttempt(opts.task, finalAttempt));\r\n                if(!finalAttempt && opts.interval > 0){\r\n                    attempts.push(retryInterval(opts.interval));\r\n                }\r\n            }\r\n\r\n            async.series(attempts, function(done, data){\r\n                data = data[data.length - 1];\r\n                (wrappedCallback || opts.callback)(data.err, data.result);\r\n            });\r\n        }\r\n\r\n        // If a callback is passed, run this as a controll flow\r\n        return opts.callback ? wrappedTask() : wrappedTask;\r\n    };\r\n\r\n    async.waterfall = function (tasks, callback) {\r\n        callback = _once(callback || noop);\r\n        if (!_isArray(tasks)) {\r\n            var err = new Error('First argument to waterfall must be an array of functions');\r\n            return callback(err);\r\n        }\r\n        if (!tasks.length) {\r\n            return callback();\r\n        }\r\n        function wrapIterator(iterator) {\r\n            return _restParam(function (err, args) {\r\n                if (err) {\r\n                    callback.apply(null, [err].concat(args));\r\n                }\r\n                else {\r\n                    var next = iterator.next();\r\n                    if (next) {\r\n                        args.push(wrapIterator(next));\r\n                    }\r\n                    else {\r\n                        args.push(callback);\r\n                    }\r\n                    ensureAsync(iterator).apply(null, args);\r\n                }\r\n            });\r\n        }\r\n        wrapIterator(async.iterator(tasks))();\r\n    };\r\n\r\n    function _parallel(eachfn, tasks, callback) {\r\n        callback = callback || noop;\r\n        var results = _isArrayLike(tasks) ? [] : {};\r\n\r\n        eachfn(tasks, function (task, key, callback) {\r\n            task(_restParam(function (err, args) {\r\n                if (args.length <= 1) {\r\n                    args = args[0];\r\n                }\r\n                results[key] = args;\r\n                callback(err);\r\n            }));\r\n        }, function (err) {\r\n            callback(err, results);\r\n        });\r\n    }\r\n\r\n    async.parallel = function (tasks, callback) {\r\n        _parallel(async.eachOf, tasks, callback);\r\n    };\r\n\r\n    async.parallelLimit = function(tasks, limit, callback) {\r\n        _parallel(_eachOfLimit(limit), tasks, callback);\r\n    };\r\n\r\n    async.series = function(tasks, callback) {\r\n        _parallel(async.eachOfSeries, tasks, callback);\r\n    };\r\n\r\n    async.iterator = function (tasks) {\r\n        function makeCallback(index) {\r\n            function fn() {\r\n                if (tasks.length) {\r\n                    tasks[index].apply(null, arguments);\r\n                }\r\n                return fn.next();\r\n            }\r\n            fn.next = function () {\r\n                return (index < tasks.length - 1) ? makeCallback(index + 1): null;\r\n            };\r\n            return fn;\r\n        }\r\n        return makeCallback(0);\r\n    };\r\n\r\n    async.apply = _restParam(function (fn, args) {\r\n        return _restParam(function (callArgs) {\r\n            return fn.apply(\r\n                null, args.concat(callArgs)\r\n            );\r\n        });\r\n    });\r\n\r\n    function _concat(eachfn, arr, fn, callback) {\r\n        var result = [];\r\n        eachfn(arr, function (x, index, cb) {\r\n            fn(x, function (err, y) {\r\n                result = result.concat(y || []);\r\n                cb(err);\r\n            });\r\n        }, function (err) {\r\n            callback(err, result);\r\n        });\r\n    }\r\n    async.concat = doParallel(_concat);\r\n    async.concatSeries = doSeries(_concat);\r\n\r\n    async.whilst = function (test, iterator, callback) {\r\n        callback = callback || noop;\r\n        if (test()) {\r\n            var next = _restParam(function(err, args) {\r\n                if (err) {\r\n                    callback(err);\r\n                } else if (test.apply(this, args)) {\r\n                    iterator(next);\r\n                } else {\r\n                    callback(null);\r\n                }\r\n            });\r\n            iterator(next);\r\n        } else {\r\n            callback(null);\r\n        }\r\n    };\r\n\r\n    async.doWhilst = function (iterator, test, callback) {\r\n        var calls = 0;\r\n        return async.whilst(function() {\r\n            return ++calls <= 1 || test.apply(this, arguments);\r\n        }, iterator, callback);\r\n    };\r\n\r\n    async.until = function (test, iterator, callback) {\r\n        return async.whilst(function() {\r\n            return !test.apply(this, arguments);\r\n        }, iterator, callback);\r\n    };\r\n\r\n    async.doUntil = function (iterator, test, callback) {\r\n        return async.doWhilst(iterator, function() {\r\n            return !test.apply(this, arguments);\r\n        }, callback);\r\n    };\r\n\r\n    async.during = function (test, iterator, callback) {\r\n        callback = callback || noop;\r\n\r\n        var next = _restParam(function(err, args) {\r\n            if (err) {\r\n                callback(err);\r\n            } else {\r\n                args.push(check);\r\n                test.apply(this, args);\r\n            }\r\n        });\r\n\r\n        var check = function(err, truth) {\r\n            if (err) {\r\n                callback(err);\r\n            } else if (truth) {\r\n                iterator(next);\r\n            } else {\r\n                callback(null);\r\n            }\r\n        };\r\n\r\n        test(check);\r\n    };\r\n\r\n    async.doDuring = function (iterator, test, callback) {\r\n        var calls = 0;\r\n        async.during(function(next) {\r\n            if (calls++ < 1) {\r\n                next(null, true);\r\n            } else {\r\n                test.apply(this, arguments);\r\n            }\r\n        }, iterator, callback);\r\n    };\r\n\r\n    function _queue(worker, concurrency, payload) {\r\n        if (concurrency == null) {\r\n            concurrency = 1;\r\n        }\r\n        else if(concurrency === 0) {\r\n            throw new Error('Concurrency must not be zero');\r\n        }\r\n        function _insert(q, data, pos, callback) {\r\n            if (callback != null && typeof callback !== \"function\") {\r\n                throw new Error(\"task callback must be a function\");\r\n            }\r\n            q.started = true;\r\n            if (!_isArray(data)) {\r\n                data = [data];\r\n            }\r\n            if(data.length === 0 && q.idle()) {\r\n                // call drain immediately if there are no tasks\r\n                return async.setImmediate(function() {\r\n                    q.drain();\r\n                });\r\n            }\r\n            _arrayEach(data, function(task) {\r\n                var item = {\r\n                    data: task,\r\n                    callback: callback || noop\r\n                };\r\n\r\n                if (pos) {\r\n                    q.tasks.unshift(item);\r\n                } else {\r\n                    q.tasks.push(item);\r\n                }\r\n\r\n                if (q.tasks.length === q.concurrency) {\r\n                    q.saturated();\r\n                }\r\n            });\r\n            async.setImmediate(q.process);\r\n        }\r\n        function _next(q, tasks) {\r\n            return function(){\r\n                workers -= 1;\r\n\r\n                var removed = false;\r\n                var args = arguments;\r\n                _arrayEach(tasks, function (task) {\r\n                    _arrayEach(workersList, function (worker, index) {\r\n                        if (worker === task && !removed) {\r\n                            workersList.splice(index, 1);\r\n                            removed = true;\r\n                        }\r\n                    });\r\n\r\n                    task.callback.apply(task, args);\r\n                });\r\n                if (q.tasks.length + workers === 0) {\r\n                    q.drain();\r\n                }\r\n                q.process();\r\n            };\r\n        }\r\n\r\n        var workers = 0;\r\n        var workersList = [];\r\n        var q = {\r\n            tasks: [],\r\n            concurrency: concurrency,\r\n            payload: payload,\r\n            saturated: noop,\r\n            empty: noop,\r\n            drain: noop,\r\n            started: false,\r\n            paused: false,\r\n            push: function (data, callback) {\r\n                _insert(q, data, false, callback);\r\n            },\r\n            kill: function () {\r\n                q.drain = noop;\r\n                q.tasks = [];\r\n            },\r\n            unshift: function (data, callback) {\r\n                _insert(q, data, true, callback);\r\n            },\r\n            process: function () {\r\n                if (!q.paused && workers < q.concurrency && q.tasks.length) {\r\n                    while(workers < q.concurrency && q.tasks.length){\r\n                        var tasks = q.payload ?\r\n                            q.tasks.splice(0, q.payload) :\r\n                            q.tasks.splice(0, q.tasks.length);\r\n\r\n                        var data = _map(tasks, function (task) {\r\n                            return task.data;\r\n                        });\r\n\r\n                        if (q.tasks.length === 0) {\r\n                            q.empty();\r\n                        }\r\n                        workers += 1;\r\n                        workersList.push(tasks[0]);\r\n                        var cb = only_once(_next(q, tasks));\r\n                        worker(data, cb);\r\n                    }\r\n                }\r\n            },\r\n            length: function () {\r\n                return q.tasks.length;\r\n            },\r\n            running: function () {\r\n                return workers;\r\n            },\r\n            workersList: function () {\r\n                return workersList;\r\n            },\r\n            idle: function() {\r\n                return q.tasks.length + workers === 0;\r\n            },\r\n            pause: function () {\r\n                q.paused = true;\r\n            },\r\n            resume: function () {\r\n                if (q.paused === false) { return; }\r\n                q.paused = false;\r\n                var resumeCount = Math.min(q.concurrency, q.tasks.length);\r\n                // Need to call q.process once per concurrent\r\n                // worker to preserve full concurrency after pause\r\n                for (var w = 1; w <= resumeCount; w++) {\r\n                    async.setImmediate(q.process);\r\n                }\r\n            }\r\n        };\r\n        return q;\r\n    }\r\n\r\n    async.queue = function (worker, concurrency) {\r\n        var q = _queue(function (items, cb) {\r\n            worker(items[0], cb);\r\n        }, concurrency, 1);\r\n\r\n        return q;\r\n    };\r\n\r\n    async.priorityQueue = function (worker, concurrency) {\r\n\r\n        function _compareTasks(a, b){\r\n            return a.priority - b.priority;\r\n        }\r\n\r\n        function _binarySearch(sequence, item, compare) {\r\n            var beg = -1,\r\n                end = sequence.length - 1;\r\n            while (beg < end) {\r\n                var mid = beg + ((end - beg + 1) >>> 1);\r\n                if (compare(item, sequence[mid]) >= 0) {\r\n                    beg = mid;\r\n                } else {\r\n                    end = mid - 1;\r\n                }\r\n            }\r\n            return beg;\r\n        }\r\n\r\n        function _insert(q, data, priority, callback) {\r\n            if (callback != null && typeof callback !== \"function\") {\r\n                throw new Error(\"task callback must be a function\");\r\n            }\r\n            q.started = true;\r\n            if (!_isArray(data)) {\r\n                data = [data];\r\n            }\r\n            if(data.length === 0) {\r\n                // call drain immediately if there are no tasks\r\n                return async.setImmediate(function() {\r\n                    q.drain();\r\n                });\r\n            }\r\n            _arrayEach(data, function(task) {\r\n                var item = {\r\n                    data: task,\r\n                    priority: priority,\r\n                    callback: typeof callback === 'function' ? callback : noop\r\n                };\r\n\r\n                q.tasks.splice(_binarySearch(q.tasks, item, _compareTasks) + 1, 0, item);\r\n\r\n                if (q.tasks.length === q.concurrency) {\r\n                    q.saturated();\r\n                }\r\n                async.setImmediate(q.process);\r\n            });\r\n        }\r\n\r\n        // Start with a normal queue\r\n        var q = async.queue(worker, concurrency);\r\n\r\n        // Override push to accept second parameter representing priority\r\n        q.push = function (data, priority, callback) {\r\n            _insert(q, data, priority, callback);\r\n        };\r\n\r\n        // Remove unshift function\r\n        delete q.unshift;\r\n\r\n        return q;\r\n    };\r\n\r\n    async.cargo = function (worker, payload) {\r\n        return _queue(worker, 1, payload);\r\n    };\r\n\r\n    function _console_fn(name) {\r\n        return _restParam(function (fn, args) {\r\n            fn.apply(null, args.concat([_restParam(function (err, args) {\r\n                if (typeof console === 'object') {\r\n                    if (err) {\r\n                        if (console.error) {\r\n                            console.error(err);\r\n                        }\r\n                    }\r\n                    else if (console[name]) {\r\n                        _arrayEach(args, function (x) {\r\n                            console[name](x);\r\n                        });\r\n                    }\r\n                }\r\n            })]));\r\n        });\r\n    }\r\n    async.log = _console_fn('log');\r\n    async.dir = _console_fn('dir');\r\n    /*async.info = _console_fn('info');\r\n    async.warn = _console_fn('warn');\r\n    async.error = _console_fn('error');*/\r\n\r\n    async.memoize = function (fn, hasher) {\r\n        var memo = {};\r\n        var queues = {};\r\n        hasher = hasher || identity;\r\n        var memoized = _restParam(function memoized(args) {\r\n            var callback = args.pop();\r\n            var key = hasher.apply(null, args);\r\n            if (key in memo) {\r\n                async.setImmediate(function () {\r\n                    callback.apply(null, memo[key]);\r\n                });\r\n            }\r\n            else if (key in queues) {\r\n                queues[key].push(callback);\r\n            }\r\n            else {\r\n                queues[key] = [callback];\r\n                fn.apply(null, args.concat([_restParam(function (args) {\r\n                    memo[key] = args;\r\n                    var q = queues[key];\r\n                    delete queues[key];\r\n                    for (var i = 0, l = q.length; i < l; i++) {\r\n                        q[i].apply(null, args);\r\n                    }\r\n                })]));\r\n            }\r\n        });\r\n        memoized.memo = memo;\r\n        memoized.unmemoized = fn;\r\n        return memoized;\r\n    };\r\n\r\n    async.unmemoize = function (fn) {\r\n        return function () {\r\n            return (fn.unmemoized || fn).apply(null, arguments);\r\n        };\r\n    };\r\n\r\n    function _times(mapper) {\r\n        return function (count, iterator, callback) {\r\n            mapper(_range(count), iterator, callback);\r\n        };\r\n    }\r\n\r\n    async.times = _times(async.map);\r\n    async.timesSeries = _times(async.mapSeries);\r\n    async.timesLimit = function (count, limit, iterator, callback) {\r\n        return async.mapLimit(_range(count), limit, iterator, callback);\r\n    };\r\n\r\n    async.seq = function (/* functions... */) {\r\n        var fns = arguments;\r\n        return _restParam(function (args) {\r\n            var that = this;\r\n\r\n            var callback = args[args.length - 1];\r\n            if (typeof callback == 'function') {\r\n                args.pop();\r\n            } else {\r\n                callback = noop;\r\n            }\r\n\r\n            async.reduce(fns, args, function (newargs, fn, cb) {\r\n                fn.apply(that, newargs.concat([_restParam(function (err, nextargs) {\r\n                    cb(err, nextargs);\r\n                })]));\r\n            },\r\n            function (err, results) {\r\n                callback.apply(that, [err].concat(results));\r\n            });\r\n        });\r\n    };\r\n\r\n    async.compose = function (/* functions... */) {\r\n        return async.seq.apply(null, Array.prototype.reverse.call(arguments));\r\n    };\r\n\r\n\r\n    function _applyEach(eachfn) {\r\n        return _restParam(function(fns, args) {\r\n            var go = _restParam(function(args) {\r\n                var that = this;\r\n                var callback = args.pop();\r\n                return eachfn(fns, function (fn, _, cb) {\r\n                    fn.apply(that, args.concat([cb]));\r\n                },\r\n                callback);\r\n            });\r\n            if (args.length) {\r\n                return go.apply(this, args);\r\n            }\r\n            else {\r\n                return go;\r\n            }\r\n        });\r\n    }\r\n\r\n    async.applyEach = _applyEach(async.eachOf);\r\n    async.applyEachSeries = _applyEach(async.eachOfSeries);\r\n\r\n\r\n    async.forever = function (fn, callback) {\r\n        var done = only_once(callback || noop);\r\n        var task = ensureAsync(fn);\r\n        function next(err) {\r\n            if (err) {\r\n                return done(err);\r\n            }\r\n            task(next);\r\n        }\r\n        next();\r\n    };\r\n\r\n    function ensureAsync(fn) {\r\n        return _restParam(function (args) {\r\n            var callback = args.pop();\r\n            args.push(function () {\r\n                var innerArgs = arguments;\r\n                if (sync) {\r\n                    async.setImmediate(function () {\r\n                        callback.apply(null, innerArgs);\r\n                    });\r\n                } else {\r\n                    callback.apply(null, innerArgs);\r\n                }\r\n            });\r\n            var sync = true;\r\n            fn.apply(this, args);\r\n            sync = false;\r\n        });\r\n    }\r\n\r\n    async.ensureAsync = ensureAsync;\r\n\r\n    async.constant = _restParam(function(values) {\r\n        var args = [null].concat(values);\r\n        return function (callback) {\r\n            return callback.apply(this, args);\r\n        };\r\n    });\r\n\r\n    async.wrapSync =\r\n    async.asyncify = function asyncify(func) {\r\n        return _restParam(function (args) {\r\n            var callback = args.pop();\r\n            var result;\r\n            try {\r\n                result = func.apply(this, args);\r\n            } catch (e) {\r\n                return callback(e);\r\n            }\r\n            // if result is Promise object\r\n            if (_isObject(result) && typeof result.then === \"function\") {\r\n                result.then(function(value) {\r\n                    callback(null, value);\r\n                })[\"catch\"](function(err) {\r\n                    callback(err.message ? err : new Error(err));\r\n                });\r\n            } else {\r\n                callback(null, result);\r\n            }\r\n        });\r\n    };\r\n\r\n    // Node.js\r\n    if (typeof module === 'object' && module.exports) {\r\n        module.exports = async;\r\n    }\r\n    // AMD / RequireJS\r\n    else if (typeof define === 'function' && define.amd) {\r\n        define('async', function () {\r\n            return async;\r\n        });\r\n    }\r\n    // included directly via <script> tag\r\n    else {\r\n        root.async = async;\r\n    }\r\n\r\n}());\r\n\r\n;(function (factory) {\r\n    'use strict';\r\n    if (typeof define === 'function' && define.amd) {\r\n        define('sha1',[], factory);\r\n    } else {\r\n        window.sha1 = factory();\r\n    }\r\n})(function () {\r\n\r\n    /* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\r\n     * A JavaScript implementation of the Secure Hash Algorithm, SHA-1, as defined\r\n     * in FIPS PUB 180-1\r\n     * Copyright (C) Paul Johnston 2000.\r\n     * See http://pajhome.org.uk/site/legal.html for details.\r\n     *\r\n     * Modified by Tom Wu (tjw@cs.stanford.edu) for the\r\n     * SRP JavaScript implementation.\r\n     */\r\n    var sha1 = function() {\r\n        /*\r\n        * Convert a 32-bit number to a hex string with ms-byte first\r\n        */\r\n        var hex_chr = \"0123456789abcdef\";\r\n\r\n        function hex(num) {\r\n            var str = \"\";\r\n            for (var j = 7; j >= 0; j--)\r\n                str += hex_chr.charAt((num >> (j * 4)) & 0x0F);\r\n            return str;\r\n        }\r\n\r\n        /*\r\n             * Convert a string to a sequence of 16-word blocks, stored as an array.\r\n             * Append padding bits and the length, as described in the SHA1 standard.\r\n             */\r\n        function str2blks_SHA1(str) {\r\n            var nblk = ((str.length + 8) >> 6) + 1;\r\n            var blks = new Array(nblk * 16);\r\n            for (var i = 0; i < nblk * 16; i++) blks[i] = 0;\r\n            for (i = 0; i < str.length; i++)\r\n                blks[i >> 2] |= str.charCodeAt(i) << (24 - (i % 4) * 8);\r\n            blks[i >> 2] |= 0x80 << (24 - (i % 4) * 8);\r\n            blks[nblk * 16 - 1] = str.length * 8;\r\n            return blks;\r\n        }\r\n\r\n        /*\r\n             * Input is in hex format - trailing odd nibble gets a zero appended.\r\n             */\r\n        function hex2blks_SHA1(hex) {\r\n            var len = (hex.length + 1) >> 1;\r\n            var nblk = ((len + 8) >> 6) + 1;\r\n            var blks = new Array(nblk * 16);\r\n            for (var i = 0; i < nblk * 16; i++) blks[i] = 0;\r\n            for (i = 0; i < len; i++)\r\n                blks[i >> 2] |= parseInt(hex.substr(2 * i, 2), 16) << (24 - (i % 4) * 8);\r\n            blks[i >> 2] |= 0x80 << (24 - (i % 4) * 8);\r\n            blks[nblk * 16 - 1] = len * 8;\r\n            return blks;\r\n        }\r\n\r\n        function ba2blks_SHA1(ba, off, len) {\r\n            var nblk = ((len + 8) >> 6) + 1;\r\n            var blks = new Array(nblk * 16);\r\n            for (var i = 0; i < nblk * 16; i++) blks[i] = 0;\r\n            for (i = 0; i < len; i++)\r\n                blks[i >> 2] |= (ba[off + i] & 0xFF) << (24 - (i % 4) * 8);\r\n            blks[i >> 2] |= 0x80 << (24 - (i % 4) * 8);\r\n            blks[nblk * 16 - 1] = len * 8;\r\n            return blks;\r\n        }\r\n\r\n        /*\r\n             * Add integers, wrapping at 2^32. This uses 16-bit operations internally\r\n             * to work around bugs in some JS interpreters.\r\n             */\r\n        function add(x, y) {\r\n            var lsw = (x & 0xFFFF) + (y & 0xFFFF);\r\n            var msw = (x >> 16) + (y >> 16) + (lsw >> 16);\r\n            return (msw << 16) | (lsw & 0xFFFF);\r\n        }\r\n\r\n        /*\r\n             * Bitwise rotate a 32-bit number to the left\r\n             */\r\n        function rol(num, cnt) {\r\n            return (num << cnt) | (num >>> (32 - cnt));\r\n        }\r\n\r\n        /*\r\n             * Perform the appropriate triplet combination function for the current\r\n             * iteration\r\n             */\r\n        function ft(t, b, c, d) {\r\n            if (t < 20) return (b & c) | ((~b) & d);\r\n            if (t < 40) return b ^ c ^ d;\r\n            if (t < 60) return (b & c) | (b & d) | (c & d);\r\n            return b ^ c ^ d;\r\n        }\r\n\r\n        /*\r\n             * Determine the appropriate additive constant for the current iteration\r\n             */\r\n        function kt(t) {\r\n            return (t < 20) ? 1518500249 : (t < 40) ? 1859775393 :\r\n            (t < 60) ? -1894007588 : -899497514;\r\n        }\r\n\r\n        /*\r\n             * Take a string and return the hex representation of its SHA-1.\r\n             */\r\n        function calcSHA1(str) {\r\n            return calcSHA1Blks(str2blks_SHA1(str));\r\n        }\r\n\r\n        function calcSHA1Hex(str) {\r\n            return calcSHA1Blks(hex2blks_SHA1(str));\r\n        }\r\n\r\n        function calcSHA1BA(ba) {\r\n            return calcSHA1Blks(ba2blks_SHA1(ba, 0, ba.length));\r\n        }\r\n\r\n        function calcSHA1BAEx(ba, off, len) {\r\n            return calcSHA1Blks(ba2blks_SHA1(ba, off, len));\r\n        }\r\n\r\n        function calcSHA1Blks(x) {\r\n            var s = calcSHA1Raw(x);\r\n            return hex(s[0]) + hex(s[1]) + hex(s[2]) + hex(s[3]) + hex(s[4]);\r\n        }\r\n\r\n        function calcSHA1Raw(x) {\r\n            var w = new Array(80);\r\n\r\n            var a = 1732584193;\r\n            var b = -271733879;\r\n            var c = -1732584194;\r\n            var d = 271733878;\r\n            var e = -1009589776;\r\n\r\n            for (var i = 0; i < x.length; i += 16) {\r\n                var olda = a;\r\n                var oldb = b;\r\n                var oldc = c;\r\n                var oldd = d;\r\n                var olde = e;\r\n\r\n                for (var j = 0; j < 80; j++) {\r\n                    var t;\r\n                    if (j < 16) w[j] = x[i + j];\r\n                    else w[j] = rol(w[j - 3] ^ w[j - 8] ^ w[j - 14] ^ w[j - 16], 1);\r\n                    t = add(add(rol(a, 5), ft(j, b, c, d)), add(add(e, w[j]), kt(j)));\r\n                    e = d;\r\n                    d = c;\r\n                    c = rol(b, 30);\r\n                    b = a;\r\n                    a = t;\r\n                }\r\n\r\n                a = add(a, olda);\r\n                b = add(b, oldb);\r\n                c = add(c, oldc);\r\n                d = add(d, oldd);\r\n                e = add(e, olde);\r\n            }\r\n            return new Array(a, b, c, d, e);\r\n        }\r\n\r\n        function core_sha1(x, len) {\r\n            x[len >> 5] |= 0x80 << (24 - len % 32);\r\n            x[((len + 64 >> 9) << 4) + 15] = len;\r\n            return calcSHA1Raw(x);\r\n        }\r\n\r\n        return {\r\n            calcSHA1: calcSHA1,\r\n            calcSHA1Hex: calcSHA1Hex,\r\n            calcSHA1BA: calcSHA1BA,\r\n            calcSHA1BAEx: calcSHA1BAEx\r\n        }\r\n    }\r\n\r\n    return sha1();\r\n});\r\n\r\n\r\n;(function (factory) {\r\n    'use strict';\r\n    if (typeof define === 'function' && define.amd) {\r\n        define('sjcl', [], factory);\r\n    } else {\r\n        window.sjcl = factory();\r\n    }\r\n})(function () {\r\n\r\n    // SJCL configured with:\r\n    // --without-all --with-sha256 --with-aes --with-random --with-bitArray --with-codecHex --with-codecBase64 --compress=none\r\n\r\n    /** @fileOverview Javascript cryptography implementation.\r\n     *\r\n     * Crush to remove comments, shorten variable names and\r\n     * generally reduce transmission size.\r\n     *\r\n     * @author Emily Stark\r\n     * @author Mike Hamburg\r\n     * @author Dan Boneh\r\n     */\r\n\r\n    \"use strict\";\r\n    /*jslint indent: 2, bitwise: false, nomen: false, plusplus: false, white: false, regexp: false */\r\n    /*global document, window, escape, unescape, module, require, Uint32Array */\r\n\r\n    /** @namespace The Stanford Javascript Crypto Library, top-level namespace. */\r\n    var sjcl = {\r\n        /** @namespace Symmetric ciphers. */\r\n        cipher: {},\r\n\r\n        /** @namespace Hash functions.  Right now only SHA256 is implemented. */\r\n        hash: {},\r\n\r\n        /** @namespace Key exchange functions.  Right now only SRP is implemented. */\r\n        keyexchange: {},\r\n\r\n        /** @namespace Block cipher modes of operation. */\r\n        mode: {},\r\n\r\n        /** @namespace Miscellaneous.  HMAC and PBKDF2. */\r\n        misc: {},\r\n\r\n        /**\r\n         * @namespace Bit array encoders and decoders.\r\n         *\r\n         * @description\r\n         * The members of this namespace are functions which translate between\r\n         * SJCL's bitArrays and other objects (usually strings).  Because it\r\n         * isn't always clear which direction is encoding and which is decoding,\r\n         * the method names are \"fromBits\" and \"toBits\".\r\n         */\r\n        codec: {},\r\n\r\n        /** @namespace Exceptions. */\r\n        exception: {\r\n            /** @constructor Ciphertext is corrupt. */\r\n            corrupt: function (message) {\r\n                this.toString = function () { return \"CORRUPT: \" + this.message; };\r\n                this.message = message;\r\n            },\r\n\r\n            /** @constructor Invalid parameter. */\r\n            invalid: function (message) {\r\n                this.toString = function () { return \"INVALID: \" + this.message; };\r\n                this.message = message;\r\n            },\r\n\r\n            /** @constructor Bug or missing feature in SJCL. @constructor */\r\n            bug: function (message) {\r\n                this.toString = function () { return \"BUG: \" + this.message; };\r\n                this.message = message;\r\n            },\r\n\r\n            /** @constructor Something isn't ready. */\r\n            notReady: function (message) {\r\n                this.toString = function () { return \"NOT READY: \" + this.message; };\r\n                this.message = message;\r\n            }\r\n        }\r\n    };\r\n\r\n    /** @fileOverview Arrays of bits, encoded as arrays of Numbers.\r\n  *\r\n  * @author Emily Stark\r\n  * @author Mike Hamburg\r\n  * @author Dan Boneh\r\n  */\r\n\r\n    /** @namespace Arrays of bits, encoded as arrays of Numbers.\r\n     *\r\n     * @description\r\n     * <p>\r\n     * These objects are the currency accepted by SJCL's crypto functions.\r\n     * </p>\r\n     *\r\n     * <p>\r\n     * Most of our crypto primitives operate on arrays of 4-byte words internally,\r\n     * but many of them can take arguments that are not a multiple of 4 bytes.\r\n     * This library encodes arrays of bits (whose size need not be a multiple of 8\r\n     * bits) as arrays of 32-bit words.  The bits are packed, big-endian, into an\r\n     * array of words, 32 bits at a time.  Since the words are double-precision\r\n     * floating point numbers, they fit some extra data.  We use this (in a private,\r\n     * possibly-changing manner) to encode the number of bits actually  present\r\n     * in the last word of the array.\r\n     * </p>\r\n     *\r\n     * <p>\r\n     * Because bitwise ops clear this out-of-band data, these arrays can be passed\r\n     * to ciphers like AES which want arrays of words.\r\n     * </p>\r\n     */\r\n    sjcl.bitArray = {\r\n        /**\r\n         * Array slices in units of bits.\r\n         * @param {bitArray} a The array to slice.\r\n         * @param {Number} bstart The offset to the start of the slice, in bits.\r\n         * @param {Number} bend The offset to the end of the slice, in bits.  If this is undefined,\r\n         * slice until the end of the array.\r\n         * @return {bitArray} The requested slice.\r\n         */\r\n        bitSlice: function (a, bstart, bend) {\r\n            a = sjcl.bitArray._shiftRight(a.slice(bstart / 32), 32 - (bstart & 31)).slice(1);\r\n            return (bend === undefined) ? a : sjcl.bitArray.clamp(a, bend - bstart);\r\n        },\r\n\r\n        /**\r\n         * Extract a number packed into a bit array.\r\n         * @param {bitArray} a The array to slice.\r\n         * @param {Number} bstart The offset to the start of the slice, in bits.\r\n         * @param {Number} length The length of the number to extract.\r\n         * @return {Number} The requested slice.\r\n         */\r\n        extract: function (a, bstart, blength) {\r\n            // FIXME: this Math.floor is not necessary at all, but for some reason\r\n            // seems to suppress a bug in the Chromium JIT.\r\n            var x, sh = Math.floor((-bstart - blength) & 31);\r\n            if ((bstart + blength - 1 ^ bstart) & -32) {\r\n                // it crosses a boundary\r\n                x = (a[bstart / 32 | 0] << (32 - sh)) ^ (a[bstart / 32 + 1 | 0] >>> sh);\r\n            } else {\r\n                // within a single word\r\n                x = a[bstart / 32 | 0] >>> sh;\r\n            }\r\n            return x & ((1 << blength) - 1);\r\n        },\r\n\r\n        /**\r\n         * Concatenate two bit arrays.\r\n         * @param {bitArray} a1 The first array.\r\n         * @param {bitArray} a2 The second array.\r\n         * @return {bitArray} The concatenation of a1 and a2.\r\n         */\r\n        concat: function (a1, a2) {\r\n            if (a1.length === 0 || a2.length === 0) {\r\n                return a1.concat(a2);\r\n            }\r\n\r\n            var last = a1[a1.length - 1], shift = sjcl.bitArray.getPartial(last);\r\n            if (shift === 32) {\r\n                return a1.concat(a2);\r\n            } else {\r\n                return sjcl.bitArray._shiftRight(a2, shift, last | 0, a1.slice(0, a1.length - 1));\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Find the length of an array of bits.\r\n         * @param {bitArray} a The array.\r\n         * @return {Number} The length of a, in bits.\r\n         */\r\n        bitLength: function (a) {\r\n            var l = a.length, x;\r\n            if (l === 0) { return 0; }\r\n            x = a[l - 1];\r\n            return (l - 1) * 32 + sjcl.bitArray.getPartial(x);\r\n        },\r\n\r\n        /**\r\n         * Truncate an array.\r\n         * @param {bitArray} a The array.\r\n         * @param {Number} len The length to truncate to, in bits.\r\n         * @return {bitArray} A new array, truncated to len bits.\r\n         */\r\n        clamp: function (a, len) {\r\n            if (a.length * 32 < len) { return a; }\r\n            a = a.slice(0, Math.ceil(len / 32));\r\n            var l = a.length;\r\n            len = len & 31;\r\n            if (l > 0 && len) {\r\n                a[l - 1] = sjcl.bitArray.partial(len, a[l - 1] & 0x80000000 >> (len - 1), 1);\r\n            }\r\n            return a;\r\n        },\r\n\r\n        /**\r\n         * Make a partial word for a bit array.\r\n         * @param {Number} len The number of bits in the word.\r\n         * @param {Number} x The bits.\r\n         * @param {Number} [0] _end Pass 1 if x has already been shifted to the high side.\r\n         * @return {Number} The partial word.\r\n         */\r\n        partial: function (len, x, _end) {\r\n            if (len === 32) { return x; }\r\n            return (_end ? x | 0 : x << (32 - len)) + len * 0x10000000000;\r\n        },\r\n\r\n        /**\r\n         * Get the number of bits used by a partial word.\r\n         * @param {Number} x The partial word.\r\n         * @return {Number} The number of bits used by the partial word.\r\n         */\r\n        getPartial: function (x) {\r\n            return Math.round(x / 0x10000000000) || 32;\r\n        },\r\n\r\n        /**\r\n         * Compare two arrays for equality in a predictable amount of time.\r\n         * @param {bitArray} a The first array.\r\n         * @param {bitArray} b The second array.\r\n         * @return {boolean} true if a == b; false otherwise.\r\n         */\r\n        equal: function (a, b) {\r\n            if (sjcl.bitArray.bitLength(a) !== sjcl.bitArray.bitLength(b)) {\r\n                return false;\r\n            }\r\n            var x = 0, i;\r\n            for (i = 0; i < a.length; i++) {\r\n                x |= a[i] ^ b[i];\r\n            }\r\n            return (x === 0);\r\n        },\r\n\r\n        /** Shift an array right.\r\n         * @param {bitArray} a The array to shift.\r\n         * @param {Number} shift The number of bits to shift.\r\n         * @param {Number} [carry=0] A byte to carry in\r\n         * @param {bitArray} [out=[]] An array to prepend to the output.\r\n         * @private\r\n         */\r\n        _shiftRight: function (a, shift, carry, out) {\r\n            var i, last2 = 0, shift2;\r\n            if (out === undefined) { out = []; }\r\n\r\n            for (; shift >= 32; shift -= 32) {\r\n                out.push(carry);\r\n                carry = 0;\r\n            }\r\n            if (shift === 0) {\r\n                return out.concat(a);\r\n            }\r\n\r\n            for (i = 0; i < a.length; i++) {\r\n                out.push(carry | a[i] >>> shift);\r\n                carry = a[i] << (32 - shift);\r\n            }\r\n            last2 = a.length ? a[a.length - 1] : 0;\r\n            shift2 = sjcl.bitArray.getPartial(last2);\r\n            out.push(sjcl.bitArray.partial(shift + shift2 & 31, (shift + shift2 > 32) ? carry : out.pop(), 1));\r\n            return out;\r\n        },\r\n\r\n        /** xor a block of 4 words together.\r\n         * @private\r\n         */\r\n        _xor4: function (x, y) {\r\n            return [x[0] ^ y[0], x[1] ^ y[1], x[2] ^ y[2], x[3] ^ y[3]];\r\n        },\r\n\r\n        /** byteswap a word array inplace.\r\n         * (does not handle partial words)\r\n         * @param {sjcl.bitArray} a word array\r\n         * @return {sjcl.bitArray} byteswapped array\r\n         */\r\n        byteswapM: function (a) {\r\n            var i, v, m = 0xff00;\r\n            for (i = 0; i < a.length; ++i) {\r\n                v = a[i];\r\n                a[i] = (v >>> 24) | ((v >>> 8) & m) | ((v & m) << 8) | (v << 24);\r\n            }\r\n            return a;\r\n        }\r\n    };\r\n\r\n    /** @fileOverview Javascript SHA-256 implementation.\r\n *\r\n * An older version of this implementation is available in the public\r\n * domain, but this one is (c) Emily Stark, Mike Hamburg, Dan Boneh,\r\n * Stanford University 2008-2010 and BSD-licensed for liability\r\n * reasons.\r\n *\r\n * Special thanks to Aldo Cortesi for pointing out several bugs in\r\n * this code.\r\n *\r\n * @author Emily Stark\r\n * @author Mike Hamburg\r\n * @author Dan Boneh\r\n */\r\n\r\n    /**\r\n     * Context for a SHA-256 operation in progress.\r\n     * @constructor\r\n     * @class Secure Hash Algorithm, 256 bits.\r\n     */\r\n    sjcl.hash.sha256 = function (hash) {\r\n        if (!this._key[0]) { this._precompute(); }\r\n        if (hash) {\r\n            this._h = hash._h.slice(0);\r\n            this._buffer = hash._buffer.slice(0);\r\n            this._length = hash._length;\r\n        } else {\r\n            this.reset();\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Hash a string or an array of words.\r\n     * @static\r\n     * @param {bitArray|String} data the data to hash.\r\n     * @return {bitArray} The hash value, an array of 16 big-endian words.\r\n     */\r\n    sjcl.hash.sha256.hash = function (data) {\r\n        return (new sjcl.hash.sha256()).update(data).finalize();\r\n    };\r\n\r\n    sjcl.hash.sha256.prototype = {\r\n        /**\r\n         * The hash's block size, in bits.\r\n         * @constant\r\n         */\r\n        blockSize: 512,\r\n\r\n        /**\r\n         * Reset the hash state.\r\n         * @return this\r\n         */\r\n        reset: function () {\r\n            this._h = this._init.slice(0);\r\n            this._buffer = [];\r\n            this._length = 0;\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Input several words to the hash.\r\n         * @param {bitArray|String} data the data to hash.\r\n         * @return this\r\n         */\r\n        update: function (data) {\r\n            if (typeof data === \"string\") {\r\n                data = sjcl.codec.utf8String.toBits(data);\r\n            }\r\n            var i, b = this._buffer = sjcl.bitArray.concat(this._buffer, data),\r\n                ol = this._length,\r\n                nl = this._length = ol + sjcl.bitArray.bitLength(data);\r\n            for (i = 512 + ol & -512; i <= nl; i += 512) {\r\n                this._block(b.splice(0, 16));\r\n            }\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Complete hashing and output the hash value.\r\n         * @return {bitArray} The hash value, an array of 8 big-endian words.\r\n         */\r\n        finalize: function () {\r\n            var i, b = this._buffer, h = this._h;\r\n\r\n            // Round out and push the buffer\r\n            b = sjcl.bitArray.concat(b, [sjcl.bitArray.partial(1, 1)]);\r\n\r\n            // Round out the buffer to a multiple of 16 words, less the 2 length words.\r\n            for (i = b.length + 2; i & 15; i++) {\r\n                b.push(0);\r\n            }\r\n\r\n            // append the length\r\n            b.push(Math.floor(this._length / 0x100000000));\r\n            b.push(this._length | 0);\r\n\r\n            while (b.length) {\r\n                this._block(b.splice(0, 16));\r\n            }\r\n\r\n            this.reset();\r\n            return h;\r\n        },\r\n\r\n        /**\r\n         * The SHA-256 initialization vector, to be precomputed.\r\n         * @private\r\n         */\r\n        _init: [],\r\n        /*\r\n        _init:[0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19],\r\n        */\r\n\r\n        /**\r\n         * The SHA-256 hash key, to be precomputed.\r\n         * @private\r\n         */\r\n        _key: [],\r\n        /*\r\n        _key:\r\n          [0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5, 0x3956c25b, 0x59f111f1, 0x923f82a4, 0xab1c5ed5,\r\n           0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3, 0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174,\r\n           0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc, 0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da,\r\n           0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7, 0xc6e00bf3, 0xd5a79147, 0x06ca6351, 0x14292967,\r\n           0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13, 0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85,\r\n           0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3, 0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070,\r\n           0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5, 0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f, 0x682e6ff3,\r\n           0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208, 0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2],\r\n        */\r\n\r\n\r\n        /**\r\n         * Function to precompute _init and _key.\r\n         * @private\r\n         */\r\n        _precompute: function () {\r\n            var i = 0, prime = 2, factor;\r\n\r\n            function frac(x) { return (x - Math.floor(x)) * 0x100000000 | 0; }\r\n\r\n            outer: for (; i < 64; prime++) {\r\n                for (factor = 2; factor * factor <= prime; factor++) {\r\n                    if (prime % factor === 0) {\r\n                        // not a prime\r\n                        continue outer;\r\n                    }\r\n                }\r\n\r\n                if (i < 8) {\r\n                    this._init[i] = frac(Math.pow(prime, 1 / 2));\r\n                }\r\n                this._key[i] = frac(Math.pow(prime, 1 / 3));\r\n                i++;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Perform one cycle of SHA-256.\r\n         * @param {bitArray} words one block of words.\r\n         * @private\r\n         */\r\n        _block: function (words) {\r\n            var i, tmp, a, b,\r\n              w = words.slice(0),\r\n              h = this._h,\r\n              k = this._key,\r\n              h0 = h[0], h1 = h[1], h2 = h[2], h3 = h[3],\r\n              h4 = h[4], h5 = h[5], h6 = h[6], h7 = h[7];\r\n\r\n            /* Rationale for placement of |0 :\r\n             * If a value can overflow is original 32 bits by a factor of more than a few\r\n             * million (2^23 ish), there is a possibility that it might overflow the\r\n             * 53-bit mantissa and lose precision.\r\n             *\r\n             * To avoid this, we clamp back to 32 bits by |'ing with 0 on any value that\r\n             * propagates around the loop, and on the hash state h[].  I don't believe\r\n             * that the clamps on h4 and on h0 are strictly necessary, but it's close\r\n             * (for h4 anyway), and better safe than sorry.\r\n             *\r\n             * The clamps on h[] are necessary for the output to be correct even in the\r\n             * common case and for short inputs.\r\n             */\r\n            for (i = 0; i < 64; i++) {\r\n                // load up the input word for this round\r\n                if (i < 16) {\r\n                    tmp = w[i];\r\n                } else {\r\n                    a = w[(i + 1) & 15];\r\n                    b = w[(i + 14) & 15];\r\n                    tmp = w[i & 15] = ((a >>> 7 ^ a >>> 18 ^ a >>> 3 ^ a << 25 ^ a << 14) +\r\n                                     (b >>> 17 ^ b >>> 19 ^ b >>> 10 ^ b << 15 ^ b << 13) +\r\n                                     w[i & 15] + w[(i + 9) & 15]) | 0;\r\n                }\r\n\r\n                tmp = (tmp + h7 + (h4 >>> 6 ^ h4 >>> 11 ^ h4 >>> 25 ^ h4 << 26 ^ h4 << 21 ^ h4 << 7) + (h6 ^ h4 & (h5 ^ h6)) + k[i]); // | 0;\r\n\r\n                // shift register\r\n                h7 = h6; h6 = h5; h5 = h4;\r\n                h4 = h3 + tmp | 0;\r\n                h3 = h2; h2 = h1; h1 = h0;\r\n\r\n                h0 = (tmp + ((h1 & h2) ^ (h3 & (h1 ^ h2))) + (h1 >>> 2 ^ h1 >>> 13 ^ h1 >>> 22 ^ h1 << 30 ^ h1 << 19 ^ h1 << 10)) | 0;\r\n            }\r\n\r\n            h[0] = h[0] + h0 | 0;\r\n            h[1] = h[1] + h1 | 0;\r\n            h[2] = h[2] + h2 | 0;\r\n            h[3] = h[3] + h3 | 0;\r\n            h[4] = h[4] + h4 | 0;\r\n            h[5] = h[5] + h5 | 0;\r\n            h[6] = h[6] + h6 | 0;\r\n            h[7] = h[7] + h7 | 0;\r\n        }\r\n    };\r\n\r\n    /** @fileOverview Low-level AES implementation.\r\n *\r\n * This file contains a low-level implementation of AES, optimized for\r\n * size and for efficiency on several browsers.  It is based on\r\n * OpenSSL's aes_core.c, a public-domain implementation by Vincent\r\n * Rijmen, Antoon Bosselaers and Paulo Barreto.\r\n *\r\n * An older version of this implementation is available in the public\r\n * domain, but this one is (c) Emily Stark, Mike Hamburg, Dan Boneh,\r\n * Stanford University 2008-2010 and BSD-licensed for liability\r\n * reasons.\r\n *\r\n * @author Emily Stark\r\n * @author Mike Hamburg\r\n * @author Dan Boneh\r\n */\r\n\r\n    /**\r\n     * Schedule out an AES key for both encryption and decryption.  This\r\n     * is a low-level class.  Use a cipher mode to do bulk encryption.\r\n     *\r\n     * @constructor\r\n     * @param {Array} key The key as an array of 4, 6 or 8 words.\r\n     *\r\n     * @class Advanced Encryption Standard (low-level interface)\r\n     */\r\n    sjcl.cipher.aes = function (key) {\r\n        if (!this._tables[0][0][0]) {\r\n            this._precompute();\r\n        }\r\n\r\n        var i, j, tmp,\r\n          encKey, decKey,\r\n          sbox = this._tables[0][4], decTable = this._tables[1],\r\n          keyLen = key.length, rcon = 1;\r\n\r\n        if (keyLen !== 4 && keyLen !== 6 && keyLen !== 8) {\r\n            throw new sjcl.exception.invalid(\"invalid aes key size\");\r\n        }\r\n\r\n        this._key = [encKey = key.slice(0), decKey = []];\r\n\r\n        // schedule encryption keys\r\n        for (i = keyLen; i < 4 * keyLen + 28; i++) {\r\n            tmp = encKey[i - 1];\r\n\r\n            // apply sbox\r\n            if (i % keyLen === 0 || (keyLen === 8 && i % keyLen === 4)) {\r\n                tmp = sbox[tmp >>> 24] << 24 ^ sbox[tmp >> 16 & 255] << 16 ^ sbox[tmp >> 8 & 255] << 8 ^ sbox[tmp & 255];\r\n\r\n                // shift rows and add rcon\r\n                if (i % keyLen === 0) {\r\n                    tmp = tmp << 8 ^ tmp >>> 24 ^ rcon << 24;\r\n                    rcon = rcon << 1 ^ (rcon >> 7) * 283;\r\n                }\r\n            }\r\n\r\n            encKey[i] = encKey[i - keyLen] ^ tmp;\r\n        }\r\n\r\n        // schedule decryption keys\r\n        for (j = 0; i; j++, i--) {\r\n            tmp = encKey[j & 3 ? i : i - 4];\r\n            if (i <= 4 || j < 4) {\r\n                decKey[j] = tmp;\r\n            } else {\r\n                decKey[j] = decTable[0][sbox[tmp >>> 24]] ^\r\n                            decTable[1][sbox[tmp >> 16 & 255]] ^\r\n                            decTable[2][sbox[tmp >> 8 & 255]] ^\r\n                            decTable[3][sbox[tmp & 255]];\r\n            }\r\n        }\r\n    };\r\n\r\n    sjcl.cipher.aes.prototype = {\r\n        // public\r\n        /* Something like this might appear here eventually\r\n        name: \"AES\",\r\n        blockSize: 4,\r\n        keySizes: [4,6,8],\r\n        */\r\n\r\n        /**\r\n         * Encrypt an array of 4 big-endian words.\r\n         * @param {Array} data The plaintext.\r\n         * @return {Array} The ciphertext.\r\n         */\r\n        encrypt: function (data) { return this._crypt(data, 0); },\r\n\r\n        /**\r\n         * Decrypt an array of 4 big-endian words.\r\n         * @param {Array} data The ciphertext.\r\n         * @return {Array} The plaintext.\r\n         */\r\n        decrypt: function (data) { return this._crypt(data, 1); },\r\n\r\n        /**\r\n         * The expanded S-box and inverse S-box tables.  These will be computed\r\n         * on the client so that we don't have to send them down the wire.\r\n         *\r\n         * There are two tables, _tables[0] is for encryption and\r\n         * _tables[1] is for decryption.\r\n         *\r\n         * The first 4 sub-tables are the expanded S-box with MixColumns.  The\r\n         * last (_tables[01][4]) is the S-box itself.\r\n         *\r\n         * @private\r\n         */\r\n        _tables: [[[], [], [], [], []], [[], [], [], [], []]],\r\n\r\n        /**\r\n         * Expand the S-box tables.\r\n         *\r\n         * @private\r\n         */\r\n        _precompute: function () {\r\n            var encTable = this._tables[0], decTable = this._tables[1],\r\n                sbox = encTable[4], sboxInv = decTable[4],\r\n                i, x, xInv, d = [], th = [], x2, x4, x8, s, tEnc, tDec;\r\n\r\n            // Compute double and third tables\r\n            for (i = 0; i < 256; i++) {\r\n                th[(d[i] = i << 1 ^ (i >> 7) * 283) ^ i] = i;\r\n            }\r\n\r\n            for (x = xInv = 0; !sbox[x]; x ^= x2 || 1, xInv = th[xInv] || 1) {\r\n                // Compute sbox\r\n                s = xInv ^ xInv << 1 ^ xInv << 2 ^ xInv << 3 ^ xInv << 4;\r\n                s = s >> 8 ^ s & 255 ^ 99;\r\n                sbox[x] = s;\r\n                sboxInv[s] = x;\r\n\r\n                // Compute MixColumns\r\n                x8 = d[x4 = d[x2 = d[x]]];\r\n                tDec = x8 * 0x1010101 ^ x4 * 0x10001 ^ x2 * 0x101 ^ x * 0x1010100;\r\n                tEnc = d[s] * 0x101 ^ s * 0x1010100;\r\n\r\n                for (i = 0; i < 4; i++) {\r\n                    encTable[i][x] = tEnc = tEnc << 24 ^ tEnc >>> 8;\r\n                    decTable[i][s] = tDec = tDec << 24 ^ tDec >>> 8;\r\n                }\r\n            }\r\n\r\n            // Compactify.  Considerable speedup on Firefox.\r\n            for (i = 0; i < 5; i++) {\r\n                encTable[i] = encTable[i].slice(0);\r\n                decTable[i] = decTable[i].slice(0);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Encryption and decryption core.\r\n         * @param {Array} input Four words to be encrypted or decrypted.\r\n         * @param dir The direction, 0 for encrypt and 1 for decrypt.\r\n         * @return {Array} The four encrypted or decrypted words.\r\n         * @private\r\n         */\r\n        _crypt: function (input, dir) {\r\n            if (input.length !== 4) {\r\n                throw new sjcl.exception.invalid(\"invalid aes block size\");\r\n            }\r\n\r\n            var key = this._key[dir],\r\n                // state variables a,b,c,d are loaded with pre-whitened data\r\n                a = input[0] ^ key[0],\r\n                b = input[dir ? 3 : 1] ^ key[1],\r\n                c = input[2] ^ key[2],\r\n                d = input[dir ? 1 : 3] ^ key[3],\r\n                a2, b2, c2,\r\n\r\n                nInnerRounds = key.length / 4 - 2,\r\n                i,\r\n                kIndex = 4,\r\n                out = [0, 0, 0, 0],\r\n                table = this._tables[dir],\r\n\r\n                // load up the tables\r\n                t0 = table[0],\r\n                t1 = table[1],\r\n                t2 = table[2],\r\n                t3 = table[3],\r\n                sbox = table[4];\r\n\r\n            // Inner rounds.  Cribbed from OpenSSL.\r\n            for (i = 0; i < nInnerRounds; i++) {\r\n                a2 = t0[a >>> 24] ^ t1[b >> 16 & 255] ^ t2[c >> 8 & 255] ^ t3[d & 255] ^ key[kIndex];\r\n                b2 = t0[b >>> 24] ^ t1[c >> 16 & 255] ^ t2[d >> 8 & 255] ^ t3[a & 255] ^ key[kIndex + 1];\r\n                c2 = t0[c >>> 24] ^ t1[d >> 16 & 255] ^ t2[a >> 8 & 255] ^ t3[b & 255] ^ key[kIndex + 2];\r\n                d = t0[d >>> 24] ^ t1[a >> 16 & 255] ^ t2[b >> 8 & 255] ^ t3[c & 255] ^ key[kIndex + 3];\r\n                kIndex += 4;\r\n                a = a2; b = b2; c = c2;\r\n            }\r\n\r\n            // Last round.\r\n            for (i = 0; i < 4; i++) {\r\n                out[dir ? 3 & -i : i] =\r\n                  sbox[a >>> 24] << 24 ^\r\n                  sbox[b >> 16 & 255] << 16 ^\r\n                  sbox[c >> 8 & 255] << 8 ^\r\n                  sbox[d & 255] ^\r\n                  key[kIndex++];\r\n                a2 = a; a = b; b = c; c = d; d = a2;\r\n            }\r\n\r\n            return out;\r\n        }\r\n    };\r\n\r\n\r\n    /** @fileOverview Random number generator.\r\n *\r\n * @author Emily Stark\r\n * @author Mike Hamburg\r\n * @author Dan Boneh\r\n * @author Michael Brooks\r\n */\r\n\r\n    /** @constructor\r\n     * @class Random number generator\r\n     * @description\r\n     * <b>Use sjcl.random as a singleton for this class!</b>\r\n     * <p>\r\n     * This random number generator is a derivative of Ferguson and Schneier's\r\n     * generator Fortuna.  It collects entropy from various events into several\r\n     * pools, implemented by streaming SHA-256 instances.  It differs from\r\n     * ordinary Fortuna in a few ways, though.\r\n     * </p>\r\n     *\r\n     * <p>\r\n     * Most importantly, it has an entropy estimator.  This is present because\r\n     * there is a strong conflict here between making the generator available\r\n     * as soon as possible, and making sure that it doesn't \"run on empty\".\r\n     * In Fortuna, there is a saved state file, and the system is likely to have\r\n     * time to warm up.\r\n     * </p>\r\n     *\r\n     * <p>\r\n     * Second, because users are unlikely to stay on the page for very long,\r\n     * and to speed startup time, the number of pools increases logarithmically:\r\n     * a new pool is created when the previous one is actually used for a reseed.\r\n     * This gives the same asymptotic guarantees as Fortuna, but gives more\r\n     * entropy to early reseeds.\r\n     * </p>\r\n     *\r\n     * <p>\r\n     * The entire mechanism here feels pretty klunky.  Furthermore, there are\r\n     * several improvements that should be made, including support for\r\n     * dedicated cryptographic functions that may be present in some browsers;\r\n     * state files in local storage; cookies containing randomness; etc.  So\r\n     * look for improvements in future versions.\r\n     * </p>\r\n     */\r\n    sjcl.prng = function (defaultParanoia) {\r\n\r\n        /* private */\r\n        this._pools = [new sjcl.hash.sha256()];\r\n        this._poolEntropy = [0];\r\n        this._reseedCount = 0;\r\n        this._robins = {};\r\n        this._eventId = 0;\r\n\r\n        this._collectorIds = {};\r\n        this._collectorIdNext = 0;\r\n\r\n        this._strength = 0;\r\n        this._poolStrength = 0;\r\n        this._nextReseed = 0;\r\n        this._key = [0, 0, 0, 0, 0, 0, 0, 0];\r\n        this._counter = [0, 0, 0, 0];\r\n        this._cipher = undefined;\r\n        this._defaultParanoia = defaultParanoia;\r\n\r\n        /* event listener stuff */\r\n        this._collectorsStarted = false;\r\n        this._callbacks = { progress: {}, seeded: {} };\r\n        this._callbackI = 0;\r\n\r\n        /* constants */\r\n        this._NOT_READY = 0;\r\n        this._READY = 1;\r\n        this._REQUIRES_RESEED = 2;\r\n\r\n        this._MAX_WORDS_PER_BURST = 65536;\r\n        this._PARANOIA_LEVELS = [0, 48, 64, 96, 128, 192, 256, 384, 512, 768, 1024];\r\n        this._MILLISECONDS_PER_RESEED = 30000;\r\n        this._BITS_PER_RESEED = 80;\r\n    };\r\n\r\n    sjcl.prng.prototype = {\r\n        /** Generate several random words, and return them in an array.\r\n         * A word consists of 32 bits (4 bytes)\r\n         * @param {Number} nwords The number of words to generate.\r\n         */\r\n        randomWords: function (nwords, paranoia) {\r\n            var out = [], i, readiness = this.isReady(paranoia), g;\r\n\r\n            if (readiness === this._NOT_READY) {\r\n                throw new sjcl.exception.notReady(\"generator isn't seeded\");\r\n            } else if (readiness & this._REQUIRES_RESEED) {\r\n                this._reseedFromPools(!(readiness & this._READY));\r\n            }\r\n\r\n            for (i = 0; i < nwords; i += 4) {\r\n                if ((i + 1) % this._MAX_WORDS_PER_BURST === 0) {\r\n                    this._gate();\r\n                }\r\n\r\n                g = this._gen4words();\r\n                out.push(g[0], g[1], g[2], g[3]);\r\n            }\r\n            this._gate();\r\n\r\n            return out.slice(0, nwords);\r\n        },\r\n\r\n        setDefaultParanoia: function (paranoia, allowZeroParanoia) {\r\n            if (paranoia === 0 && allowZeroParanoia !== \"Setting paranoia=0 will ruin your security; use it only for testing\") {\r\n                throw \"Setting paranoia=0 will ruin your security; use it only for testing\";\r\n            }\r\n\r\n            this._defaultParanoia = paranoia;\r\n        },\r\n\r\n        /**\r\n         * Add entropy to the pools.\r\n         * @param data The entropic value.  Should be a 32-bit integer, array of 32-bit integers, or string\r\n         * @param {Number} estimatedEntropy The estimated entropy of data, in bits\r\n         * @param {String} source The source of the entropy, eg \"mouse\"\r\n         */\r\n        addEntropy: function (data, estimatedEntropy, source) {\r\n            source = source || \"user\";\r\n\r\n            var id,\r\n              i, tmp,\r\n              t = (new Date()).valueOf(),\r\n              robin = this._robins[source],\r\n              oldReady = this.isReady(), err = 0, objName;\r\n\r\n            id = this._collectorIds[source];\r\n            if (id === undefined) { id = this._collectorIds[source] = this._collectorIdNext++; }\r\n\r\n            if (robin === undefined) { robin = this._robins[source] = 0; }\r\n            this._robins[source] = (this._robins[source] + 1) % this._pools.length;\r\n\r\n            switch (typeof (data)) {\r\n\r\n                case \"number\":\r\n                    if (estimatedEntropy === undefined) {\r\n                        estimatedEntropy = 1;\r\n                    }\r\n                    this._pools[robin].update([id, this._eventId++, 1, estimatedEntropy, t, 1, data | 0]);\r\n                    break;\r\n\r\n                case \"object\":\r\n                    objName = Object.prototype.toString.call(data);\r\n                    if (objName === \"[object Uint32Array]\") {\r\n                        tmp = [];\r\n                        for (i = 0; i < data.length; i++) {\r\n                            tmp.push(data[i]);\r\n                        }\r\n                        data = tmp;\r\n                    } else {\r\n                        if (objName !== \"[object Array]\") {\r\n                            err = 1;\r\n                        }\r\n                        for (i = 0; i < data.length && !err; i++) {\r\n                            if (typeof (data[i]) !== \"number\") {\r\n                                err = 1;\r\n                            }\r\n                        }\r\n                    }\r\n                    if (!err) {\r\n                        if (estimatedEntropy === undefined) {\r\n                            /* horrible entropy estimator */\r\n                            estimatedEntropy = 0;\r\n                            for (i = 0; i < data.length; i++) {\r\n                                tmp = data[i];\r\n                                while (tmp > 0) {\r\n                                    estimatedEntropy++;\r\n                                    tmp = tmp >>> 1;\r\n                                }\r\n                            }\r\n                        }\r\n                        this._pools[robin].update([id, this._eventId++, 2, estimatedEntropy, t, data.length].concat(data));\r\n                    }\r\n                    break;\r\n\r\n                case \"string\":\r\n                    if (estimatedEntropy === undefined) {\r\n                        /* English text has just over 1 bit per character of entropy.\r\n                         * But this might be HTML or something, and have far less\r\n                         * entropy than English...  Oh well, let's just say one bit.\r\n                         */\r\n                        estimatedEntropy = data.length;\r\n                    }\r\n                    this._pools[robin].update([id, this._eventId++, 3, estimatedEntropy, t, data.length]);\r\n                    this._pools[robin].update(data);\r\n                    break;\r\n\r\n                default:\r\n                    err = 1;\r\n            }\r\n            if (err) {\r\n                throw new sjcl.exception.bug(\"random: addEntropy only supports number, array of numbers or string\");\r\n            }\r\n\r\n            /* record the new strength */\r\n            this._poolEntropy[robin] += estimatedEntropy;\r\n            this._poolStrength += estimatedEntropy;\r\n\r\n            /* fire off events */\r\n            if (oldReady === this._NOT_READY) {\r\n                if (this.isReady() !== this._NOT_READY) {\r\n                    this._fireEvent(\"seeded\", Math.max(this._strength, this._poolStrength));\r\n                }\r\n                this._fireEvent(\"progress\", this.getProgress());\r\n            }\r\n        },\r\n\r\n        /** Is the generator ready? */\r\n        isReady: function (paranoia) {\r\n            var entropyRequired = this._PARANOIA_LEVELS[(paranoia !== undefined) ? paranoia : this._defaultParanoia];\r\n\r\n            if (this._strength && this._strength >= entropyRequired) {\r\n                return (this._poolEntropy[0] > this._BITS_PER_RESEED && (new Date()).valueOf() > this._nextReseed) ?\r\n                  this._REQUIRES_RESEED | this._READY :\r\n                  this._READY;\r\n            } else {\r\n                return (this._poolStrength >= entropyRequired) ?\r\n                  this._REQUIRES_RESEED | this._NOT_READY :\r\n                  this._NOT_READY;\r\n            }\r\n        },\r\n\r\n        /** Get the generator's progress toward readiness, as a fraction */\r\n        getProgress: function (paranoia) {\r\n            var entropyRequired = this._PARANOIA_LEVELS[paranoia ? paranoia : this._defaultParanoia];\r\n\r\n            if (this._strength >= entropyRequired) {\r\n                return 1.0;\r\n            } else {\r\n                return (this._poolStrength > entropyRequired) ?\r\n                  1.0 :\r\n                  this._poolStrength / entropyRequired;\r\n            }\r\n        },\r\n\r\n        /** start the built-in entropy collectors */\r\n        startCollectors: function () {\r\n            if (this._collectorsStarted) { return; }\r\n\r\n            this._eventListener = {\r\n                loadTimeCollector: this._bind(this._loadTimeCollector),\r\n                mouseCollector: this._bind(this._mouseCollector),\r\n                keyboardCollector: this._bind(this._keyboardCollector),\r\n                accelerometerCollector: this._bind(this._accelerometerCollector),\r\n                touchCollector: this._bind(this._touchCollector)\r\n            };\r\n\r\n            if (window.addEventListener) {\r\n                window.addEventListener(\"load\", this._eventListener.loadTimeCollector, false);\r\n                window.addEventListener(\"keypress\", this._eventListener.keyboardCollector, false);\r\n            } else if (document.attachEvent) {\r\n                document.attachEvent(\"onload\", this._eventListener.loadTimeCollector);\r\n                document.attachEvent(\"keypress\", this._eventListener.keyboardCollector);\r\n            } else {\r\n                throw new sjcl.exception.bug(\"can't attach event\");\r\n            }\r\n\r\n            this._collectorsStarted = true;\r\n        },\r\n\r\n        /** stop the built-in entropy collectors */\r\n        stopCollectors: function () {\r\n            if (!this._collectorsStarted) { return; }\r\n\r\n            if (window.removeEventListener) {\r\n                window.removeEventListener(\"load\", this._eventListener.loadTimeCollector, false);\r\n                window.removeEventListener(\"keypress\", this._eventListener.keyboardCollector, false);\r\n            } else if (document.detachEvent) {\r\n                document.detachEvent(\"onload\", this._eventListener.loadTimeCollector);\r\n                document.detachEvent(\"keypress\", this._eventListener.keyboardCollector);\r\n            }\r\n\r\n            this._collectorsStarted = false;\r\n        },\r\n\r\n        /* use a cookie to store entropy.\r\n        useCookie: function (all_cookies) {\r\n            throw new sjcl.exception.bug(\"random: useCookie is unimplemented\");\r\n        },*/\r\n\r\n        /** add an event listener for progress or seeded-ness. */\r\n        addEventListener: function (name, callback) {\r\n            this._callbacks[name][this._callbackI++] = callback;\r\n        },\r\n\r\n        /** remove an event listener for progress or seeded-ness */\r\n        removeEventListener: function (name, cb) {\r\n            var i, j, cbs = this._callbacks[name], jsTemp = [];\r\n\r\n            /* I'm not sure if this is necessary; in C++, iterating over a\r\n             * collection and modifying it at the same time is a no-no.\r\n             */\r\n\r\n            for (j in cbs) {\r\n                if (cbs.hasOwnProperty(j) && cbs[j] === cb) {\r\n                    jsTemp.push(j);\r\n                }\r\n            }\r\n\r\n            for (i = 0; i < jsTemp.length; i++) {\r\n                j = jsTemp[i];\r\n                delete cbs[j];\r\n            }\r\n        },\r\n\r\n        _bind: function (func) {\r\n            var that = this;\r\n            return function () {\r\n                func.apply(that, arguments);\r\n            };\r\n        },\r\n\r\n        /** Generate 4 random words, no reseed, no gate.\r\n         * @private\r\n         */\r\n        _gen4words: function () {\r\n            for (var i = 0; i < 4; i++) {\r\n                this._counter[i] = this._counter[i] + 1 | 0;\r\n                if (this._counter[i]) { break; }\r\n            }\r\n            return this._cipher.encrypt(this._counter);\r\n        },\r\n\r\n        /* Rekey the AES instance with itself after a request, or every _MAX_WORDS_PER_BURST words.\r\n         * @private\r\n         */\r\n        _gate: function () {\r\n            this._key = this._gen4words().concat(this._gen4words());\r\n            this._cipher = new sjcl.cipher.aes(this._key);\r\n        },\r\n\r\n        /** Reseed the generator with the given words\r\n         * @private\r\n         */\r\n        _reseed: function (seedWords) {\r\n            this._key = sjcl.hash.sha256.hash(this._key.concat(seedWords));\r\n            this._cipher = new sjcl.cipher.aes(this._key);\r\n            for (var i = 0; i < 4; i++) {\r\n                this._counter[i] = this._counter[i] + 1 | 0;\r\n                if (this._counter[i]) { break; }\r\n            }\r\n        },\r\n\r\n        /** reseed the data from the entropy pools\r\n         * @param full If set, use all the entropy pools in the reseed.\r\n         */\r\n        _reseedFromPools: function (full) {\r\n            var reseedData = [], strength = 0, i;\r\n\r\n            this._nextReseed = reseedData[0] =\r\n              (new Date()).valueOf() + this._MILLISECONDS_PER_RESEED;\r\n\r\n            for (i = 0; i < 16; i++) {\r\n                /* On some browsers, this is cryptographically random.  So we might\r\n                 * as well toss it in the pot and stir...\r\n                 */\r\n                reseedData.push(Math.random() * 0x100000000 | 0);\r\n            }\r\n\r\n            for (i = 0; i < this._pools.length; i++) {\r\n                reseedData = reseedData.concat(this._pools[i].finalize());\r\n                strength += this._poolEntropy[i];\r\n                this._poolEntropy[i] = 0;\r\n\r\n                if (!full && (this._reseedCount & (1 << i))) { break; }\r\n            }\r\n\r\n            /* if we used the last pool, push a new one onto the stack */\r\n            if (this._reseedCount >= 1 << this._pools.length) {\r\n                this._pools.push(new sjcl.hash.sha256());\r\n                this._poolEntropy.push(0);\r\n            }\r\n\r\n            /* how strong was this reseed? */\r\n            this._poolStrength -= strength;\r\n            if (strength > this._strength) {\r\n                this._strength = strength;\r\n            }\r\n\r\n            this._reseedCount++;\r\n            this._reseed(reseedData);\r\n        },\r\n\r\n        _keyboardCollector: function () {\r\n            this._addCurrentTimeToEntropy(1);\r\n        },\r\n\r\n        _mouseCollector: function (ev) {\r\n            var x, y;\r\n\r\n            try {\r\n                x = ev.x || ev.clientX || ev.offsetX || 0;\r\n                y = ev.y || ev.clientY || ev.offsetY || 0;\r\n            } catch (err) {\r\n                // Event originated from a secure element. No mouse position available.\r\n                x = 0;\r\n                y = 0;\r\n            }\r\n\r\n            if (x != 0 && y != 0) {\r\n                sjcl.random.addEntropy([x, y], 2, \"mouse\");\r\n            }\r\n\r\n            this._addCurrentTimeToEntropy(0);\r\n        },\r\n\r\n        _touchCollector: function (ev) {\r\n            var touch = ev.touches[0] || ev.changedTouches[0];\r\n            var x = touch.pageX || touch.clientX,\r\n                y = touch.pageY || touch.clientY;\r\n\r\n            sjcl.random.addEntropy([x, y], 1, \"touch\");\r\n\r\n            this._addCurrentTimeToEntropy(0);\r\n        },\r\n\r\n        _loadTimeCollector: function () {\r\n            this._addCurrentTimeToEntropy(2);\r\n        },\r\n\r\n        _addCurrentTimeToEntropy: function (estimatedEntropy) {\r\n            if (typeof window !== 'undefined' && window.performance && typeof window.performance.now === \"function\") {\r\n                //how much entropy do we want to add here?\r\n                sjcl.random.addEntropy(window.performance.now(), estimatedEntropy, \"loadtime\");\r\n            } else {\r\n                sjcl.random.addEntropy((new Date()).valueOf(), estimatedEntropy, \"loadtime\");\r\n            }\r\n        },\r\n        _accelerometerCollector: function (ev) {\r\n            var ac = ev.accelerationIncludingGravity.x || ev.accelerationIncludingGravity.y || ev.accelerationIncludingGravity.z;\r\n            if (window.orientation) {\r\n                var or = window.orientation;\r\n                if (typeof or === \"number\") {\r\n                    sjcl.random.addEntropy(or, 1, \"accelerometer\");\r\n                }\r\n            }\r\n            if (ac) {\r\n                sjcl.random.addEntropy(ac, 2, \"accelerometer\");\r\n            }\r\n            this._addCurrentTimeToEntropy(0);\r\n        },\r\n\r\n        _fireEvent: function (name, arg) {\r\n            var j, cbs = sjcl.random._callbacks[name], cbsTemp = [];\r\n            /* TODO: there is a race condition between removing collectors and firing them */\r\n\r\n            /* I'm not sure if this is necessary; in C++, iterating over a\r\n             * collection and modifying it at the same time is a no-no.\r\n             */\r\n\r\n            for (j in cbs) {\r\n                if (cbs.hasOwnProperty(j)) {\r\n                    cbsTemp.push(cbs[j]);\r\n                }\r\n            }\r\n\r\n            for (j = 0; j < cbsTemp.length; j++) {\r\n                cbsTemp[j](arg);\r\n            }\r\n        }\r\n    };\r\n\r\n    /** an instance for the prng.\r\n    * @see sjcl.prng\r\n    */\r\n    sjcl.random = new sjcl.prng(6);\r\n\r\n    (function () {\r\n        // function for getting nodejs crypto module. catches and ignores errors.\r\n        function getCryptoModule() {\r\n            try {\r\n                return require('crypto');\r\n            }\r\n            catch (e) {\r\n                return null;\r\n            }\r\n        }\r\n\r\n        try {\r\n            var buf, crypt, ab;\r\n\r\n            // get cryptographically strong entropy depending on runtime environment\r\n            if (typeof module !== 'undefined' && module.exports && (crypt = getCryptoModule()) && crypt.randomBytes) {\r\n                buf = crypt.randomBytes(1024 / 8);\r\n                buf = new Uint32Array(new Uint8Array(buf).buffer);\r\n                sjcl.random.addEntropy(buf, 1024, \"crypto.randomBytes\");\r\n\r\n            } else if (typeof window !== 'undefined' && typeof Uint32Array !== 'undefined') {\r\n                ab = new Uint32Array(32);\r\n                if (window.crypto && window.crypto.getRandomValues) {\r\n                    window.crypto.getRandomValues(ab);\r\n                } else if (window.msCrypto && window.msCrypto.getRandomValues) {\r\n                    window.msCrypto.getRandomValues(ab);\r\n                } else {\r\n                    return;\r\n                }\r\n\r\n                // get cryptographically strong entropy in Webkit\r\n                sjcl.random.addEntropy(ab, 1024, \"crypto.getRandomValues\");\r\n\r\n            } else {\r\n                // no getRandomValues :-(\r\n            }\r\n        } catch (e) {\r\n            if (typeof window !== 'undefined' && window.console) {\r\n                console.log(\"There was an error collecting entropy from the browser:\");\r\n                console.log(e);\r\n                //we do not want the library to fail due to randomness not being maintained.\r\n            }\r\n        }\r\n    }());\r\n\r\n\r\n\r\n    /** @fileOverview Bit array codec implementations.\r\n     *\r\n     * @author Emily Stark\r\n     * @author Mike Hamburg\r\n     * @author Dan Boneh\r\n     */\r\n\r\n    /** @namespace Hexadecimal */\r\n    sjcl.codec.hex = {\r\n        /** Convert from a bitArray to a hex string. */\r\n        fromBits: function (arr) {\r\n            var out = \"\", i;\r\n            for (i = 0; i < arr.length; i++) {\r\n                out += ((arr[i] | 0) + 0xF00000000000).toString(16).substr(4);\r\n            }\r\n            return out.substr(0, sjcl.bitArray.bitLength(arr) / 4);//.replace(/(.{8})/g, \"$1 \");\r\n        },\r\n        /** Convert from a hex string to a bitArray. */\r\n        toBits: function (str) {\r\n            var i, out = [], len;\r\n            str = str.replace(/\\s|0x/g, \"\");\r\n            len = str.length;\r\n            str = str + \"00000000\";\r\n            for (i = 0; i < str.length; i += 8) {\r\n                out.push(parseInt(str.substr(i, 8), 16) ^ 0);\r\n            }\r\n            return sjcl.bitArray.clamp(out, len * 4);\r\n        }\r\n    };\r\n\r\n    /** @fileOverview Bit array codec implementations.\r\n *\r\n * @author Emily Stark\r\n * @author Mike Hamburg\r\n * @author Dan Boneh\r\n */\r\n\r\n    /**\r\n     * UTF-8 strings\r\n     * @namespace\r\n     */\r\n    sjcl.codec.utf8String = {\r\n        /** Convert from a bitArray to a UTF-8 string. */\r\n        fromBits: function (arr) {\r\n            var out = \"\", bl = sjcl.bitArray.bitLength(arr), i, tmp;\r\n            for (i = 0; i < bl / 8; i++) {\r\n                if ((i & 3) === 0) {\r\n                    tmp = arr[i / 4];\r\n                }\r\n                out += String.fromCharCode(tmp >>> 24);\r\n                tmp <<= 8;\r\n            }\r\n            return decodeURIComponent(escape(out));\r\n        },\r\n\r\n        /** Convert from a UTF-8 string to a bitArray. */\r\n        toBits: function (str) {\r\n            str = unescape(encodeURIComponent(str));\r\n            var out = [], i, tmp = 0;\r\n            for (i = 0; i < str.length; i++) {\r\n                tmp = tmp << 8 | str.charCodeAt(i);\r\n                if ((i & 3) === 3) {\r\n                    out.push(tmp);\r\n                    tmp = 0;\r\n                }\r\n            }\r\n            if (i & 3) {\r\n                out.push(sjcl.bitArray.partial(8 * (i & 3), tmp));\r\n            }\r\n            return out;\r\n        }\r\n    };\r\n\r\n    /** @fileOverview Bit array codec implementations.\r\n     *\r\n     * @author Emily Stark\r\n     * @author Mike Hamburg\r\n     * @author Dan Boneh\r\n     */\r\n\r\n    /**\r\n     * Base64 encoding/decoding\r\n     * @namespace\r\n     */\r\n    sjcl.codec.base64 = {\r\n        /** The base64 alphabet.\r\n         * @private\r\n         */\r\n        _chars: \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",\r\n\r\n        /** Convert from a bitArray to a base64 string. */\r\n        fromBits: function (arr, _noEquals, _url) {\r\n            var out = \"\", i, bits = 0, c = sjcl.codec.base64._chars, ta = 0, bl = sjcl.bitArray.bitLength(arr);\r\n            if (_url) {\r\n                c = c.substr(0, 62) + '-_';\r\n            }\r\n            for (i = 0; out.length * 6 < bl;) {\r\n                out += c.charAt((ta ^ arr[i] >>> bits) >>> 26);\r\n                if (bits < 6) {\r\n                    ta = arr[i] << (6 - bits);\r\n                    bits += 26;\r\n                    i++;\r\n                } else {\r\n                    ta <<= 6;\r\n                    bits -= 6;\r\n                }\r\n            }\r\n            while ((out.length & 3) && !_noEquals) { out += \"=\"; }\r\n            return out;\r\n        },\r\n\r\n        /** Convert from a base64 string to a bitArray */\r\n        toBits: function (str, _url) {\r\n            str = str.replace(/\\s|=/g, '');\r\n            var out = [], i, bits = 0, c = sjcl.codec.base64._chars, ta = 0, x;\r\n            if (_url) {\r\n                c = c.substr(0, 62) + '-_';\r\n            }\r\n            for (i = 0; i < str.length; i++) {\r\n                x = c.indexOf(str.charAt(i));\r\n                if (x < 0) {\r\n                    throw new sjcl.exception.invalid(\"this isn't base64!\");\r\n                }\r\n                if (bits > 26) {\r\n                    bits -= 26;\r\n                    out.push(ta ^ x >>> bits);\r\n                    ta = x << (32 - bits);\r\n                } else {\r\n                    bits += 6;\r\n                    ta ^= x << (32 - bits);\r\n                }\r\n            }\r\n            if (bits & 56) {\r\n                out.push(sjcl.bitArray.partial(bits & 56, ta, 1));\r\n            }\r\n            return out;\r\n        }\r\n    };\r\n\r\n    sjcl.codec.base64url = {\r\n        fromBits: function (arr) { return sjcl.codec.base64.fromBits(arr, 1, 1); },\r\n        toBits: function (str) { return sjcl.codec.base64.toBits(str, 1); }\r\n    };\r\n    return sjcl;\r\n});\r\n\r\n;(function (factory) {\r\n    'use strict';\r\n    if (typeof define === 'function' && define.amd) {\r\n        define('BigInteger', [], factory);\r\n    } else {\r\n        window.BigInteger = factory();\r\n    }\r\n})(function() {\r\n\r\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\r\n * Basic JavaScript BN library - subset useful for RSA encryption.\r\n * Copyright (c) 2005  Tom Wu\r\n * All Rights Reserved.\r\n * See \"LICENSE\" for details.\r\n */\r\n\r\n// Bits per digit\r\n    ;\r\n    var dbits;\r\n\r\n// JavaScript engine analysis\r\n    var canary = 0xdeadbeefcafe;\r\n    var j_lm = ((canary & 0xffffff) == 0xefcafe);\r\n\r\n// (public) Constructor\r\n    function BigInteger(a, b, c) {\r\n        if (a != null)\r\n            if (\"number\" == typeof a) this.fromNumber(a, b, c);\r\n            else if (b == null && \"string\" != typeof a) this.fromString(a, 256);\r\n            else this.fromString(a, b);\r\n    }\r\n\r\n// return new, unset BigInteger\r\n    function nbi() { return new BigInteger(null); }\r\n\r\n// am: Compute w_j += (x*this_i), propagate carries,\r\n// c is initial carry, returns final carry.\r\n// c < 3*dvalue, x < 2*dvalue, this_i < dvalue\r\n// We need to select the fastest one that works in this environment.\r\n\r\n// am1: use a single mult and divide to get the high bits,\r\n// max digit bits should be 26 because\r\n// max internal value = 2*dvalue^2-2*dvalue (< 2^53)\r\n    function am1(i, x, w, j, c, n) {\r\n        while (--n >= 0) {\r\n            var v = x * this[i++] + w[j] + c;\r\n            c = Math.floor(v / 0x4000000);\r\n            w[j++] = v & 0x3ffffff;\r\n        }\r\n        return c;\r\n    }\r\n\r\n// am2 avoids a big mult-and-extract completely.\r\n// Max digit bits should be <= 30 because we do bitwise ops\r\n// on values up to 2*hdvalue^2-hdvalue-1 (< 2^31)\r\n    function am2(i, x, w, j, c, n) {\r\n        var xl = x & 0x7fff, xh = x >> 15;\r\n        while (--n >= 0) {\r\n            var l = this[i] & 0x7fff;\r\n            var h = this[i++] >> 15;\r\n            var m = xh * l + h * xl;\r\n            l = xl * l + ((m & 0x7fff) << 15) + w[j] + (c & 0x3fffffff);\r\n            c = (l >>> 30) + (m >>> 15) + xh * h + (c >>> 30);\r\n            w[j++] = l & 0x3fffffff;\r\n        }\r\n        return c;\r\n    }\r\n\r\n// Alternately, set max digit bits to 28 since some\r\n// browsers slow down when dealing with 32-bit numbers.\r\n    function am3(i, x, w, j, c, n) {\r\n        var xl = x & 0x3fff, xh = x >> 14;\r\n        while (--n >= 0) {\r\n            var l = this[i] & 0x3fff;\r\n            var h = this[i++] >> 14;\r\n            var m = xh * l + h * xl;\r\n            l = xl * l + ((m & 0x3fff) << 14) + w[j] + c;\r\n            c = (l >> 28) + (m >> 14) + xh * h;\r\n            w[j++] = l & 0xfffffff;\r\n        }\r\n        return c;\r\n    }\r\n\r\n    if (j_lm && (navigator.appName == \"Microsoft Internet Explorer\")) {\r\n        BigInteger.prototype.am = am2;\r\n        dbits = 30;\r\n    } else if (j_lm && (navigator.appName != \"Netscape\")) {\r\n        BigInteger.prototype.am = am1;\r\n        dbits = 26;\r\n    } else { // Mozilla/Netscape seems to prefer am3\r\n        BigInteger.prototype.am = am3;\r\n        dbits = 28;\r\n    }\r\n\r\n    BigInteger.prototype.DB = dbits;\r\n    BigInteger.prototype.DM = ((1 << dbits) - 1);\r\n    BigInteger.prototype.DV = (1 << dbits);\r\n\r\n    var BI_FP = 52;\r\n    BigInteger.prototype.FV = Math.pow(2, BI_FP);\r\n    BigInteger.prototype.F1 = BI_FP - dbits;\r\n    BigInteger.prototype.F2 = 2 * dbits - BI_FP;\r\n\r\n// Digit conversions\r\n    var BI_RM = \"0123456789abcdefghijklmnopqrstuvwxyz\";\r\n    var BI_RC = new Array();\r\n    var rr, vv;\r\n    rr = \"0\".charCodeAt(0);\r\n    for (vv = 0; vv <= 9; ++vv) BI_RC[rr++] = vv;\r\n    rr = \"a\".charCodeAt(0);\r\n    for (vv = 10; vv < 36; ++vv) BI_RC[rr++] = vv;\r\n    rr = \"A\".charCodeAt(0);\r\n    for (vv = 10; vv < 36; ++vv) BI_RC[rr++] = vv;\r\n\r\n    function int2char(n) { return BI_RM.charAt(n); }\r\n\r\n    function intAt(s, i) {\r\n        var c = BI_RC[s.charCodeAt(i)];\r\n        return (c == null) ? -1 : c;\r\n    }\r\n\r\n// (protected) copy this to r\r\n    function bnpCopyTo(r) {\r\n        for (var i = this.t - 1; i >= 0; --i) r[i] = this[i];\r\n        r.t = this.t;\r\n        r.s = this.s;\r\n    }\r\n\r\n// (protected) set from integer value x, -DV <= x < DV\r\n    function bnpFromInt(x) {\r\n        this.t = 1;\r\n        this.s = (x < 0) ? -1 : 0;\r\n        if (x > 0) this[0] = x;\r\n        else if (x < -1) this[0] = x + DV;\r\n        else this.t = 0;\r\n    }\r\n\r\n// return bigint initialized to value\r\n    function nbv(i) {\r\n        var r = nbi();\r\n        r.fromInt(i);\r\n        return r;\r\n    }\r\n\r\n// (protected) set from string and radix\r\n    function bnpFromString(s, b) {\r\n        var k;\r\n        if (b == 16) k = 4;\r\n        else if (b == 8) k = 3;\r\n        else if (b == 256) k = 8; // byte array\r\n        else if (b == 2) k = 1;\r\n        else if (b == 32) k = 5;\r\n        else if (b == 4) k = 2;\r\n        else {\r\n            this.fromRadix(s, b);\r\n            return;\r\n        }\r\n        this.t = 0;\r\n        this.s = 0;\r\n        var i = s.length, mi = false, sh = 0;\r\n        while (--i >= 0) {\r\n            var x = (k == 8) ? s[i] & 0xff : intAt(s, i);\r\n            if (x < 0) {\r\n                if (s.charAt(i) == \"-\") mi = true;\r\n                continue;\r\n            }\r\n            mi = false;\r\n            if (sh == 0)\r\n                this[this.t++] = x;\r\n            else if (sh + k > this.DB) {\r\n                this[this.t - 1] |= (x & ((1 << (this.DB - sh)) - 1)) << sh;\r\n                this[this.t++] = (x >> (this.DB - sh));\r\n            } else\r\n                this[this.t - 1] |= x << sh;\r\n            sh += k;\r\n            if (sh >= this.DB) sh -= this.DB;\r\n        }\r\n        if (k == 8 && (s[0] & 0x80) != 0) {\r\n            this.s = -1;\r\n            if (sh > 0) this[this.t - 1] |= ((1 << (this.DB - sh)) - 1) << sh;\r\n        }\r\n        this.clamp();\r\n        if (mi) BigInteger.ZERO.subTo(this, this);\r\n    }\r\n\r\n// (protected) clamp off excess high words\r\n    function bnpClamp() {\r\n        var c = this.s & this.DM;\r\n        while (this.t > 0 && this[this.t - 1] == c)--this.t;\r\n    }\r\n\r\n// (public) return string representation in given radix\r\n    function bnToString(b) {\r\n        if (this.s < 0) return \"-\" + this.negate().toString(b);\r\n        var k;\r\n        if (b == 16) k = 4;\r\n        else if (b == 8) k = 3;\r\n        else if (b == 2) k = 1;\r\n        else if (b == 32) k = 5;\r\n        else if (b == 4) k = 2;\r\n        else return this.toRadix(b);\r\n        var km = (1 << k) - 1, d, m = false, r = \"\", i = this.t;\r\n        var p = this.DB - (i * this.DB) % k;\r\n        if (i-- > 0) {\r\n            if (p < this.DB && (d = this[i] >> p) > 0) {\r\n                m = true;\r\n                r = int2char(d);\r\n            }\r\n            while (i >= 0) {\r\n                if (p < k) {\r\n                    d = (this[i] & ((1 << p) - 1)) << (k - p);\r\n                    d |= this[--i] >> (p += this.DB - k);\r\n                } else {\r\n                    d = (this[i] >> (p -= k)) & km;\r\n                    if (p <= 0) {\r\n                        p += this.DB;\r\n                        --i;\r\n                    }\r\n                }\r\n                if (d > 0) m = true;\r\n                if (m) r += int2char(d);\r\n            }\r\n        }\r\n        return m ? r : \"0\";\r\n    }\r\n\r\n// (public) -this\r\n    function bnNegate() {\r\n        var r = nbi();\r\n        BigInteger.ZERO.subTo(this, r);\r\n        return r;\r\n    }\r\n\r\n// (public) |this|\r\n    function bnAbs() { return (this.s < 0) ? this.negate() : this; }\r\n\r\n// (public) return + if this > a, - if this < a, 0 if equal\r\n    function bnCompareTo(a) {\r\n        var r = this.s - a.s;\r\n        if (r != 0) return r;\r\n        var i = this.t;\r\n        r = i - a.t;\r\n        if (r != 0) return (this.s < 0) ? -r : r;\r\n        while (--i >= 0) if ((r = this[i] - a[i]) != 0) return r;\r\n        return 0;\r\n    }\r\n\r\n// returns bit length of the integer x\r\n    function nbits(x) {\r\n        var r = 1, t;\r\n        if ((t = x >>> 16) != 0) {\r\n            x = t;\r\n            r += 16;\r\n        }\r\n        if ((t = x >> 8) != 0) {\r\n            x = t;\r\n            r += 8;\r\n        }\r\n        if ((t = x >> 4) != 0) {\r\n            x = t;\r\n            r += 4;\r\n        }\r\n        if ((t = x >> 2) != 0) {\r\n            x = t;\r\n            r += 2;\r\n        }\r\n        if ((t = x >> 1) != 0) {\r\n            x = t;\r\n            r += 1;\r\n        }\r\n        return r;\r\n    }\r\n\r\n// (public) return the number of bits in \"this\"\r\n    function bnBitLength() {\r\n        if (this.t <= 0) return 0;\r\n        return this.DB * (this.t - 1) + nbits(this[this.t - 1] ^ (this.s & this.DM));\r\n    }\r\n\r\n// (protected) r = this << n*DB\r\n    function bnpDLShiftTo(n, r) {\r\n        var i;\r\n        for (i = this.t - 1; i >= 0; --i) r[i + n] = this[i];\r\n        for (i = n - 1; i >= 0; --i) r[i] = 0;\r\n        r.t = this.t + n;\r\n        r.s = this.s;\r\n    }\r\n\r\n// (protected) r = this >> n*DB\r\n    function bnpDRShiftTo(n, r) {\r\n        for (var i = n; i < this.t; ++i) r[i - n] = this[i];\r\n        r.t = Math.max(this.t - n, 0);\r\n        r.s = this.s;\r\n    }\r\n\r\n// (protected) r = this << n\r\n    function bnpLShiftTo(n, r) {\r\n        var bs = n % this.DB;\r\n        var cbs = this.DB - bs;\r\n        var bm = (1 << cbs) - 1;\r\n        var ds = Math.floor(n / this.DB), c = (this.s << bs) & this.DM, i;\r\n        for (i = this.t - 1; i >= 0; --i) {\r\n            r[i + ds + 1] = (this[i] >> cbs) | c;\r\n            c = (this[i] & bm) << bs;\r\n        }\r\n        for (i = ds - 1; i >= 0; --i) r[i] = 0;\r\n        r[ds] = c;\r\n        r.t = this.t + ds + 1;\r\n        r.s = this.s;\r\n        r.clamp();\r\n    }\r\n\r\n// (protected) r = this >> n\r\n    function bnpRShiftTo(n, r) {\r\n        r.s = this.s;\r\n        var ds = Math.floor(n / this.DB);\r\n        if (ds >= this.t) {\r\n            r.t = 0;\r\n            return;\r\n        }\r\n        var bs = n % this.DB;\r\n        var cbs = this.DB - bs;\r\n        var bm = (1 << bs) - 1;\r\n        r[0] = this[ds] >> bs;\r\n        for (var i = ds + 1; i < this.t; ++i) {\r\n            r[i - ds - 1] |= (this[i] & bm) << cbs;\r\n            r[i - ds] = this[i] >> bs;\r\n        }\r\n        if (bs > 0) r[this.t - ds - 1] |= (this.s & bm) << cbs;\r\n        r.t = this.t - ds;\r\n        r.clamp();\r\n    }\r\n\r\n// (protected) r = this - a\r\n    function bnpSubTo(a, r) {\r\n        var i = 0, c = 0, m = Math.min(a.t, this.t);\r\n        while (i < m) {\r\n            c += this[i] - a[i];\r\n            r[i++] = c & this.DM;\r\n            c >>= this.DB;\r\n        }\r\n        if (a.t < this.t) {\r\n            c -= a.s;\r\n            while (i < this.t) {\r\n                c += this[i];\r\n                r[i++] = c & this.DM;\r\n                c >>= this.DB;\r\n            }\r\n            c += this.s;\r\n        } else {\r\n            c += this.s;\r\n            while (i < a.t) {\r\n                c -= a[i];\r\n                r[i++] = c & this.DM;\r\n                c >>= this.DB;\r\n            }\r\n            c -= a.s;\r\n        }\r\n        r.s = (c < 0) ? -1 : 0;\r\n        if (c < -1) r[i++] = this.DV + c;\r\n        else if (c > 0) r[i++] = c;\r\n        r.t = i;\r\n        r.clamp();\r\n    }\r\n\r\n// (protected) r = this * a, r != this,a (HAC 14.12)\r\n// \"this\" should be the larger one if appropriate.\r\n    function bnpMultiplyTo(a, r) {\r\n        var x = this.abs(), y = a.abs();\r\n        var i = x.t;\r\n        r.t = i + y.t;\r\n        while (--i >= 0) r[i] = 0;\r\n        for (i = 0; i < y.t; ++i) r[i + x.t] = x.am(0, y[i], r, i, 0, x.t);\r\n        r.s = 0;\r\n        r.clamp();\r\n        if (this.s != a.s) BigInteger.ZERO.subTo(r, r);\r\n    }\r\n\r\n// (protected) r = this^2, r != this (HAC 14.16)\r\n    function bnpSquareTo(r) {\r\n        var x = this.abs();\r\n        var i = r.t = 2 * x.t;\r\n        while (--i >= 0) r[i] = 0;\r\n        for (i = 0; i < x.t - 1; ++i) {\r\n            var c = x.am(i, x[i], r, 2 * i, 0, 1);\r\n            if ((r[i + x.t] += x.am(i + 1, 2 * x[i], r, 2 * i + 1, c, x.t - i - 1)) >= x.DV) {\r\n                r[i + x.t] -= x.DV;\r\n                r[i + x.t + 1] = 1;\r\n            }\r\n        }\r\n        if (r.t > 0) r[r.t - 1] += x.am(i, x[i], r, 2 * i, 0, 1);\r\n        r.s = 0;\r\n        r.clamp();\r\n    }\r\n\r\n// (protected) divide this by m, quotient and remainder to q, r (HAC 14.20)\r\n// r != q, this != m.  q or r may be null.\r\n    function bnpDivRemTo(m, q, r) {\r\n        var pm = m.abs();\r\n        if (pm.t <= 0) return;\r\n        var pt = this.abs();\r\n        if (pt.t < pm.t) {\r\n            if (q != null) q.fromInt(0);\r\n            if (r != null) this.copyTo(r);\r\n            return;\r\n        }\r\n        if (r == null) r = nbi();\r\n        var y = nbi(), ts = this.s, ms = m.s;\r\n        var nsh = this.DB - nbits(pm[pm.t - 1]); // normalize modulus\r\n        if (nsh > 0) {\r\n            pm.lShiftTo(nsh, y);\r\n            pt.lShiftTo(nsh, r);\r\n        } else {\r\n            pm.copyTo(y);\r\n            pt.copyTo(r);\r\n        }\r\n        var ys = y.t;\r\n        var y0 = y[ys - 1];\r\n        if (y0 == 0) return;\r\n        var yt = y0 * (1 << this.F1) + ((ys > 1) ? y[ys - 2] >> this.F2 : 0);\r\n        var d1 = this.FV / yt, d2 = (1 << this.F1) / yt, e = 1 << this.F2;\r\n        var i = r.t, j = i - ys, t = (q == null) ? nbi() : q;\r\n        y.dlShiftTo(j, t);\r\n        if (r.compareTo(t) >= 0) {\r\n            r[r.t++] = 1;\r\n            r.subTo(t, r);\r\n        }\r\n        BigInteger.ONE.dlShiftTo(ys, t);\r\n        t.subTo(y, y); // \"negative\" y so we can replace sub with am later\r\n        while (y.t < ys) y[y.t++] = 0;\r\n        while (--j >= 0) {\r\n            // Estimate quotient digit\r\n            var qd = (r[--i] == y0) ? this.DM : Math.floor(r[i] * d1 + (r[i - 1] + e) * d2);\r\n            if ((r[i] += y.am(0, qd, r, j, 0, ys)) < qd) { // Try it out\r\n                y.dlShiftTo(j, t);\r\n                r.subTo(t, r);\r\n                while (r[i] < --qd) r.subTo(t, r);\r\n            }\r\n        }\r\n        if (q != null) {\r\n            r.drShiftTo(ys, q);\r\n            if (ts != ms) BigInteger.ZERO.subTo(q, q);\r\n        }\r\n        r.t = ys;\r\n        r.clamp();\r\n        if (nsh > 0) r.rShiftTo(nsh, r); // Denormalize remainder\r\n        if (ts < 0) BigInteger.ZERO.subTo(r, r);\r\n    }\r\n\r\n// (public) this mod a\r\n    function bnMod(a) {\r\n        var r = nbi();\r\n        this.abs().divRemTo(a, null, r);\r\n        if (this.s < 0 && r.compareTo(BigInteger.ZERO) > 0) a.subTo(r, r);\r\n        return r;\r\n    }\r\n\r\n// Modular reduction using \"classic\" algorithm\r\n    function Classic(m) { this.m = m; }\r\n\r\n    function cConvert(x) {\r\n        if (x.s < 0 || x.compareTo(this.m) >= 0) return x.mod(this.m);\r\n        else return x;\r\n    }\r\n\r\n    function cRevert(x) { return x; }\r\n\r\n    function cReduce(x) { x.divRemTo(this.m, null, x); }\r\n\r\n    function cMulTo(x, y, r) {\r\n        x.multiplyTo(y, r);\r\n        this.reduce(r);\r\n    }\r\n\r\n    function cSqrTo(x, r) {\r\n        x.squareTo(r);\r\n        this.reduce(r);\r\n    }\r\n\r\n    Classic.prototype.convert = cConvert;\r\n    Classic.prototype.revert = cRevert;\r\n    Classic.prototype.reduce = cReduce;\r\n    Classic.prototype.mulTo = cMulTo;\r\n    Classic.prototype.sqrTo = cSqrTo;\r\n\r\n// (protected) return \"-1/this % 2^DB\"; useful for Mont. reduction\r\n// justification:\r\n//         xy == 1 (mod m)\r\n//         xy =  1+km\r\n//   xy(2-xy) = (1+km)(1-km)\r\n// x[y(2-xy)] = 1-k^2m^2\r\n// x[y(2-xy)] == 1 (mod m^2)\r\n// if y is 1/x mod m, then y(2-xy) is 1/x mod m^2\r\n// should reduce x and y(2-xy) by m^2 at each step to keep size bounded.\r\n// JS multiply \"overflows\" differently from C/C++, so care is needed here.\r\n    function bnpInvDigit() {\r\n        if (this.t < 1) return 0;\r\n        var x = this[0];\r\n        if ((x & 1) == 0) return 0;\r\n        var y = x & 3; // y == 1/x mod 2^2\r\n        y = (y * (2 - (x & 0xf) * y)) & 0xf; // y == 1/x mod 2^4\r\n        y = (y * (2 - (x & 0xff) * y)) & 0xff; // y == 1/x mod 2^8\r\n        y = (y * (2 - (((x & 0xffff) * y) & 0xffff))) & 0xffff; // y == 1/x mod 2^16\r\n        // last step - calculate inverse mod DV directly;\r\n        // assumes 16 < DB <= 32 and assumes ability to handle 48-bit ints\r\n        y = (y * (2 - x * y % this.DV)) % this.DV; // y == 1/x mod 2^dbits\r\n        // we really want the negative inverse, and -DV < y < DV\r\n        return (y > 0) ? this.DV - y : -y;\r\n    }\r\n\r\n// Montgomery reduction\r\n    function Montgomery(m) {\r\n        this.m = m;\r\n        this.mp = m.invDigit();\r\n        this.mpl = this.mp & 0x7fff;\r\n        this.mph = this.mp >> 15;\r\n        this.um = (1 << (m.DB - 15)) - 1;\r\n        this.mt2 = 2 * m.t;\r\n    }\r\n\r\n// xR mod m\r\n    function montConvert(x) {\r\n        var r = nbi();\r\n        x.abs().dlShiftTo(this.m.t, r);\r\n        r.divRemTo(this.m, null, r);\r\n        if (x.s < 0 && r.compareTo(BigInteger.ZERO) > 0) this.m.subTo(r, r);\r\n        return r;\r\n    }\r\n\r\n// x/R mod m\r\n    function montRevert(x) {\r\n        var r = nbi();\r\n        x.copyTo(r);\r\n        this.reduce(r);\r\n        return r;\r\n    }\r\n\r\n// x = x/R mod m (HAC 14.32)\r\n    function montReduce(x) {\r\n        while (x.t <= this.mt2) // pad x so am has enough room later\r\n            x[x.t++] = 0;\r\n        for (var i = 0; i < this.m.t; ++i) {\r\n            // faster way of calculating u0 = x[i]*mp mod DV\r\n            var j = x[i] & 0x7fff;\r\n            var u0 = (j * this.mpl + (((j * this.mph + (x[i] >> 15) * this.mpl) & this.um) << 15)) & x.DM;\r\n            // use am to combine the multiply-shift-add into one call\r\n            j = i + this.m.t;\r\n            x[j] += this.m.am(0, u0, x, i, 0, this.m.t);\r\n            // propagate carry\r\n            while (x[j] >= x.DV) {\r\n                x[j] -= x.DV;\r\n                x[++j]++;\r\n            }\r\n        }\r\n        x.clamp();\r\n        x.drShiftTo(this.m.t, x);\r\n        if (x.compareTo(this.m) >= 0) x.subTo(this.m, x);\r\n    }\r\n\r\n// r = \"x^2/R mod m\"; x != r\r\n    function montSqrTo(x, r) {\r\n        x.squareTo(r);\r\n        this.reduce(r);\r\n    }\r\n\r\n// r = \"xy/R mod m\"; x,y != r\r\n    function montMulTo(x, y, r) {\r\n        x.multiplyTo(y, r);\r\n        this.reduce(r);\r\n    }\r\n\r\n    Montgomery.prototype.convert = montConvert;\r\n    Montgomery.prototype.revert = montRevert;\r\n    Montgomery.prototype.reduce = montReduce;\r\n    Montgomery.prototype.mulTo = montMulTo;\r\n    Montgomery.prototype.sqrTo = montSqrTo;\r\n\r\n// (protected) true iff this is even\r\n    function bnpIsEven() { return ((this.t > 0) ? (this[0] & 1) : this.s) == 0; }\r\n\r\n// (protected) this^e, e < 2^32, doing sqr and mul with \"r\" (HAC 14.79)\r\n    function bnpExp(e, z) {\r\n        if (e > 0xffffffff || e < 1) return BigInteger.ONE;\r\n        var r = nbi(), r2 = nbi(), g = z.convert(this), i = nbits(e) - 1;\r\n        g.copyTo(r);\r\n        while (--i >= 0) {\r\n            z.sqrTo(r, r2);\r\n            if ((e & (1 << i)) > 0) z.mulTo(r2, g, r);\r\n            else {\r\n                var t = r;\r\n                r = r2;\r\n                r2 = t;\r\n            }\r\n        }\r\n        return z.revert(r);\r\n    }\r\n\r\n// (public) this^e % m, 0 <= e < 2^32\r\n    function bnModPowInt(e, m) {\r\n        var z;\r\n        if (e < 256 || m.isEven()) z = new Classic(m);\r\n        else z = new Montgomery(m);\r\n        return this.exp(e, z);\r\n    }\r\n\r\n// protected\r\n    BigInteger.prototype.copyTo = bnpCopyTo;\r\n    BigInteger.prototype.fromInt = bnpFromInt;\r\n    BigInteger.prototype.fromString = bnpFromString;\r\n    BigInteger.prototype.clamp = bnpClamp;\r\n    BigInteger.prototype.dlShiftTo = bnpDLShiftTo;\r\n    BigInteger.prototype.drShiftTo = bnpDRShiftTo;\r\n    BigInteger.prototype.lShiftTo = bnpLShiftTo;\r\n    BigInteger.prototype.rShiftTo = bnpRShiftTo;\r\n    BigInteger.prototype.subTo = bnpSubTo;\r\n    BigInteger.prototype.multiplyTo = bnpMultiplyTo;\r\n    BigInteger.prototype.squareTo = bnpSquareTo;\r\n    BigInteger.prototype.divRemTo = bnpDivRemTo;\r\n    BigInteger.prototype.invDigit = bnpInvDigit;\r\n    BigInteger.prototype.isEven = bnpIsEven;\r\n    BigInteger.prototype.exp = bnpExp;\r\n\r\n// public\r\n    BigInteger.prototype.toString = bnToString;\r\n    BigInteger.prototype.negate = bnNegate;\r\n    BigInteger.prototype.abs = bnAbs;\r\n    BigInteger.prototype.compareTo = bnCompareTo;\r\n    BigInteger.prototype.bitLength = bnBitLength;\r\n    BigInteger.prototype.mod = bnMod;\r\n    BigInteger.prototype.modPowInt = bnModPowInt;\r\n\r\n// \"constants\"\r\n    BigInteger.ZERO = nbv(0);\r\n    BigInteger.ONE = nbv(1);\r\n\r\n// Copyright (c) 2005-2009  Tom Wu\r\n// All Rights Reserved.\r\n// See \"LICENSE\" for details.\r\n\r\n// Extended JavaScript BN functions, required for RSA private ops.\r\n\r\n// Version 1.1: new BigInteger(\"0\", 10) returns \"proper\" zero\r\n// Version 1.2: square() API, isProbablePrime fix\r\n\r\n// (public)\r\n    function bnClone() {\r\n        var r = nbi();\r\n        this.copyTo(r);\r\n        return r;\r\n    }\r\n\r\n// (public) return value as integer\r\n    function bnIntValue() {\r\n        if (this.s < 0) {\r\n            if (this.t == 1) return this[0] - this.DV;\r\n            else if (this.t == 0) return -1;\r\n        } else if (this.t == 1) return this[0];\r\n        else if (this.t == 0) return 0;\r\n        // assumes 16 < DB < 32\r\n        return ((this[1] & ((1 << (32 - this.DB)) - 1)) << this.DB) | this[0];\r\n    }\r\n\r\n// (public) return value as byte\r\n    function bnByteValue() { return (this.t == 0) ? this.s : (this[0] << 24) >> 24; }\r\n\r\n// (public) return value as short (assumes DB>=16)\r\n    function bnShortValue() { return (this.t == 0) ? this.s : (this[0] << 16) >> 16; }\r\n\r\n// (protected) return x s.t. r^x < DV\r\n    function bnpChunkSize(r) { return Math.floor(Math.LN2 * this.DB / Math.log(r)); }\r\n\r\n// (public) 0 if this == 0, 1 if this > 0\r\n    function bnSigNum() {\r\n        if (this.s < 0) return -1;\r\n        else if (this.t <= 0 || (this.t == 1 && this[0] <= 0)) return 0;\r\n        else return 1;\r\n    }\r\n\r\n// (protected) convert to radix string\r\n    function bnpToRadix(b) {\r\n        if (b == null) b = 10;\r\n        if (this.signum() == 0 || b < 2 || b > 36) return \"0\";\r\n        var cs = this.chunkSize(b);\r\n        var a = Math.pow(b, cs);\r\n        var d = nbv(a), y = nbi(), z = nbi(), r = \"\";\r\n        this.divRemTo(d, y, z);\r\n        while (y.signum() > 0) {\r\n            r = (a + z.intValue()).toString(b).substr(1) + r;\r\n            y.divRemTo(d, y, z);\r\n        }\r\n        return z.intValue().toString(b) + r;\r\n    }\r\n\r\n// (protected) convert from radix string\r\n    function bnpFromRadix(s, b) {\r\n        this.fromInt(0);\r\n        if (b == null) b = 10;\r\n        var cs = this.chunkSize(b);\r\n        var d = Math.pow(b, cs), mi = false, j = 0, w = 0;\r\n        for (var i = 0; i < s.length; ++i) {\r\n            var x = intAt(s, i);\r\n            if (x < 0) {\r\n                if (s.charAt(i) == \"-\" && this.signum() == 0) mi = true;\r\n                continue;\r\n            }\r\n            w = b * w + x;\r\n            if (++j >= cs) {\r\n                this.dMultiply(d);\r\n                this.dAddOffset(w, 0);\r\n                j = 0;\r\n                w = 0;\r\n            }\r\n        }\r\n        if (j > 0) {\r\n            this.dMultiply(Math.pow(b, j));\r\n            this.dAddOffset(w, 0);\r\n        }\r\n        if (mi) BigInteger.ZERO.subTo(this, this);\r\n    }\r\n\r\n// (protected) alternate constructor\r\n    function bnpFromNumber(a, b, c) {\r\n        if (\"number\" == typeof b) {\r\n            // new BigInteger(int,int,RNG)\r\n            if (a < 2) this.fromInt(1);\r\n            else {\r\n                this.fromNumber(a, c);\r\n                if (!this.testBit(a - 1)) // force MSB set\r\n                    this.bitwiseTo(BigInteger.ONE.shiftLeft(a - 1), op_or, this);\r\n                if (this.isEven()) this.dAddOffset(1, 0); // force odd\r\n                while (!this.isProbablePrime(b)) {\r\n                    this.dAddOffset(2, 0);\r\n                    if (this.bitLength() > a) this.subTo(BigInteger.ONE.shiftLeft(a - 1), this);\r\n                }\r\n            }\r\n        } else {\r\n            // new BigInteger(int,RNG)\r\n            var x = new Array(), t = a & 7;\r\n            x.length = (a >> 3) + 1;\r\n            b.nextBytes(x);\r\n            if (t > 0) x[0] &= ((1 << t) - 1);\r\n            else x[0] = 0;\r\n            this.fromString(x, 256);\r\n        }\r\n    }\r\n\r\n// (public) convert to bigendian byte array\r\n    function bnToByteArray() {\r\n        var i = this.t, r = new Array();\r\n        r[0] = this.s;\r\n        var p = this.DB - (i * this.DB) % 8, d, k = 0;\r\n        if (i-- > 0) {\r\n            if (p < this.DB && (d = this[i] >> p) != (this.s & this.DM) >> p)\r\n                r[k++] = d | (this.s << (this.DB - p));\r\n            while (i >= 0) {\r\n                if (p < 8) {\r\n                    d = (this[i] & ((1 << p) - 1)) << (8 - p);\r\n                    d |= this[--i] >> (p += this.DB - 8);\r\n                } else {\r\n                    d = (this[i] >> (p -= 8)) & 0xff;\r\n                    if (p <= 0) {\r\n                        p += this.DB;\r\n                        --i;\r\n                    }\r\n                }\r\n                if ((d & 0x80) != 0) d |= -256;\r\n                if (k == 0 && (this.s & 0x80) != (d & 0x80))++k;\r\n                if (k > 0 || d != this.s) r[k++] = d;\r\n            }\r\n        }\r\n        return r;\r\n    }\r\n\r\n    function bnEquals(a) { return (this.compareTo(a) == 0); }\r\n\r\n    function bnMin(a) { return (this.compareTo(a) < 0) ? this : a; }\r\n\r\n    function bnMax(a) { return (this.compareTo(a) > 0) ? this : a; }\r\n\r\n// (protected) r = this op a (bitwise)\r\n    function bnpBitwiseTo(a, op, r) {\r\n        var i, f, m = Math.min(a.t, this.t);\r\n        for (i = 0; i < m; ++i) r[i] = op(this[i], a[i]);\r\n        if (a.t < this.t) {\r\n            f = a.s & this.DM;\r\n            for (i = m; i < this.t; ++i) r[i] = op(this[i], f);\r\n            r.t = this.t;\r\n        } else {\r\n            f = this.s & this.DM;\r\n            for (i = m; i < a.t; ++i) r[i] = op(f, a[i]);\r\n            r.t = a.t;\r\n        }\r\n        r.s = op(this.s, a.s);\r\n        r.clamp();\r\n    }\r\n\r\n// (public) this & a\r\n    function op_and(x, y) { return x & y; }\r\n\r\n    function bnAnd(a) {\r\n        var r = nbi();\r\n        this.bitwiseTo(a, op_and, r);\r\n        return r;\r\n    }\r\n\r\n// (public) this | a\r\n    function op_or(x, y) { return x | y; }\r\n\r\n    function bnOr(a) {\r\n        var r = nbi();\r\n        this.bitwiseTo(a, op_or, r);\r\n        return r;\r\n    }\r\n\r\n// (public) this ^ a\r\n    function op_xor(x, y) { return x ^ y; }\r\n\r\n    function bnXor(a) {\r\n        var r = nbi();\r\n        this.bitwiseTo(a, op_xor, r);\r\n        return r;\r\n    }\r\n\r\n// (public) this & ~a\r\n    function op_andnot(x, y) { return x & ~y; }\r\n\r\n    function bnAndNot(a) {\r\n        var r = nbi();\r\n        this.bitwiseTo(a, op_andnot, r);\r\n        return r;\r\n    }\r\n\r\n// (public) ~this\r\n    function bnNot() {\r\n        var r = nbi();\r\n        for (var i = 0; i < this.t; ++i) r[i] = this.DM & ~this[i];\r\n        r.t = this.t;\r\n        r.s = ~this.s;\r\n        return r;\r\n    }\r\n\r\n// (public) this << n\r\n    function bnShiftLeft(n) {\r\n        var r = nbi();\r\n        if (n < 0) this.rShiftTo(-n, r);\r\n        else this.lShiftTo(n, r);\r\n        return r;\r\n    }\r\n\r\n// (public) this >> n\r\n    function bnShiftRight(n) {\r\n        var r = nbi();\r\n        if (n < 0) this.lShiftTo(-n, r);\r\n        else this.rShiftTo(n, r);\r\n        return r;\r\n    }\r\n\r\n// return index of lowest 1-bit in x, x < 2^31\r\n    function lbit(x) {\r\n        if (x == 0) return -1;\r\n        var r = 0;\r\n        if ((x & 0xffff) == 0) {\r\n            x >>= 16;\r\n            r += 16;\r\n        }\r\n        if ((x & 0xff) == 0) {\r\n            x >>= 8;\r\n            r += 8;\r\n        }\r\n        if ((x & 0xf) == 0) {\r\n            x >>= 4;\r\n            r += 4;\r\n        }\r\n        if ((x & 3) == 0) {\r\n            x >>= 2;\r\n            r += 2;\r\n        }\r\n        if ((x & 1) == 0)++r;\r\n        return r;\r\n    }\r\n\r\n// (public) returns index of lowest 1-bit (or -1 if none)\r\n    function bnGetLowestSetBit() {\r\n        for (var i = 0; i < this.t; ++i)\r\n            if (this[i] != 0) return i * this.DB + lbit(this[i]);\r\n        if (this.s < 0) return this.t * this.DB;\r\n        return -1;\r\n    }\r\n\r\n// return number of 1 bits in x\r\n    function cbit(x) {\r\n        var r = 0;\r\n        while (x != 0) {\r\n            x &= x - 1;\r\n            ++r;\r\n        }\r\n        return r;\r\n    }\r\n\r\n// (public) return number of set bits\r\n    function bnBitCount() {\r\n        var r = 0, x = this.s & this.DM;\r\n        for (var i = 0; i < this.t; ++i) r += cbit(this[i] ^ x);\r\n        return r;\r\n    }\r\n\r\n// (public) true iff nth bit is set\r\n    function bnTestBit(n) {\r\n        var j = Math.floor(n / this.DB);\r\n        if (j >= this.t) return (this.s != 0);\r\n        return ((this[j] & (1 << (n % this.DB))) != 0);\r\n    }\r\n\r\n// (protected) this op (1<<n)\r\n    function bnpChangeBit(n, op) {\r\n        var r = BigInteger.ONE.shiftLeft(n);\r\n        this.bitwiseTo(r, op, r);\r\n        return r;\r\n    }\r\n\r\n// (public) this | (1<<n)\r\n    function bnSetBit(n) { return this.changeBit(n, op_or); }\r\n\r\n// (public) this & ~(1<<n)\r\n    function bnClearBit(n) { return this.changeBit(n, op_andnot); }\r\n\r\n// (public) this ^ (1<<n)\r\n    function bnFlipBit(n) { return this.changeBit(n, op_xor); }\r\n\r\n// (protected) r = this + a\r\n    function bnpAddTo(a, r) {\r\n        var i = 0, c = 0, m = Math.min(a.t, this.t);\r\n        while (i < m) {\r\n            c += this[i] + a[i];\r\n            r[i++] = c & this.DM;\r\n            c >>= this.DB;\r\n        }\r\n        if (a.t < this.t) {\r\n            c += a.s;\r\n            while (i < this.t) {\r\n                c += this[i];\r\n                r[i++] = c & this.DM;\r\n                c >>= this.DB;\r\n            }\r\n            c += this.s;\r\n        } else {\r\n            c += this.s;\r\n            while (i < a.t) {\r\n                c += a[i];\r\n                r[i++] = c & this.DM;\r\n                c >>= this.DB;\r\n            }\r\n            c += a.s;\r\n        }\r\n        r.s = (c < 0) ? -1 : 0;\r\n        if (c > 0) r[i++] = c;\r\n        else if (c < -1) r[i++] = this.DV + c;\r\n        r.t = i;\r\n        r.clamp();\r\n    }\r\n\r\n// (public) this + a\r\n    function bnAdd(a) {\r\n        var r = nbi();\r\n        this.addTo(a, r);\r\n        return r;\r\n    }\r\n\r\n// (public) this - a\r\n    function bnSubtract(a) {\r\n        var r = nbi();\r\n        this.subTo(a, r);\r\n        return r;\r\n    }\r\n\r\n// (public) this * a\r\n    function bnMultiply(a) {\r\n        var r = nbi();\r\n        this.multiplyTo(a, r);\r\n        return r;\r\n    }\r\n\r\n// (public) this^2\r\n    function bnSquare() {\r\n        var r = nbi();\r\n        this.squareTo(r);\r\n        return r;\r\n    }\r\n\r\n// (public) this / a\r\n    function bnDivide(a) {\r\n        var r = nbi();\r\n        this.divRemTo(a, r, null);\r\n        return r;\r\n    }\r\n\r\n// (public) this % a\r\n    function bnRemainder(a) {\r\n        var r = nbi();\r\n        this.divRemTo(a, null, r);\r\n        return r;\r\n    }\r\n\r\n// (public) [this/a,this%a]\r\n    function bnDivideAndRemainder(a) {\r\n        var q = nbi(), r = nbi();\r\n        this.divRemTo(a, q, r);\r\n        return new Array(q, r);\r\n    }\r\n\r\n// (protected) this *= n, this >= 0, 1 < n < DV\r\n    function bnpDMultiply(n) {\r\n        this[this.t] = this.am(0, n - 1, this, 0, 0, this.t);\r\n        ++this.t;\r\n        this.clamp();\r\n    }\r\n\r\n// (protected) this += n << w words, this >= 0\r\n    function bnpDAddOffset(n, w) {\r\n        if (n == 0) return;\r\n        while (this.t <= w) this[this.t++] = 0;\r\n        this[w] += n;\r\n        while (this[w] >= this.DV) {\r\n            this[w] -= this.DV;\r\n            if (++w >= this.t) this[this.t++] = 0;\r\n            ++this[w];\r\n        }\r\n    }\r\n\r\n// A \"null\" reducer\r\n    function NullExp() {}\r\n\r\n    function nNop(x) { return x; }\r\n\r\n    function nMulTo(x, y, r) { x.multiplyTo(y, r); }\r\n\r\n    function nSqrTo(x, r) { x.squareTo(r); }\r\n\r\n    NullExp.prototype.convert = nNop;\r\n    NullExp.prototype.revert = nNop;\r\n    NullExp.prototype.mulTo = nMulTo;\r\n    NullExp.prototype.sqrTo = nSqrTo;\r\n\r\n// (public) this^e\r\n    function bnPow(e) { return this.exp(e, new NullExp()); }\r\n\r\n// (protected) r = lower n words of \"this * a\", a.t <= n\r\n// \"this\" should be the larger one if appropriate.\r\n    function bnpMultiplyLowerTo(a, n, r) {\r\n        var i = Math.min(this.t + a.t, n);\r\n        r.s = 0; // assumes a,this >= 0\r\n        r.t = i;\r\n        while (i > 0) r[--i] = 0;\r\n        var j;\r\n        for (j = r.t - this.t; i < j; ++i) r[i + this.t] = this.am(0, a[i], r, i, 0, this.t);\r\n        for (j = Math.min(a.t, n); i < j; ++i) this.am(0, a[i], r, i, 0, n - i);\r\n        r.clamp();\r\n    }\r\n\r\n// (protected) r = \"this * a\" without lower n words, n > 0\r\n// \"this\" should be the larger one if appropriate.\r\n    function bnpMultiplyUpperTo(a, n, r) {\r\n        --n;\r\n        var i = r.t = this.t + a.t - n;\r\n        r.s = 0; // assumes a,this >= 0\r\n        while (--i >= 0) r[i] = 0;\r\n        for (i = Math.max(n - this.t, 0); i < a.t; ++i)\r\n            r[this.t + i - n] = this.am(n - i, a[i], r, 0, 0, this.t + i - n);\r\n        r.clamp();\r\n        r.drShiftTo(1, r);\r\n    }\r\n\r\n// Barrett modular reduction\r\n    function Barrett(m) {\r\n        // setup Barrett\r\n        this.r2 = nbi();\r\n        this.q3 = nbi();\r\n        BigInteger.ONE.dlShiftTo(2 * m.t, this.r2);\r\n        this.mu = this.r2.divide(m);\r\n        this.m = m;\r\n    }\r\n\r\n    function barrettConvert(x) {\r\n        if (x.s < 0 || x.t > 2 * this.m.t) return x.mod(this.m);\r\n        else if (x.compareTo(this.m) < 0) return x;\r\n        else {\r\n            var r = nbi();\r\n            x.copyTo(r);\r\n            this.reduce(r);\r\n            return r;\r\n        }\r\n    }\r\n\r\n    function barrettRevert(x) { return x; }\r\n\r\n// x = x mod m (HAC 14.42)\r\n    function barrettReduce(x) {\r\n        x.drShiftTo(this.m.t - 1, this.r2);\r\n        if (x.t > this.m.t + 1) {\r\n            x.t = this.m.t + 1;\r\n            x.clamp();\r\n        }\r\n        this.mu.multiplyUpperTo(this.r2, this.m.t + 1, this.q3);\r\n        this.m.multiplyLowerTo(this.q3, this.m.t + 1, this.r2);\r\n        while (x.compareTo(this.r2) < 0) x.dAddOffset(1, this.m.t + 1);\r\n        x.subTo(this.r2, x);\r\n        while (x.compareTo(this.m) >= 0) x.subTo(this.m, x);\r\n    }\r\n\r\n// r = x^2 mod m; x != r\r\n    function barrettSqrTo(x, r) {\r\n        x.squareTo(r);\r\n        this.reduce(r);\r\n    }\r\n\r\n// r = x*y mod m; x,y != r\r\n    function barrettMulTo(x, y, r) {\r\n        x.multiplyTo(y, r);\r\n        this.reduce(r);\r\n    }\r\n\r\n    Barrett.prototype.convert = barrettConvert;\r\n    Barrett.prototype.revert = barrettRevert;\r\n    Barrett.prototype.reduce = barrettReduce;\r\n    Barrett.prototype.mulTo = barrettMulTo;\r\n    Barrett.prototype.sqrTo = barrettSqrTo;\r\n\r\n// (public) this^e % m (HAC 14.85)\r\n    function bnModPow(e, m) {\r\n        var i = e.bitLength(), k, r = nbv(1), z;\r\n        if (i <= 0) return r;\r\n        else if (i < 18) k = 1;\r\n        else if (i < 48) k = 3;\r\n        else if (i < 144) k = 4;\r\n        else if (i < 768) k = 5;\r\n        else k = 6;\r\n        if (i < 8)\r\n            z = new Classic(m);\r\n        else if (m.isEven())\r\n            z = new Barrett(m);\r\n        else\r\n            z = new Montgomery(m);\r\n\r\n        // precomputation\r\n        var g = new Array(), n = 3, k1 = k - 1, km = (1 << k) - 1;\r\n        g[1] = z.convert(this);\r\n        if (k > 1) {\r\n            var g2 = nbi();\r\n            z.sqrTo(g[1], g2);\r\n            while (n <= km) {\r\n                g[n] = nbi();\r\n                z.mulTo(g2, g[n - 2], g[n]);\r\n                n += 2;\r\n            }\r\n        }\r\n\r\n        var j = e.t - 1, w, is1 = true, r2 = nbi(), t;\r\n        i = nbits(e[j]) - 1;\r\n        while (j >= 0) {\r\n            if (i >= k1) w = (e[j] >> (i - k1)) & km;\r\n            else {\r\n                w = (e[j] & ((1 << (i + 1)) - 1)) << (k1 - i);\r\n                if (j > 0) w |= e[j - 1] >> (this.DB + i - k1);\r\n            }\r\n\r\n            n = k;\r\n            while ((w & 1) == 0) {\r\n                w >>= 1;\r\n                --n;\r\n            }\r\n            if ((i -= n) < 0) {\r\n                i += this.DB;\r\n                --j;\r\n            }\r\n            if (is1) { // ret == 1, don't bother squaring or multiplying it\r\n                g[w].copyTo(r);\r\n                is1 = false;\r\n            } else {\r\n                while (n > 1) {\r\n                    z.sqrTo(r, r2);\r\n                    z.sqrTo(r2, r);\r\n                    n -= 2;\r\n                }\r\n                if (n > 0) z.sqrTo(r, r2);\r\n                else {\r\n                    t = r;\r\n                    r = r2;\r\n                    r2 = t;\r\n                }\r\n                z.mulTo(r2, g[w], r);\r\n            }\r\n\r\n            while (j >= 0 && (e[j] & (1 << i)) == 0) {\r\n                z.sqrTo(r, r2);\r\n                t = r;\r\n                r = r2;\r\n                r2 = t;\r\n                if (--i < 0) {\r\n                    i = this.DB - 1;\r\n                    --j;\r\n                }\r\n            }\r\n        }\r\n        return z.revert(r);\r\n    }\r\n\r\n// (public) gcd(this,a) (HAC 14.54)\r\n    function bnGCD(a) {\r\n        var x = (this.s < 0) ? this.negate() : this.clone();\r\n        var y = (a.s < 0) ? a.negate() : a.clone();\r\n        if (x.compareTo(y) < 0) {\r\n            var t = x;\r\n            x = y;\r\n            y = t;\r\n        }\r\n        var i = x.getLowestSetBit(), g = y.getLowestSetBit();\r\n        if (g < 0) return x;\r\n        if (i < g) g = i;\r\n        if (g > 0) {\r\n            x.rShiftTo(g, x);\r\n            y.rShiftTo(g, y);\r\n        }\r\n        while (x.signum() > 0) {\r\n            if ((i = x.getLowestSetBit()) > 0) x.rShiftTo(i, x);\r\n            if ((i = y.getLowestSetBit()) > 0) y.rShiftTo(i, y);\r\n            if (x.compareTo(y) >= 0) {\r\n                x.subTo(y, x);\r\n                x.rShiftTo(1, x);\r\n            } else {\r\n                y.subTo(x, y);\r\n                y.rShiftTo(1, y);\r\n            }\r\n        }\r\n        if (g > 0) y.lShiftTo(g, y);\r\n        return y;\r\n    }\r\n\r\n// (protected) this % n, n < 2^26\r\n    function bnpModInt(n) {\r\n        if (n <= 0) return 0;\r\n        var d = this.DV % n, r = (this.s < 0) ? n - 1 : 0;\r\n        if (this.t > 0)\r\n            if (d == 0) r = this[0] % n;\r\n            else for (var i = this.t - 1; i >= 0; --i) r = (d * r + this[i]) % n;\r\n        return r;\r\n    }\r\n\r\n// (public) 1/this % m (HAC 14.61)\r\n    function bnModInverse(m) {\r\n        var ac = m.isEven();\r\n        if ((this.isEven() && ac) || m.signum() == 0) return BigInteger.ZERO;\r\n        var u = m.clone(), v = this.clone();\r\n        var a = nbv(1), b = nbv(0), c = nbv(0), d = nbv(1);\r\n        while (u.signum() != 0) {\r\n            while (u.isEven()) {\r\n                u.rShiftTo(1, u);\r\n                if (ac) {\r\n                    if (!a.isEven() || !b.isEven()) {\r\n                        a.addTo(this, a);\r\n                        b.subTo(m, b);\r\n                    }\r\n                    a.rShiftTo(1, a);\r\n                } else if (!b.isEven()) b.subTo(m, b);\r\n                b.rShiftTo(1, b);\r\n            }\r\n            while (v.isEven()) {\r\n                v.rShiftTo(1, v);\r\n                if (ac) {\r\n                    if (!c.isEven() || !d.isEven()) {\r\n                        c.addTo(this, c);\r\n                        d.subTo(m, d);\r\n                    }\r\n                    c.rShiftTo(1, c);\r\n                } else if (!d.isEven()) d.subTo(m, d);\r\n                d.rShiftTo(1, d);\r\n            }\r\n            if (u.compareTo(v) >= 0) {\r\n                u.subTo(v, u);\r\n                if (ac) a.subTo(c, a);\r\n                b.subTo(d, b);\r\n            } else {\r\n                v.subTo(u, v);\r\n                if (ac) c.subTo(a, c);\r\n                d.subTo(b, d);\r\n            }\r\n        }\r\n        if (v.compareTo(BigInteger.ONE) != 0) return BigInteger.ZERO;\r\n        if (d.compareTo(m) >= 0) return d.subtract(m);\r\n        if (d.signum() < 0) d.addTo(m, d);\r\n        else return d;\r\n        if (d.signum() < 0) return d.add(m);\r\n        else return d;\r\n    }\r\n\r\n    var lowprimes = [2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59, 61, 67, 71, 73, 79, 83, 89, 97, 101, 103, 107, 109, 113, 127, 131, 137, 139, 149, 151, 157, 163, 167, 173, 179, 181, 191, 193, 197, 199, 211, 223, 227, 229, 233, 239, 241, 251, 257, 263, 269, 271, 277, 281, 283, 293, 307, 311, 313, 317, 331, 337, 347, 349, 353, 359, 367, 373, 379, 383, 389, 397, 401, 409, 419, 421, 431, 433, 439, 443, 449, 457, 461, 463, 467, 479, 487, 491, 499, 503, 509, 521, 523, 541, 547, 557, 563, 569, 571, 577, 587, 593, 599, 601, 607, 613, 617, 619, 631, 641, 643, 647, 653, 659, 661, 673, 677, 683, 691, 701, 709, 719, 727, 733, 739, 743, 751, 757, 761, 769, 773, 787, 797, 809, 811, 821, 823, 827, 829, 839, 853, 857, 859, 863, 877, 881, 883, 887, 907, 911, 919, 929, 937, 941, 947, 953, 967, 971, 977, 983, 991, 997];\r\n    var lplim = (1 << 26) / lowprimes[lowprimes.length - 1];\r\n\r\n// (public) test primality with certainty >= 1-.5^t\r\n    function bnIsProbablePrime(t) {\r\n        var i, x = this.abs();\r\n        if (x.t == 1 && x[0] <= lowprimes[lowprimes.length - 1]) {\r\n            for (i = 0; i < lowprimes.length; ++i)\r\n                if (x[0] == lowprimes[i]) return true;\r\n            return false;\r\n        }\r\n        if (x.isEven()) return false;\r\n        i = 1;\r\n        while (i < lowprimes.length) {\r\n            var m = lowprimes[i], j = i + 1;\r\n            while (j < lowprimes.length && m < lplim) m *= lowprimes[j++];\r\n            m = x.modInt(m);\r\n            while (i < j) if (m % lowprimes[i++] == 0) return false;\r\n        }\r\n        return x.millerRabin(t);\r\n    }\r\n\r\n// (protected) true if probably prime (HAC 4.24, Miller-Rabin)\r\n    function bnpMillerRabin(t) {\r\n        var n1 = this.subtract(BigInteger.ONE);\r\n        var k = n1.getLowestSetBit();\r\n        if (k <= 0) return false;\r\n        var r = n1.shiftRight(k);\r\n        t = (t + 1) >> 1;\r\n        if (t > lowprimes.length) t = lowprimes.length;\r\n        var a = nbi();\r\n        for (var i = 0; i < t; ++i) {\r\n            //Pick bases at random, instead of starting at 2\r\n            a.fromInt(lowprimes[Math.floor(Math.random() * lowprimes.length)]);\r\n            var y = a.modPow(r, this);\r\n            if (y.compareTo(BigInteger.ONE) != 0 && y.compareTo(n1) != 0) {\r\n                var j = 1;\r\n                while (j++ < k && y.compareTo(n1) != 0) {\r\n                    y = y.modPowInt(2, this);\r\n                    if (y.compareTo(BigInteger.ONE) == 0) return false;\r\n                }\r\n                if (y.compareTo(n1) != 0) return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n// protected\r\n    BigInteger.prototype.chunkSize = bnpChunkSize;\r\n    BigInteger.prototype.toRadix = bnpToRadix;\r\n    BigInteger.prototype.fromRadix = bnpFromRadix;\r\n    BigInteger.prototype.fromNumber = bnpFromNumber;\r\n    BigInteger.prototype.bitwiseTo = bnpBitwiseTo;\r\n    BigInteger.prototype.changeBit = bnpChangeBit;\r\n    BigInteger.prototype.addTo = bnpAddTo;\r\n    BigInteger.prototype.dMultiply = bnpDMultiply;\r\n    BigInteger.prototype.dAddOffset = bnpDAddOffset;\r\n    BigInteger.prototype.multiplyLowerTo = bnpMultiplyLowerTo;\r\n    BigInteger.prototype.multiplyUpperTo = bnpMultiplyUpperTo;\r\n    BigInteger.prototype.modInt = bnpModInt;\r\n    BigInteger.prototype.millerRabin = bnpMillerRabin;\r\n\r\n// public\r\n    BigInteger.prototype.clone = bnClone;\r\n    BigInteger.prototype.intValue = bnIntValue;\r\n    BigInteger.prototype.byteValue = bnByteValue;\r\n    BigInteger.prototype.shortValue = bnShortValue;\r\n    BigInteger.prototype.signum = bnSigNum;\r\n    BigInteger.prototype.toByteArray = bnToByteArray;\r\n    BigInteger.prototype.equals = bnEquals;\r\n    BigInteger.prototype.min = bnMin;\r\n    BigInteger.prototype.max = bnMax;\r\n    BigInteger.prototype.and = bnAnd;\r\n    BigInteger.prototype.or = bnOr;\r\n    BigInteger.prototype.xor = bnXor;\r\n    BigInteger.prototype.andNot = bnAndNot;\r\n    BigInteger.prototype.not = bnNot;\r\n    BigInteger.prototype.shiftLeft = bnShiftLeft;\r\n    BigInteger.prototype.shiftRight = bnShiftRight;\r\n    BigInteger.prototype.getLowestSetBit = bnGetLowestSetBit;\r\n    BigInteger.prototype.bitCount = bnBitCount;\r\n    BigInteger.prototype.testBit = bnTestBit;\r\n    BigInteger.prototype.setBit = bnSetBit;\r\n    BigInteger.prototype.clearBit = bnClearBit;\r\n    BigInteger.prototype.flipBit = bnFlipBit;\r\n    BigInteger.prototype.add = bnAdd;\r\n    BigInteger.prototype.subtract = bnSubtract;\r\n    BigInteger.prototype.multiply = bnMultiply;\r\n    BigInteger.prototype.divide = bnDivide;\r\n    BigInteger.prototype.remainder = bnRemainder;\r\n    BigInteger.prototype.divideAndRemainder = bnDivideAndRemainder;\r\n    BigInteger.prototype.modPow = bnModPow;\r\n    BigInteger.prototype.modInverse = bnModInverse;\r\n    BigInteger.prototype.pow = bnPow;\r\n    BigInteger.prototype.gcd = bnGCD;\r\n    BigInteger.prototype.isProbablePrime = bnIsProbablePrime;\r\n\r\n    // JSBN-specific extension\r\n    BigInteger.prototype.square = bnSquare;\r\n\r\n    return BigInteger;\r\n});\r\n;(function (factory) {\r\n    'use strict';\r\n    if (typeof define === 'function' && define.amd) {\r\n        define('SRPClient', [\r\n            'sha1',\r\n            'sjcl',\r\n            'BigInteger'\r\n        ], factory);\r\n    } else {\r\n        window.SRPClient = factory(sha1, sjcl, BigInteger);\r\n    }\r\n})(function (sha1, sjcl, BigInteger) {\r\n\r\n    /*\r\n     * Construct an SRP object with a username,\r\n     * password, and the bits identifying the\r\n     * group (1024 [default], 1536 or 2048 bits).\r\n     */\r\n    var SRPClient = function (username, password, group, hashFn) {\r\n\r\n        // Verify presence of username.\r\n        if (!username)\r\n            throw 'Username cannot be empty.';\r\n\r\n        // Store username/password.\r\n        this.username = username;\r\n        this.password = password;\r\n\r\n        // Initialize hash function\r\n        this.hashFn = hashFn || 'sha-1';\r\n\r\n        // Retrieve initialization values.\r\n        var group = group || 1024;\r\n        var initVal = this.initVals[group];\r\n\r\n        // Set N and g from initialization values.\r\n        this.N = new BigInteger(initVal.N, 16);\r\n        this.g = new BigInteger(initVal.g, 16);\r\n        this.gBn = new BigInteger(initVal.g, 16);\r\n\r\n        // Pre-compute k from N and g.\r\n        this.k = this.k();\r\n\r\n        // Convenience big integer objects for 1 and 2.\r\n        this.one = new BigInteger(\"1\", 16);\r\n        this.two = new BigInteger(\"2\", 16);\r\n\r\n    };\r\n\r\n    /*\r\n     * Implementation of an SRP client conforming\r\n     * to the SRP protocol 6A (see RFC5054).\r\n    */\r\n    SRPClient.prototype = {\r\n        toHexString: function(bi) {\r\n            var hex = bi.toString(16);\r\n            if (hex.length % 2 === 1) {\r\n                hex = \"0\" + hex;\r\n            }\r\n            return hex;\r\n        },\r\n        padLeft: function(orig, len) {\r\n            if (orig.length > len) return orig;\r\n\r\n            var arr = Array(len - orig.length + 1);\r\n            return arr.join(\"0\") + orig;\r\n        },\r\n        bytesToHex: function(bytes) {\r\n            var self = this;\r\n            var b = bytes.map(function(x) { return self.padLeft(self.toHexString(x), 2); });\r\n            return b.join(\"\");\r\n        },\r\n        hexToBytes: function(hex) {\r\n            if (hex.length % 2 === 1) throw new Error(\"hexToBytes can't have a string with an odd number of characters.\");\r\n            if (hex.indexOf(\"0x\") === 0) hex = hex.slice(2);\r\n            return hex.match(/../g).map(function(x) { return parseInt(x, 16) });\r\n        },\r\n        stringToBytes: function(str) {\r\n            var bytes = [];\r\n            for (var i = 0; i < str.length; ++i) {\r\n                bytes.push(str.charCodeAt(i));\r\n            }\r\n            return bytes;\r\n        },\r\n        bytesToString: function (byteArr) {\r\n            var str = '';\r\n            for (var i = 0; i < byteArr.length; i++)\r\n                str += String.fromCharCode(byteArr[i]);\r\n\r\n            return str;\r\n        },\r\n\r\n        /*\r\n     * Calculate k = H(N || g), which is used\r\n     * throughout various SRP calculations.\r\n     */\r\n        k: function() {\r\n\r\n            // Convert to hex values.\r\n            var toHash = [\r\n                this.toHexString(this.N),\r\n                this.toHexString(this.g)\r\n            ];\r\n\r\n            // Return hash as a BigInteger.\r\n            return this.paddedHash(toHash);\r\n\r\n        },\r\n\r\n        /*\r\n     * Calculate x = SHA1(s | SHA1(I | \":\" | P))\r\n     */\r\n        calculateX: function(saltHex) {\r\n\r\n            // Verify presence of parameters.\r\n            if (!saltHex) throw 'Missing parameter.'\r\n\r\n            if (!this.username || !this.password)\r\n                throw 'Username and password cannot be empty.';\r\n\r\n            var usernameBytes = this.stringToBytes(this.username);\r\n            var passwordBytes = this.hexToBytes(this.password);\r\n\r\n            var upBytes = usernameBytes.concat([58]).concat(passwordBytes);\r\n            var upHash = this.hash(this.bytesToString(upBytes));\r\n            var upHashBytes = this.hexToBytes(upHash);\r\n\r\n            var saltBytes = this.hexToBytes(saltHex);\r\n            var saltUpBytes = saltBytes.concat(upHashBytes);\r\n            var saltUpHash = this.hash(this.bytesToString(saltUpBytes));\r\n\r\n            var xtmp = new BigInteger(saltUpHash, 16);\r\n            if (xtmp.compareTo(this.N) < 0) {\r\n                return xtmp;\r\n            }\r\n            else {\r\n                var one = new BigInteger(1,16);\r\n                return xtmp.mod(this.N.subtract(one));\r\n            }\r\n\r\n        },\r\n\r\n        /*\r\n     * Calculate v = g^x % N\r\n     */\r\n        calculateV: function(salt) {\r\n\r\n            // Verify presence of parameters.\r\n            if (!salt) throw 'Missing parameter.';\r\n\r\n            // Get X from the salt value.\r\n            var x = this.calculateX(salt);\r\n\r\n            // Calculate and return the verifier.\r\n            return this.g.modPow(x, this.N);\r\n\r\n        },\r\n\r\n        /*\r\n     * Calculate u = SHA1(PAD(A) | PAD(B)), which serves\r\n     * to prevent an attacker who learns a user's verifier\r\n     * from being able to authenticate as that user.\r\n     */\r\n        calculateU: function(A, B) {\r\n\r\n            // Verify presence of parameters.\r\n            if (!A || !B) throw 'Missing parameter(s).';\r\n\r\n            // Verify value of A and B.\r\n            if (A.mod(this.N).toString() == '0' ||\r\n                B.mod(this.N).toString() == '0')\r\n                throw 'ABORT: illegal_parameter';\r\n\r\n            // Convert A and B to hexadecimal.\r\n            var toHash = [this.toHexString(A), this.toHexString(B)];\r\n\r\n            // Return hash as a BigInteger.\r\n            return this.paddedHash(toHash);\r\n\r\n        },\r\n\r\n        canCalculateA: function(a) {\r\n            if (!a) throw 'Missing parameter.';\r\n\r\n            return Math.ceil(a.bitLength() / 8) >= 256 / 8;\r\n\r\n        },\r\n\r\n        /*\r\n     * 2.5.4 Calculate the client's public value A = g^a % N,\r\n     * where a is a random number at least 256 bits in length.\r\n     */\r\n        calculateA: function(a) {\r\n\r\n            // Verify presence of parameter.\r\n            if (!a) throw 'Missing parameter.';\r\n\r\n            if (!this.canCalculateA(a))\r\n                throw 'Client key length is less than 256 bits.'\r\n\r\n            // Return A as a BigInteger.\r\n            var A = this.g.modPow(a, this.N);\r\n\r\n            if (A.mod(this.N).toString() == '0')\r\n                throw 'ABORT: illegal_parameter';\r\n\r\n            return A;\r\n\r\n        },\r\n\r\n        /*\r\n    * Calculate match M = H(H(N) XOR H(g) | H(username) | s | A | B | K)\r\n    */\r\n        calculateM1: function(A, B, K, salt) {\r\n\r\n            // Verify presence of parameters.\r\n            if (!A || !B || !K || !salt)\r\n                throw 'Missing parameter(s).';\r\n\r\n            // Verify value of A and B.\r\n            if (A.mod(this.N).toString() == '0' ||\r\n                B.mod(this.N).toString() == '0')\r\n                throw 'ABORT: illegal_parameter';\r\n\r\n            var hashN = this.hexHash(this.toHexString(this.N));\r\n            var hashg = this.hexHash(this.toHexString(this.g));\r\n\r\n            var hashUsername = this.hash(this.username);\r\n\r\n            var xorNg_bytes = [],\r\n                hashN_bytes = this.hexToBytes(hashN),\r\n                hashg_bytes = this.hexToBytes(hashg);\r\n\r\n            for (var i = 0; i < hashN_bytes.length; i++)\r\n                xorNg_bytes[i] = hashN_bytes[i] ^ hashg_bytes[i];\r\n\r\n            var xorNg = this.bytesToHex(xorNg_bytes);\r\n\r\n            var aHex = this.toHexString(A);\r\n            var bHex = this.toHexString(B);\r\n\r\n            var toHash = [xorNg, hashUsername, salt, aHex, bHex, K];\r\n            var toHash_str = '';\r\n\r\n            for (var j = 0; j < toHash.length; j++) {\r\n                toHash_str += toHash[j];\r\n            }\r\n\r\n            return new BigInteger(this.hexHash(toHash_str), 16);\r\n        },\r\n\r\n        /*\r\n     * Calculate match M = H(H(N) XOR H(g) | H(username) | s | A | B | K) and return as hex string\r\n     */\r\n        calculateM: function (A, B, K, salt) {\r\n\r\n            // Verify presence of parameters.\r\n            if (!A || !B || !K || !salt)\r\n                throw 'Missing parameter(s).';\r\n\r\n            // Verify value of A and B.\r\n            if (A.mod(this.N).toString() == '0' ||\r\n                B.mod(this.N).toString() == '0')\r\n                throw 'ABORT: illegal_parameter';\r\n\r\n            var hashN = this.hexHash(this.toHexString(this.N));\r\n            var hashg = this.hexHash(this.toHexString(this.g));\r\n\r\n            var hashUsername = this.hash(this.username);\r\n\r\n            var xorNg_bytes = [],\r\n                hashN_bytes = this.hexToBytes(hashN),\r\n                hashg_bytes = this.hexToBytes(hashg);\r\n\r\n            for (var i = 0; i < hashN_bytes.length; i++)\r\n                xorNg_bytes[i] = hashN_bytes[i] ^ hashg_bytes[i];\r\n\r\n            var xorNg = this.bytesToHex(xorNg_bytes);\r\n\r\n            var aHex = this.toHexString(A);\r\n            var bHex = this.toHexString(B);\r\n\r\n            var toHash = [xorNg, hashUsername, salt, aHex, bHex, K];\r\n            var toHash_str = '';\r\n\r\n            for (var j = 0; j < toHash.length; j++) {\r\n                toHash_str += toHash[j];\r\n            }\r\n\r\n            return this.hexHash(toHash_str);\r\n        },\r\n        /*\r\n     * Calculate match M = H(A, B, K) or M = H(A, M, K)\r\n     */\r\n        calculateM2: function(A, B_or_M, K) {\r\n\r\n            // Verify presence of parameters.\r\n            if (!A || !B_or_M || !K)\r\n                throw 'Missing parameter(s).';\r\n\r\n            // Verify value of A and B.\r\n            if (A.mod(this.N).toString() == '0' ||\r\n                B_or_M.mod(this.N).toString() == '0')\r\n                throw 'ABORT: illegal_parameter';\r\n\r\n            var aHex = this.toHexString(A);\r\n            var bHex = this.toHexString(B_or_M);\r\n\r\n            var toHash = [aHex, bHex, K];\r\n            var toHash_str = '';\r\n\r\n            for (var j = 0; j < toHash.length; j++) {\r\n                toHash_str += toHash[j];\r\n            }\r\n\r\n            return new BigInteger(this.hexHash(toHash_str), 16);\r\n\r\n        },\r\n\r\n        /*\r\n     * Calculate the client's premaster secret\r\n     * S = (B - (k * g^x)) ^ (a + (u * x)) % N\r\n     */\r\n        calculateS: function(B, salt, uu, aa) {\r\n\r\n            // Verify presence of parameters.\r\n            if (!B || !salt || !uu || !aa)\r\n                throw 'Missing parameters.';\r\n\r\n            // Verify value of B.\r\n            if (B.mod(this.N).toString() == '0')\r\n                throw 'ABORT: illegal_parameter';\r\n\r\n            // Calculate X from the salt.\r\n            var x = this.calculateX(salt);\r\n\r\n            // Calculate bx = g^x % N\r\n            var bx = this.g.modPow(x, this.N);\r\n\r\n            // Calculate ((B + N * k) - k * bx) % N\r\n            var btmp = B.add(this.N.multiply(this.k))\r\n                .subtract(bx.multiply(this.k)).mod(this.N);\r\n\r\n            // Finish calculation of the premaster secret.\r\n            return btmp.modPow(x.multiply(uu).add(aa), this.N);\r\n\r\n        },\r\n\r\n        calculateK: function(S) {\r\n            return this.hexHash(this.toHexString(S));\r\n        },\r\n\r\n        /*\r\n     * Helper functions for random number\r\n     * generation and format conversion.\r\n     */\r\n\r\n        /* Generate a random big integer */\r\n        srpRandom: function() {\r\n\r\n            var words = sjcl.random.randomWords(8, 0);\r\n            var hex = sjcl.codec.hex.fromBits(words);\r\n\r\n            // Verify random number large enough.\r\n            if (hex.length != 64)\r\n                throw 'Invalid random number size.'\r\n\r\n            var r = new BigInteger(hex, 16);\r\n\r\n            if (r.compareTo(this.N) >= 0)\r\n                r = a.mod(this.N.subtract(this.one));\r\n\r\n            if (r.compareTo(this.two) < 0)\r\n                r = two;\r\n\r\n            return r;\r\n\r\n        },\r\n\r\n        /* Return a random hexadecimal salt */\r\n        randomHexSalt: function() {\r\n\r\n            var words = sjcl.random.randomWords(8, 0);\r\n            var hex = sjcl.codec.hex.fromBits(words);\r\n\r\n            return hex;\r\n\r\n        },\r\n\r\n        /*\r\n     * Helper functions for hasing/padding.\r\n     */\r\n\r\n        /*\r\n    * SHA1 hashing function with padding: input\r\n    * is prefixed with 0 to meet N hex width.\r\n    */\r\n        paddedHash: function(array) {\r\n\r\n            var nlen = 2 * ((this.toHexString(this.N).length * 4 + 7) >> 3);\r\n\r\n            var toHash = '';\r\n\r\n            for (var i = 0; i < array.length; i++) {\r\n                toHash += this.nZeros(nlen - array[i].length) + array[i];\r\n            }\r\n\r\n            var hash = new BigInteger(this.hexHash(toHash), 16);\r\n\r\n            return hash.mod(this.N);\r\n\r\n        },\r\n\r\n        /*\r\n     * Generic hashing function.\r\n     */\r\n        hash: function(str) {\r\n\r\n            switch (this.hashFn.toLowerCase()) {\r\n\r\n            case 'sha-256':\r\n                var s = sjcl.codec.hex.fromBits(\r\n                    sjcl.hash.sha256.hash(str));\r\n                return this.nZeros(64 - s.length) + s;\r\n\r\n            case 'sha-1':\r\n            default:\r\n                return sha1.calcSHA1(str);\r\n\r\n            }\r\n        },\r\n\r\n        /*\r\n     * Hexadecimal hashing function.\r\n     */\r\n        hexHash: function(str) {\r\n            switch (this.hashFn.toLowerCase()) {\r\n\r\n            case 'sha-256':\r\n                var s = sjcl.codec.hex.fromBits(\r\n                    sjcl.hash.sha256.hash(\r\n                        sjcl.codec.hex.toBits(str)));\r\n                return this.nZeros(64 - s.length) + s;\r\n\r\n            case 'sha-1':\r\n            default:\r\n                return this.hash(this.pack(str));\r\n\r\n            }\r\n        },\r\n\r\n        /*\r\n     * Hex to string conversion.\r\n     */\r\n        pack: function(hex) {\r\n\r\n            // To prevent null byte termination bug\r\n            if (hex.length % 2 != 0) hex = '0' + hex;\r\n\r\n            i = 0;\r\n            ascii = '';\r\n\r\n            while (i < hex.length / 2) {\r\n                ascii = ascii + String.fromCharCode(\r\n                    parseInt(hex.substr(i * 2, 2), 16));\r\n                i++;\r\n            }\r\n\r\n            return ascii;\r\n\r\n        },\r\n\r\n        /* Return a string with N zeros. */\r\n        nZeros: function(n) {\r\n\r\n            if (n < 1) return '';\r\n            var t = this.nZeros(n >> 1);\r\n\r\n            return ((n & 1) == 0) ?\r\n                t + t : t + t + '0';\r\n\r\n        },\r\n\r\n        /*\r\n     * SRP group parameters, composed of N (hexadecimal\r\n     * prime value) and g (decimal group generator).\r\n     * See http://tools.ietf.org/html/rfc5054#appendix-A\r\n     */\r\n        initVals: {\r\n            1024: {\r\n                N: 'EEAF0AB9ADB38DD69C33F80AFA8FC5E86072618775FF3C0B9EA2314C' +\r\n                    '9C256576D674DF7496EA81D3383B4813D692C6E0E0D5D8E250B98BE4' +\r\n                    '8E495C1D6089DAD15DC7D7B46154D6B6CE8EF4AD69B15D4982559B29' +\r\n                    '7BCF1885C529F566660E57EC68EDBC3C05726CC02FD4CBF4976EAA9A' +\r\n                    'FD5138FE8376435B9FC61D2FC0EB06E3',\r\n                g: '2'\r\n\r\n            },\r\n\r\n            1536: {\r\n                N: '9DEF3CAFB939277AB1F12A8617A47BBBDBA51DF499AC4C80BEEEA961' +\r\n                    '4B19CC4D5F4F5F556E27CBDE51C6A94BE4607A291558903BA0D0F843' +\r\n                    '80B655BB9A22E8DCDF028A7CEC67F0D08134B1C8B97989149B609E0B' +\r\n                    'E3BAB63D47548381DBC5B1FC764E3F4B53DD9DA1158BFD3E2B9C8CF5' +\r\n                    '6EDF019539349627DB2FD53D24B7C48665772E437D6C7F8CE442734A' +\r\n                    'F7CCB7AE837C264AE3A9BEB87F8A2FE9B8B5292E5A021FFF5E91479E' +\r\n                    '8CE7A28C2442C6F315180F93499A234DCF76E3FED135F9BB',\r\n                g: '2'\r\n            },\r\n\r\n            2048: {\r\n                N: 'AC6BDB41324A9A9BF166DE5E1389582FAF72B6651987EE07FC319294' +\r\n                    '3DB56050A37329CBB4A099ED8193E0757767A13DD52312AB4B03310D' +\r\n                    'CD7F48A9DA04FD50E8083969EDB767B0CF6095179A163AB3661A05FB' +\r\n                    'D5FAAAE82918A9962F0B93B855F97993EC975EEAA80D740ADBF4FF74' +\r\n                    '7359D041D5C33EA71D281E446B14773BCA97B43A23FB801676BD207A' +\r\n                    '436C6481F1D2B9078717461A5B9D32E688F87748544523B524B0D57D' +\r\n                    '5EA77A2775D2ECFA032CFBDBF52FB3786160279004E57AE6AF874E73' +\r\n                    '03CE53299CCC041C7BC308D82A5698F3A8D0C38271AE35F8E9DBFBB6' +\r\n                    '94B5C803D89F7AE435DE236D525F54759B65E372FCD68EF20FA7111F' +\r\n                    '9E4AFF73',\r\n                g: '2'\r\n            },\r\n\r\n            3072: {\r\n                N: 'FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E08' +\r\n                    '8A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B' +\r\n                    '302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9' +\r\n                    'A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE6' +\r\n                    '49286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8' +\r\n                    'FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D' +\r\n                    '670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C' +\r\n                    '180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF695581718' +\r\n                    '3995497CEA956AE515D2261898FA051015728E5A8AAAC42DAD33170D' +\r\n                    '04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7D' +\r\n                    'B3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D226' +\r\n                    '1AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200C' +\r\n                    'BBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFC' +\r\n                    'E0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF',\r\n                g: '5'\r\n            },\r\n\r\n            4096: {\r\n                N: 'FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E08' +\r\n                    '8A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B' +\r\n                    '302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9' +\r\n                    'A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE6' +\r\n                    '49286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8' +\r\n                    'FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D' +\r\n                    '670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C' +\r\n                    '180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF695581718' +\r\n                    '3995497CEA956AE515D2261898FA051015728E5A8AAAC42DAD33170D' +\r\n                    '04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7D' +\r\n                    'B3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D226' +\r\n                    '1AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200C' +\r\n                    'BBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFC' +\r\n                    'E0FD108E4B82D120A92108011A723C12A787E6D788719A10BDBA5B26' +\r\n                    '99C327186AF4E23C1A946834B6150BDA2583E9CA2AD44CE8DBBBC2DB' +\r\n                    '04DE8EF92E8EFC141FBECAA6287C59474E6BC05D99B2964FA090C3A2' +\r\n                    '233BA186515BE7ED1F612970CEE2D7AFB81BDD762170481CD0069127' +\r\n                    'D5B05AA993B4EA988D8FDDC186FFB7DC90A6C08F4DF435C934063199' +\r\n                    'FFFFFFFFFFFFFFFF',\r\n                g: '5'\r\n            },\r\n\r\n            6144: {\r\n                N: 'FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E08' +\r\n                    '8A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B' +\r\n                    '302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9' +\r\n                    'A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE6' +\r\n                    '49286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8' +\r\n                    'FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D' +\r\n                    '670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C' +\r\n                    '180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF695581718' +\r\n                    '3995497CEA956AE515D2261898FA051015728E5A8AAAC42DAD33170D' +\r\n                    '04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7D' +\r\n                    'B3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D226' +\r\n                    '1AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200C' +\r\n                    'BBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFC' +\r\n                    'E0FD108E4B82D120A92108011A723C12A787E6D788719A10BDBA5B26' +\r\n                    '99C327186AF4E23C1A946834B6150BDA2583E9CA2AD44CE8DBBBC2DB' +\r\n                    '04DE8EF92E8EFC141FBECAA6287C59474E6BC05D99B2964FA090C3A2' +\r\n                    '233BA186515BE7ED1F612970CEE2D7AFB81BDD762170481CD0069127' +\r\n                    'D5B05AA993B4EA988D8FDDC186FFB7DC90A6C08F4DF435C934028492' +\r\n                    '36C3FAB4D27C7026C1D4DCB2602646DEC9751E763DBA37BDF8FF9406' +\r\n                    'AD9E530EE5DB382F413001AEB06A53ED9027D831179727B0865A8918' +\r\n                    'DA3EDBEBCF9B14ED44CE6CBACED4BB1BDB7F1447E6CC254B33205151' +\r\n                    '2BD7AF426FB8F401378CD2BF5983CA01C64B92ECF032EA15D1721D03' +\r\n                    'F482D7CE6E74FEF6D55E702F46980C82B5A84031900B1C9E59E7C97F' +\r\n                    'BEC7E8F323A97A7E36CC88BE0F1D45B7FF585AC54BD407B22B4154AA' +\r\n                    'CC8F6D7EBF48E1D814CC5ED20F8037E0A79715EEF29BE32806A1D58B' +\r\n                    'B7C5DA76F550AA3D8A1FBFF0EB19CCB1A313D55CDA56C9EC2EF29632' +\r\n                    '387FE8D76E3C0468043E8F663F4860EE12BF2D5B0B7474D6E694F91E' +\r\n                    '6DCC4024FFFFFFFFFFFFFFFF',\r\n                g: '5'\r\n            },\r\n\r\n            8192: {\r\n                N: 'FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E08' +\r\n                    '8A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B' +\r\n                    '302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9' +\r\n                    'A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE6' +\r\n                    '49286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8' +\r\n                    'FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D' +\r\n                    '670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C' +\r\n                    '180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF695581718' +\r\n                    '3995497CEA956AE515D2261898FA051015728E5A8AAAC42DAD33170D' +\r\n                    '04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7D' +\r\n                    'B3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D226' +\r\n                    '1AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200C' +\r\n                    'BBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFC' +\r\n                    'E0FD108E4B82D120A92108011A723C12A787E6D788719A10BDBA5B26' +\r\n                    '99C327186AF4E23C1A946834B6150BDA2583E9CA2AD44CE8DBBBC2DB' +\r\n                    '04DE8EF92E8EFC141FBECAA6287C59474E6BC05D99B2964FA090C3A2' +\r\n                    '233BA186515BE7ED1F612970CEE2D7AFB81BDD762170481CD0069127' +\r\n                    'D5B05AA993B4EA988D8FDDC186FFB7DC90A6C08F4DF435C934028492' +\r\n                    '36C3FAB4D27C7026C1D4DCB2602646DEC9751E763DBA37BDF8FF9406' +\r\n                    'AD9E530EE5DB382F413001AEB06A53ED9027D831179727B0865A8918' +\r\n                    'DA3EDBEBCF9B14ED44CE6CBACED4BB1BDB7F1447E6CC254B33205151' +\r\n                    '2BD7AF426FB8F401378CD2BF5983CA01C64B92ECF032EA15D1721D03' +\r\n                    'F482D7CE6E74FEF6D55E702F46980C82B5A84031900B1C9E59E7C97F' +\r\n                    'BEC7E8F323A97A7E36CC88BE0F1D45B7FF585AC54BD407B22B4154AA' +\r\n                    'CC8F6D7EBF48E1D814CC5ED20F8037E0A79715EEF29BE32806A1D58B' +\r\n                    'B7C5DA76F550AA3D8A1FBFF0EB19CCB1A313D55CDA56C9EC2EF29632' +\r\n                    '387FE8D76E3C0468043E8F663F4860EE12BF2D5B0B7474D6E694F91E' +\r\n                    '6DBE115974A3926F12FEE5E438777CB6A932DF8CD8BEC4D073B931BA' +\r\n                    '3BC832B68D9DD300741FA7BF8AFC47ED2576F6936BA424663AAB639C' +\r\n                    '5AE4F5683423B4742BF1C978238F16CBE39D652DE3FDB8BEFC848AD9' +\r\n                    '22222E04A4037C0713EB57A81A23F0C73473FC646CEA306B4BCBC886' +\r\n                    '2F8385DDFA9D4B7FA2C087E879683303ED5BDD3A062B3CF5B3A278A6' +\r\n                    '6D2A13F83F44F82DDF310EE074AB6A364597E899A0255DC164F31CC5' +\r\n                    '0846851DF9AB48195DED7EA1B1D510BD7EE74D73FAF36BC31ECFA268' +\r\n                    '359046F4EB879F924009438B481C6CD7889A002ED5EE382BC9190DA6' +\r\n                    'FC026E479558E4475677E9AA9E3050E2765694DFC81F56E880B96E71' +\r\n                    '60C980DD98EDD3DFFFFFFFFFFFFFFFFF',\r\n                g: '19'\r\n            }\r\n\r\n        },\r\n\r\n        /*\r\n     * Server-side SRP functions. These should not\r\n     * be used on the client except for debugging.\r\n     */\r\n\r\n        /* Calculate the server's public value B. */\r\n        calculateB: function(b, v) {\r\n\r\n            // Verify presence of parameters.\r\n            if (!b || !v) throw 'Missing parameters.';\r\n\r\n            var bb = this.g.modPow(b, this.N);\r\n            var B = bb.add(v.multiply(this.k)).mod(this.N);\r\n\r\n            return B;\r\n\r\n        },\r\n\r\n        /* Calculate the server's premaster secret */\r\n        calculateServerS: function(A, v, u, B) {\r\n\r\n            // Verify presence of parameters.\r\n            if (!A || !v || !u || !B)\r\n                throw 'Missing parameters.';\r\n\r\n            // Verify value of A and B.\r\n            if (A.mod(this.N).toString() == '0' ||\r\n                B.mod(this.N).toString() == '0')\r\n                throw 'ABORT: illegal_parameter';\r\n\r\n            return v.modPow(u, this.N).multiply(A)\r\n                .mod(this.N).modPow(B, this.N);\r\n        }\r\n\r\n    };\r\n\r\n    return SRPClient;\r\n});\r\n\r\n/*!\r\n * @overview es6-promise - a tiny implementation of Promises/A+.\r\n * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)\r\n * @license   Licensed under MIT license\r\n *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE\r\n * @version   3.0.2\r\n */\r\n\r\n;(function() {\r\n    \"use strict\";\r\n    function lib$es6$promise$utils$$objectOrFunction(x) {\r\n      return typeof x === 'function' || (typeof x === 'object' && x !== null);\r\n    }\r\n\r\n    function lib$es6$promise$utils$$isFunction(x) {\r\n      return typeof x === 'function';\r\n    }\r\n\r\n    function lib$es6$promise$utils$$isMaybeThenable(x) {\r\n      return typeof x === 'object' && x !== null;\r\n    }\r\n\r\n    var lib$es6$promise$utils$$_isArray;\r\n    if (!Array.isArray) {\r\n      lib$es6$promise$utils$$_isArray = function (x) {\r\n        return Object.prototype.toString.call(x) === '[object Array]';\r\n      };\r\n    } else {\r\n      lib$es6$promise$utils$$_isArray = Array.isArray;\r\n    }\r\n\r\n    var lib$es6$promise$utils$$isArray = lib$es6$promise$utils$$_isArray;\r\n    var lib$es6$promise$asap$$len = 0;\r\n    var lib$es6$promise$asap$$toString = {}.toString;\r\n    var lib$es6$promise$asap$$vertxNext;\r\n    var lib$es6$promise$asap$$customSchedulerFn;\r\n\r\n    var lib$es6$promise$asap$$asap = function asap(callback, arg) {\r\n      lib$es6$promise$asap$$queue[lib$es6$promise$asap$$len] = callback;\r\n      lib$es6$promise$asap$$queue[lib$es6$promise$asap$$len + 1] = arg;\r\n      lib$es6$promise$asap$$len += 2;\r\n      if (lib$es6$promise$asap$$len === 2) {\r\n        // If len is 2, that means that we need to schedule an async flush.\r\n        // If additional callbacks are queued before the queue is flushed, they\r\n        // will be processed by this flush that we are scheduling.\r\n        if (lib$es6$promise$asap$$customSchedulerFn) {\r\n          lib$es6$promise$asap$$customSchedulerFn(lib$es6$promise$asap$$flush);\r\n        } else {\r\n          lib$es6$promise$asap$$scheduleFlush();\r\n        }\r\n      }\r\n    }\r\n\r\n    function lib$es6$promise$asap$$setScheduler(scheduleFn) {\r\n      lib$es6$promise$asap$$customSchedulerFn = scheduleFn;\r\n    }\r\n\r\n    function lib$es6$promise$asap$$setAsap(asapFn) {\r\n      lib$es6$promise$asap$$asap = asapFn;\r\n    }\r\n\r\n    var lib$es6$promise$asap$$browserWindow = (typeof window !== 'undefined') ? window : undefined;\r\n    var lib$es6$promise$asap$$browserGlobal = lib$es6$promise$asap$$browserWindow || {};\r\n    var lib$es6$promise$asap$$BrowserMutationObserver = lib$es6$promise$asap$$browserGlobal.MutationObserver || lib$es6$promise$asap$$browserGlobal.WebKitMutationObserver;\r\n    var lib$es6$promise$asap$$isNode = typeof process !== 'undefined' && {}.toString.call(process) === '[object process]';\r\n\r\n    // test for web worker but not in IE10\r\n    var lib$es6$promise$asap$$isWorker = typeof Uint8ClampedArray !== 'undefined' &&\r\n      typeof importScripts !== 'undefined' &&\r\n      typeof MessageChannel !== 'undefined';\r\n\r\n    // node\r\n    function lib$es6$promise$asap$$useNextTick() {\r\n      // node version 0.10.x displays a deprecation warning when nextTick is used recursively\r\n      // see https://github.com/cujojs/when/issues/410 for details\r\n      return function() {\r\n        process.nextTick(lib$es6$promise$asap$$flush);\r\n      };\r\n    }\r\n\r\n    // vertx\r\n    function lib$es6$promise$asap$$useVertxTimer() {\r\n      return function() {\r\n        lib$es6$promise$asap$$vertxNext(lib$es6$promise$asap$$flush);\r\n      };\r\n    }\r\n\r\n    function lib$es6$promise$asap$$useMutationObserver() {\r\n      var iterations = 0;\r\n      var observer = new lib$es6$promise$asap$$BrowserMutationObserver(lib$es6$promise$asap$$flush);\r\n      var node = document.createTextNode('');\r\n      observer.observe(node, { characterData: true });\r\n\r\n      return function() {\r\n        node.data = (iterations = ++iterations % 2);\r\n      };\r\n    }\r\n\r\n    // web worker\r\n    function lib$es6$promise$asap$$useMessageChannel() {\r\n      var channel = new MessageChannel();\r\n      channel.port1.onmessage = lib$es6$promise$asap$$flush;\r\n      return function () {\r\n        channel.port2.postMessage(0);\r\n      };\r\n    }\r\n\r\n    function lib$es6$promise$asap$$useSetTimeout() {\r\n      return function() {\r\n        setTimeout(lib$es6$promise$asap$$flush, 1);\r\n      };\r\n    }\r\n\r\n    var lib$es6$promise$asap$$queue = new Array(1000);\r\n    function lib$es6$promise$asap$$flush() {\r\n      for (var i = 0; i < lib$es6$promise$asap$$len; i+=2) {\r\n        var callback = lib$es6$promise$asap$$queue[i];\r\n        var arg = lib$es6$promise$asap$$queue[i+1];\r\n\r\n        callback(arg);\r\n\r\n        lib$es6$promise$asap$$queue[i] = undefined;\r\n        lib$es6$promise$asap$$queue[i+1] = undefined;\r\n      }\r\n\r\n      lib$es6$promise$asap$$len = 0;\r\n    }\r\n\r\n    function lib$es6$promise$asap$$attemptVertx() {\r\n      try {\r\n        var r = require;\r\n        var vertx = r('vertx');\r\n        lib$es6$promise$asap$$vertxNext = vertx.runOnLoop || vertx.runOnContext;\r\n        return lib$es6$promise$asap$$useVertxTimer();\r\n      } catch(e) {\r\n        return lib$es6$promise$asap$$useSetTimeout();\r\n      }\r\n    }\r\n\r\n    var lib$es6$promise$asap$$scheduleFlush;\r\n    // Decide what async method to use to triggering processing of queued callbacks:\r\n    if (lib$es6$promise$asap$$isNode) {\r\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useNextTick();\r\n    } else if (lib$es6$promise$asap$$BrowserMutationObserver) {\r\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useMutationObserver();\r\n    } else if (lib$es6$promise$asap$$isWorker) {\r\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useMessageChannel();\r\n    } else if (lib$es6$promise$asap$$browserWindow === undefined && typeof require === 'function') {\r\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$attemptVertx();\r\n    } else {\r\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useSetTimeout();\r\n    }\r\n\r\n    function lib$es6$promise$$internal$$noop() {}\r\n\r\n    var lib$es6$promise$$internal$$PENDING   = void 0;\r\n    var lib$es6$promise$$internal$$FULFILLED = 1;\r\n    var lib$es6$promise$$internal$$REJECTED  = 2;\r\n\r\n    var lib$es6$promise$$internal$$GET_THEN_ERROR = new lib$es6$promise$$internal$$ErrorObject();\r\n\r\n    function lib$es6$promise$$internal$$selfFulfillment() {\r\n      return new TypeError(\"You cannot resolve a promise with itself\");\r\n    }\r\n\r\n    function lib$es6$promise$$internal$$cannotReturnOwn() {\r\n      return new TypeError('A promises callback cannot return that same promise.');\r\n    }\r\n\r\n    function lib$es6$promise$$internal$$getThen(promise) {\r\n      try {\r\n        return promise.then;\r\n      } catch(error) {\r\n        lib$es6$promise$$internal$$GET_THEN_ERROR.error = error;\r\n        return lib$es6$promise$$internal$$GET_THEN_ERROR;\r\n      }\r\n    }\r\n\r\n    function lib$es6$promise$$internal$$tryThen(then, value, fulfillmentHandler, rejectionHandler) {\r\n      try {\r\n        then.call(value, fulfillmentHandler, rejectionHandler);\r\n      } catch(e) {\r\n        return e;\r\n      }\r\n    }\r\n\r\n    function lib$es6$promise$$internal$$handleForeignThenable(promise, thenable, then) {\r\n       lib$es6$promise$asap$$asap(function(promise) {\r\n        var sealed = false;\r\n        var error = lib$es6$promise$$internal$$tryThen(then, thenable, function(value) {\r\n          if (sealed) { return; }\r\n          sealed = true;\r\n          if (thenable !== value) {\r\n            lib$es6$promise$$internal$$resolve(promise, value);\r\n          } else {\r\n            lib$es6$promise$$internal$$fulfill(promise, value);\r\n          }\r\n        }, function(reason) {\r\n          if (sealed) { return; }\r\n          sealed = true;\r\n\r\n          lib$es6$promise$$internal$$reject(promise, reason);\r\n        }, 'Settle: ' + (promise._label || ' unknown promise'));\r\n\r\n        if (!sealed && error) {\r\n          sealed = true;\r\n          lib$es6$promise$$internal$$reject(promise, error);\r\n        }\r\n      }, promise);\r\n    }\r\n\r\n    function lib$es6$promise$$internal$$handleOwnThenable(promise, thenable) {\r\n      if (thenable._state === lib$es6$promise$$internal$$FULFILLED) {\r\n        lib$es6$promise$$internal$$fulfill(promise, thenable._result);\r\n      } else if (thenable._state === lib$es6$promise$$internal$$REJECTED) {\r\n        lib$es6$promise$$internal$$reject(promise, thenable._result);\r\n      } else {\r\n        lib$es6$promise$$internal$$subscribe(thenable, undefined, function(value) {\r\n          lib$es6$promise$$internal$$resolve(promise, value);\r\n        }, function(reason) {\r\n          lib$es6$promise$$internal$$reject(promise, reason);\r\n        });\r\n      }\r\n    }\r\n\r\n    function lib$es6$promise$$internal$$handleMaybeThenable(promise, maybeThenable) {\r\n      if (maybeThenable.constructor === promise.constructor) {\r\n        lib$es6$promise$$internal$$handleOwnThenable(promise, maybeThenable);\r\n      } else {\r\n        var then = lib$es6$promise$$internal$$getThen(maybeThenable);\r\n\r\n        if (then === lib$es6$promise$$internal$$GET_THEN_ERROR) {\r\n          lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$GET_THEN_ERROR.error);\r\n        } else if (then === undefined) {\r\n          lib$es6$promise$$internal$$fulfill(promise, maybeThenable);\r\n        } else if (lib$es6$promise$utils$$isFunction(then)) {\r\n          lib$es6$promise$$internal$$handleForeignThenable(promise, maybeThenable, then);\r\n        } else {\r\n          lib$es6$promise$$internal$$fulfill(promise, maybeThenable);\r\n        }\r\n      }\r\n    }\r\n\r\n    function lib$es6$promise$$internal$$resolve(promise, value) {\r\n      if (promise === value) {\r\n        lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$selfFulfillment());\r\n      } else if (lib$es6$promise$utils$$objectOrFunction(value)) {\r\n        lib$es6$promise$$internal$$handleMaybeThenable(promise, value);\r\n      } else {\r\n        lib$es6$promise$$internal$$fulfill(promise, value);\r\n      }\r\n    }\r\n\r\n    function lib$es6$promise$$internal$$publishRejection(promise) {\r\n      if (promise._onerror) {\r\n        promise._onerror(promise._result);\r\n      }\r\n\r\n      lib$es6$promise$$internal$$publish(promise);\r\n    }\r\n\r\n    function lib$es6$promise$$internal$$fulfill(promise, value) {\r\n      if (promise._state !== lib$es6$promise$$internal$$PENDING) { return; }\r\n\r\n      promise._result = value;\r\n      promise._state = lib$es6$promise$$internal$$FULFILLED;\r\n\r\n      if (promise._subscribers.length !== 0) {\r\n        lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publish, promise);\r\n      }\r\n    }\r\n\r\n    function lib$es6$promise$$internal$$reject(promise, reason) {\r\n      if (promise._state !== lib$es6$promise$$internal$$PENDING) { return; }\r\n      promise._state = lib$es6$promise$$internal$$REJECTED;\r\n      promise._result = reason;\r\n\r\n      lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publishRejection, promise);\r\n    }\r\n\r\n    function lib$es6$promise$$internal$$subscribe(parent, child, onFulfillment, onRejection) {\r\n      var subscribers = parent._subscribers;\r\n      var length = subscribers.length;\r\n\r\n      parent._onerror = null;\r\n\r\n      subscribers[length] = child;\r\n      subscribers[length + lib$es6$promise$$internal$$FULFILLED] = onFulfillment;\r\n      subscribers[length + lib$es6$promise$$internal$$REJECTED]  = onRejection;\r\n\r\n      if (length === 0 && parent._state) {\r\n        lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publish, parent);\r\n      }\r\n    }\r\n\r\n    function lib$es6$promise$$internal$$publish(promise) {\r\n      var subscribers = promise._subscribers;\r\n      var settled = promise._state;\r\n\r\n      if (subscribers.length === 0) { return; }\r\n\r\n      var child, callback, detail = promise._result;\r\n\r\n      for (var i = 0; i < subscribers.length; i += 3) {\r\n        child = subscribers[i];\r\n        callback = subscribers[i + settled];\r\n\r\n        if (child) {\r\n          lib$es6$promise$$internal$$invokeCallback(settled, child, callback, detail);\r\n        } else {\r\n          callback(detail);\r\n        }\r\n      }\r\n\r\n      promise._subscribers.length = 0;\r\n    }\r\n\r\n    function lib$es6$promise$$internal$$ErrorObject() {\r\n      this.error = null;\r\n    }\r\n\r\n    var lib$es6$promise$$internal$$TRY_CATCH_ERROR = new lib$es6$promise$$internal$$ErrorObject();\r\n\r\n    function lib$es6$promise$$internal$$tryCatch(callback, detail) {\r\n      try {\r\n        return callback(detail);\r\n      } catch(e) {\r\n        lib$es6$promise$$internal$$TRY_CATCH_ERROR.error = e;\r\n        return lib$es6$promise$$internal$$TRY_CATCH_ERROR;\r\n      }\r\n    }\r\n\r\n    function lib$es6$promise$$internal$$invokeCallback(settled, promise, callback, detail) {\r\n      var hasCallback = lib$es6$promise$utils$$isFunction(callback),\r\n          value, error, succeeded, failed;\r\n\r\n      if (hasCallback) {\r\n        value = lib$es6$promise$$internal$$tryCatch(callback, detail);\r\n\r\n        if (value === lib$es6$promise$$internal$$TRY_CATCH_ERROR) {\r\n          failed = true;\r\n          error = value.error;\r\n          value = null;\r\n        } else {\r\n          succeeded = true;\r\n        }\r\n\r\n        if (promise === value) {\r\n          lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$cannotReturnOwn());\r\n          return;\r\n        }\r\n\r\n      } else {\r\n        value = detail;\r\n        succeeded = true;\r\n      }\r\n\r\n      if (promise._state !== lib$es6$promise$$internal$$PENDING) {\r\n        // noop\r\n      } else if (hasCallback && succeeded) {\r\n        lib$es6$promise$$internal$$resolve(promise, value);\r\n      } else if (failed) {\r\n        lib$es6$promise$$internal$$reject(promise, error);\r\n      } else if (settled === lib$es6$promise$$internal$$FULFILLED) {\r\n        lib$es6$promise$$internal$$fulfill(promise, value);\r\n      } else if (settled === lib$es6$promise$$internal$$REJECTED) {\r\n        lib$es6$promise$$internal$$reject(promise, value);\r\n      }\r\n    }\r\n\r\n    function lib$es6$promise$$internal$$initializePromise(promise, resolver) {\r\n      try {\r\n        resolver(function resolvePromise(value){\r\n          lib$es6$promise$$internal$$resolve(promise, value);\r\n        }, function rejectPromise(reason) {\r\n          lib$es6$promise$$internal$$reject(promise, reason);\r\n        });\r\n      } catch(e) {\r\n        lib$es6$promise$$internal$$reject(promise, e);\r\n      }\r\n    }\r\n\r\n    function lib$es6$promise$enumerator$$Enumerator(Constructor, input) {\r\n      var enumerator = this;\r\n\r\n      enumerator._instanceConstructor = Constructor;\r\n      enumerator.promise = new Constructor(lib$es6$promise$$internal$$noop);\r\n\r\n      if (enumerator._validateInput(input)) {\r\n        enumerator._input     = input;\r\n        enumerator.length     = input.length;\r\n        enumerator._remaining = input.length;\r\n\r\n        enumerator._init();\r\n\r\n        if (enumerator.length === 0) {\r\n          lib$es6$promise$$internal$$fulfill(enumerator.promise, enumerator._result);\r\n        } else {\r\n          enumerator.length = enumerator.length || 0;\r\n          enumerator._enumerate();\r\n          if (enumerator._remaining === 0) {\r\n            lib$es6$promise$$internal$$fulfill(enumerator.promise, enumerator._result);\r\n          }\r\n        }\r\n      } else {\r\n        lib$es6$promise$$internal$$reject(enumerator.promise, enumerator._validationError());\r\n      }\r\n    }\r\n\r\n    lib$es6$promise$enumerator$$Enumerator.prototype._validateInput = function(input) {\r\n      return lib$es6$promise$utils$$isArray(input);\r\n    };\r\n\r\n    lib$es6$promise$enumerator$$Enumerator.prototype._validationError = function() {\r\n      return new Error('Array Methods must be provided an Array');\r\n    };\r\n\r\n    lib$es6$promise$enumerator$$Enumerator.prototype._init = function() {\r\n      this._result = new Array(this.length);\r\n    };\r\n\r\n    var lib$es6$promise$enumerator$$default = lib$es6$promise$enumerator$$Enumerator;\r\n\r\n    lib$es6$promise$enumerator$$Enumerator.prototype._enumerate = function() {\r\n      var enumerator = this;\r\n\r\n      var length  = enumerator.length;\r\n      var promise = enumerator.promise;\r\n      var input   = enumerator._input;\r\n\r\n      for (var i = 0; promise._state === lib$es6$promise$$internal$$PENDING && i < length; i++) {\r\n        enumerator._eachEntry(input[i], i);\r\n      }\r\n    };\r\n\r\n    lib$es6$promise$enumerator$$Enumerator.prototype._eachEntry = function(entry, i) {\r\n      var enumerator = this;\r\n      var c = enumerator._instanceConstructor;\r\n\r\n      if (lib$es6$promise$utils$$isMaybeThenable(entry)) {\r\n        if (entry.constructor === c && entry._state !== lib$es6$promise$$internal$$PENDING) {\r\n          entry._onerror = null;\r\n          enumerator._settledAt(entry._state, i, entry._result);\r\n        } else {\r\n          enumerator._willSettleAt(c.resolve(entry), i);\r\n        }\r\n      } else {\r\n        enumerator._remaining--;\r\n        enumerator._result[i] = entry;\r\n      }\r\n    };\r\n\r\n    lib$es6$promise$enumerator$$Enumerator.prototype._settledAt = function(state, i, value) {\r\n      var enumerator = this;\r\n      var promise = enumerator.promise;\r\n\r\n      if (promise._state === lib$es6$promise$$internal$$PENDING) {\r\n        enumerator._remaining--;\r\n\r\n        if (state === lib$es6$promise$$internal$$REJECTED) {\r\n          lib$es6$promise$$internal$$reject(promise, value);\r\n        } else {\r\n          enumerator._result[i] = value;\r\n        }\r\n      }\r\n\r\n      if (enumerator._remaining === 0) {\r\n        lib$es6$promise$$internal$$fulfill(promise, enumerator._result);\r\n      }\r\n    };\r\n\r\n    lib$es6$promise$enumerator$$Enumerator.prototype._willSettleAt = function(promise, i) {\r\n      var enumerator = this;\r\n\r\n      lib$es6$promise$$internal$$subscribe(promise, undefined, function(value) {\r\n        enumerator._settledAt(lib$es6$promise$$internal$$FULFILLED, i, value);\r\n      }, function(reason) {\r\n        enumerator._settledAt(lib$es6$promise$$internal$$REJECTED, i, reason);\r\n      });\r\n    };\r\n    function lib$es6$promise$promise$all$$all(entries) {\r\n      return new lib$es6$promise$enumerator$$default(this, entries).promise;\r\n    }\r\n    var lib$es6$promise$promise$all$$default = lib$es6$promise$promise$all$$all;\r\n    function lib$es6$promise$promise$race$$race(entries) {\r\n      /*jshint validthis:true */\r\n      var Constructor = this;\r\n\r\n      var promise = new Constructor(lib$es6$promise$$internal$$noop);\r\n\r\n      if (!lib$es6$promise$utils$$isArray(entries)) {\r\n        lib$es6$promise$$internal$$reject(promise, new TypeError('You must pass an array to race.'));\r\n        return promise;\r\n      }\r\n\r\n      var length = entries.length;\r\n\r\n      function onFulfillment(value) {\r\n        lib$es6$promise$$internal$$resolve(promise, value);\r\n      }\r\n\r\n      function onRejection(reason) {\r\n        lib$es6$promise$$internal$$reject(promise, reason);\r\n      }\r\n\r\n      for (var i = 0; promise._state === lib$es6$promise$$internal$$PENDING && i < length; i++) {\r\n        lib$es6$promise$$internal$$subscribe(Constructor.resolve(entries[i]), undefined, onFulfillment, onRejection);\r\n      }\r\n\r\n      return promise;\r\n    }\r\n    var lib$es6$promise$promise$race$$default = lib$es6$promise$promise$race$$race;\r\n    function lib$es6$promise$promise$resolve$$resolve(object) {\r\n      /*jshint validthis:true */\r\n      var Constructor = this;\r\n\r\n      if (object && typeof object === 'object' && object.constructor === Constructor) {\r\n        return object;\r\n      }\r\n\r\n      var promise = new Constructor(lib$es6$promise$$internal$$noop);\r\n      lib$es6$promise$$internal$$resolve(promise, object);\r\n      return promise;\r\n    }\r\n    var lib$es6$promise$promise$resolve$$default = lib$es6$promise$promise$resolve$$resolve;\r\n    function lib$es6$promise$promise$reject$$reject(reason) {\r\n      /*jshint validthis:true */\r\n      var Constructor = this;\r\n      var promise = new Constructor(lib$es6$promise$$internal$$noop);\r\n      lib$es6$promise$$internal$$reject(promise, reason);\r\n      return promise;\r\n    }\r\n    var lib$es6$promise$promise$reject$$default = lib$es6$promise$promise$reject$$reject;\r\n\r\n    var lib$es6$promise$promise$$counter = 0;\r\n\r\n    function lib$es6$promise$promise$$needsResolver() {\r\n      throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');\r\n    }\r\n\r\n    function lib$es6$promise$promise$$needsNew() {\r\n      throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\");\r\n    }\r\n\r\n    var lib$es6$promise$promise$$default = lib$es6$promise$promise$$Promise;\r\n    /**\r\n      Promise objects represent the eventual result of an asynchronous operation. The\r\n      primary way of interacting with a promise is through its `then` method, which\r\n      registers callbacks to receive either a promise's eventual value or the reason\r\n      why the promise cannot be fulfilled.\r\n      Terminology\r\n      -----------\r\n      - `promise` is an object or function with a `then` method whose behavior conforms to this specification.\r\n      - `thenable` is an object or function that defines a `then` method.\r\n      - `value` is any legal JavaScript value (including undefined, a thenable, or a promise).\r\n      - `exception` is a value that is thrown using the throw statement.\r\n      - `reason` is a value that indicates why a promise was rejected.\r\n      - `settled` the final resting state of a promise, fulfilled or rejected.\r\n      A promise can be in one of three states: pending, fulfilled, or rejected.\r\n      Promises that are fulfilled have a fulfillment value and are in the fulfilled\r\n      state.  Promises that are rejected have a rejection reason and are in the\r\n      rejected state.  A fulfillment value is never a thenable.\r\n      Promises can also be said to *resolve* a value.  If this value is also a\r\n      promise, then the original promise's settled state will match the value's\r\n      settled state.  So a promise that *resolves* a promise that rejects will\r\n      itself reject, and a promise that *resolves* a promise that fulfills will\r\n      itself fulfill.\r\n      Basic Usage:\r\n      ------------\r\n      ```js\r\n      var promise = new Promise(function(resolve, reject) {\r\n        // on success\r\n        resolve(value);\r\n        // on failure\r\n        reject(reason);\r\n      });\r\n      promise.then(function(value) {\r\n        // on fulfillment\r\n      }, function(reason) {\r\n        // on rejection\r\n      });\r\n      ```\r\n      Advanced Usage:\r\n      ---------------\r\n      Promises shine when abstracting away asynchronous interactions such as\r\n      `XMLHttpRequest`s.\r\n      ```js\r\n      function getJSON(url) {\r\n        return new Promise(function(resolve, reject){\r\n          var xhr = new XMLHttpRequest();\r\n          xhr.open('GET', url);\r\n          xhr.onreadystatechange = handler;\r\n          xhr.responseType = 'json';\r\n          xhr.setRequestHeader('Accept', 'application/json');\r\n          xhr.send();\r\n          function handler() {\r\n            if (this.readyState === this.DONE) {\r\n              if (this.status === 200) {\r\n                resolve(this.response);\r\n              } else {\r\n                reject(new Error('getJSON: `' + url + '` failed with status: [' + this.status + ']'));\r\n              }\r\n            }\r\n          };\r\n        });\r\n      }\r\n      getJSON('/posts.json').then(function(json) {\r\n        // on fulfillment\r\n      }, function(reason) {\r\n        // on rejection\r\n      });\r\n      ```\r\n      Unlike callbacks, promises are great composable primitives.\r\n      ```js\r\n      Promise.all([\r\n        getJSON('/posts'),\r\n        getJSON('/comments')\r\n      ]).then(function(values){\r\n        values[0] // => postsJSON\r\n        values[1] // => commentsJSON\r\n        return values;\r\n      });\r\n      ```\r\n      @class Promise\r\n      @param {function} resolver\r\n      Useful for tooling.\r\n      @constructor\r\n    */\r\n    function lib$es6$promise$promise$$Promise(resolver) {\r\n      this._id = lib$es6$promise$promise$$counter++;\r\n      this._state = undefined;\r\n      this._result = undefined;\r\n      this._subscribers = [];\r\n\r\n      if (lib$es6$promise$$internal$$noop !== resolver) {\r\n        if (!lib$es6$promise$utils$$isFunction(resolver)) {\r\n          lib$es6$promise$promise$$needsResolver();\r\n        }\r\n\r\n        if (!(this instanceof lib$es6$promise$promise$$Promise)) {\r\n          lib$es6$promise$promise$$needsNew();\r\n        }\r\n\r\n        lib$es6$promise$$internal$$initializePromise(this, resolver);\r\n      }\r\n    }\r\n\r\n    lib$es6$promise$promise$$Promise.all = lib$es6$promise$promise$all$$default;\r\n    lib$es6$promise$promise$$Promise.race = lib$es6$promise$promise$race$$default;\r\n    lib$es6$promise$promise$$Promise.resolve = lib$es6$promise$promise$resolve$$default;\r\n    lib$es6$promise$promise$$Promise.reject = lib$es6$promise$promise$reject$$default;\r\n    lib$es6$promise$promise$$Promise._setScheduler = lib$es6$promise$asap$$setScheduler;\r\n    lib$es6$promise$promise$$Promise._setAsap = lib$es6$promise$asap$$setAsap;\r\n    lib$es6$promise$promise$$Promise._asap = lib$es6$promise$asap$$asap;\r\n\r\n    lib$es6$promise$promise$$Promise.prototype = {\r\n      constructor: lib$es6$promise$promise$$Promise,\r\n\r\n    /**\r\n      The primary way of interacting with a promise is through its `then` method,\r\n      which registers callbacks to receive either a promise's eventual value or the\r\n      reason why the promise cannot be fulfilled.\r\n      ```js\r\n      findUser().then(function(user){\r\n        // user is available\r\n      }, function(reason){\r\n        // user is unavailable, and you are given the reason why\r\n      });\r\n      ```\r\n      Chaining\r\n      --------\r\n      The return value of `then` is itself a promise.  This second, 'downstream'\r\n      promise is resolved with the return value of the first promise's fulfillment\r\n      or rejection handler, or rejected if the handler throws an exception.\r\n      ```js\r\n      findUser().then(function (user) {\r\n        return user.name;\r\n      }, function (reason) {\r\n        return 'default name';\r\n      }).then(function (userName) {\r\n        // If `findUser` fulfilled, `userName` will be the user's name, otherwise it\r\n        // will be `'default name'`\r\n      });\r\n      findUser().then(function (user) {\r\n        throw new Error('Found user, but still unhappy');\r\n      }, function (reason) {\r\n        throw new Error('`findUser` rejected and we're unhappy');\r\n      }).then(function (value) {\r\n        // never reached\r\n      }, function (reason) {\r\n        // if `findUser` fulfilled, `reason` will be 'Found user, but still unhappy'.\r\n        // If `findUser` rejected, `reason` will be '`findUser` rejected and we're unhappy'.\r\n      });\r\n      ```\r\n      If the downstream promise does not specify a rejection handler, rejection reasons will be propagated further downstream.\r\n      ```js\r\n      findUser().then(function (user) {\r\n        throw new PedagogicalException('Upstream error');\r\n      }).then(function (value) {\r\n        // never reached\r\n      }).then(function (value) {\r\n        // never reached\r\n      }, function (reason) {\r\n        // The `PedgagocialException` is propagated all the way down to here\r\n      });\r\n      ```\r\n      Assimilation\r\n      ------------\r\n      Sometimes the value you want to propagate to a downstream promise can only be\r\n      retrieved asynchronously. This can be achieved by returning a promise in the\r\n      fulfillment or rejection handler. The downstream promise will then be pending\r\n      until the returned promise is settled. This is called *assimilation*.\r\n      ```js\r\n      findUser().then(function (user) {\r\n        return findCommentsByAuthor(user);\r\n      }).then(function (comments) {\r\n        // The user's comments are now available\r\n      });\r\n      ```\r\n      If the assimliated promise rejects, then the downstream promise will also reject.\r\n      ```js\r\n      findUser().then(function (user) {\r\n        return findCommentsByAuthor(user);\r\n      }).then(function (comments) {\r\n        // If `findCommentsByAuthor` fulfills, we'll have the value here\r\n      }, function (reason) {\r\n        // If `findCommentsByAuthor` rejects, we'll have the reason here\r\n      });\r\n      ```\r\n      Simple Example\r\n      --------------\r\n      Synchronous Example\r\n      ```javascript\r\n      var result;\r\n      try {\r\n        result = findResult();\r\n        // success\r\n      } catch(reason) {\r\n        // failure\r\n      }\r\n      ```\r\n      Errback Example\r\n      ```js\r\n      findResult(function(result, err){\r\n        if (err) {\r\n          // failure\r\n        } else {\r\n          // success\r\n        }\r\n      });\r\n      ```\r\n      Promise Example;\r\n      ```javascript\r\n      findResult().then(function(result){\r\n        // success\r\n      }, function(reason){\r\n        // failure\r\n      });\r\n      ```\r\n      Advanced Example\r\n      --------------\r\n      Synchronous Example\r\n      ```javascript\r\n      var author, books;\r\n      try {\r\n        author = findAuthor();\r\n        books  = findBooksByAuthor(author);\r\n        // success\r\n      } catch(reason) {\r\n        // failure\r\n      }\r\n      ```\r\n      Errback Example\r\n      ```js\r\n      function foundBooks(books) {\r\n      }\r\n      function failure(reason) {\r\n      }\r\n      findAuthor(function(author, err){\r\n        if (err) {\r\n          failure(err);\r\n          // failure\r\n        } else {\r\n          try {\r\n            findBoooksByAuthor(author, function(books, err) {\r\n              if (err) {\r\n                failure(err);\r\n              } else {\r\n                try {\r\n                  foundBooks(books);\r\n                } catch(reason) {\r\n                  failure(reason);\r\n                }\r\n              }\r\n            });\r\n          } catch(error) {\r\n            failure(err);\r\n          }\r\n          // success\r\n        }\r\n      });\r\n      ```\r\n      Promise Example;\r\n      ```javascript\r\n      findAuthor().\r\n        then(findBooksByAuthor).\r\n        then(function(books){\r\n          // found books\r\n      }).catch(function(reason){\r\n        // something went wrong\r\n      });\r\n      ```\r\n      @method then\r\n      @param {Function} onFulfilled\r\n      @param {Function} onRejected\r\n      Useful for tooling.\r\n      @return {Promise}\r\n    */\r\n      then: function(onFulfillment, onRejection) {\r\n        var parent = this;\r\n        var state = parent._state;\r\n\r\n        if (state === lib$es6$promise$$internal$$FULFILLED && !onFulfillment || state === lib$es6$promise$$internal$$REJECTED && !onRejection) {\r\n          return this;\r\n        }\r\n\r\n        var child = new this.constructor(lib$es6$promise$$internal$$noop);\r\n        var result = parent._result;\r\n\r\n        if (state) {\r\n          var callback = arguments[state - 1];\r\n          lib$es6$promise$asap$$asap(function(){\r\n            lib$es6$promise$$internal$$invokeCallback(state, child, callback, result);\r\n          });\r\n        } else {\r\n          lib$es6$promise$$internal$$subscribe(parent, child, onFulfillment, onRejection);\r\n        }\r\n\r\n        return child;\r\n      },\r\n\r\n    /**\r\n      `catch` is simply sugar for `then(undefined, onRejection)` which makes it the same\r\n      as the catch block of a try/catch statement.\r\n      ```js\r\n      function findAuthor(){\r\n        throw new Error('couldn't find that author');\r\n      }\r\n      // synchronous\r\n      try {\r\n        findAuthor();\r\n      } catch(reason) {\r\n        // something went wrong\r\n      }\r\n      // async with promises\r\n      findAuthor().catch(function(reason){\r\n        // something went wrong\r\n      });\r\n      ```\r\n      @method catch\r\n      @param {Function} onRejection\r\n      Useful for tooling.\r\n      @return {Promise}\r\n    */\r\n      'catch': function(onRejection) {\r\n        return this.then(null, onRejection);\r\n      }\r\n    };\r\n    function lib$es6$promise$polyfill$$polyfill() {\r\n      var local;\r\n\r\n      if (typeof global !== 'undefined') {\r\n          local = global;\r\n      } else if (typeof self !== 'undefined') {\r\n          local = self;\r\n      } else {\r\n          try {\r\n              local = Function('return this')();\r\n          } catch (e) {\r\n              throw new Error('polyfill failed because global object is unavailable in this environment');\r\n          }\r\n      }\r\n\r\n      var P = local.Promise;\r\n\r\n      if (P && Object.prototype.toString.call(P.resolve()) === '[object Promise]' && !P.cast) {\r\n        return;\r\n      }\r\n\r\n      local.Promise = lib$es6$promise$promise$$default;\r\n    }\r\n    var lib$es6$promise$polyfill$$default = lib$es6$promise$polyfill$$polyfill;\r\n\r\n    var lib$es6$promise$umd$$ES6Promise = {\r\n      'Promise': lib$es6$promise$promise$$default,\r\n      'polyfill': lib$es6$promise$polyfill$$default\r\n    };\r\n\r\n    /* global define:true module:true window: true */\r\n    if (typeof define === 'function' && define['amd']) {\r\n        define('ES6Promise',function() { return lib$es6$promise$umd$$ES6Promise; });\r\n    } else if (typeof module !== 'undefined' && module['exports']) {\r\n      module['exports'] = lib$es6$promise$umd$$ES6Promise;\r\n    } else if (typeof this !== 'undefined') {\r\n      this['ES6Promise'] = lib$es6$promise$umd$$ES6Promise;\r\n    }\r\n\r\n    lib$es6$promise$polyfill$$default();\r\n}).call(this);\r\n\r\n\r\n; (function (factory) {\r\n    'use strict';\r\n    if (typeof define === 'function' && define.amd) {\r\n        define('WebSdkCore', [], factory);\r\n    } else {\r\n        window.WebSdkCore = factory();\r\n    }\r\n})(function () {\r\n    var WebSdk = {\r\n        Promise: null,      // allows passing custom implementation of promises,\r\n        debug: false,       // if true browser console will be used to output debug messages\r\n        version: 4\r\n    };\r\n\r\n    var WebSdkEncryptionSupport = {\r\n        None: 1,\r\n        Encoding: 2,\r\n        Encryption: 3,\r\n        AESEncryption: 4\r\n    };\r\n\r\n    var WebSdkDataSupport = {\r\n        Binary: 1,\r\n        String: 2\r\n    };\r\n\r\n    var core = {\r\n        WebSdk: WebSdk,\r\n        WebSdkEncryptionSupport: WebSdkEncryptionSupport,\r\n        WebSdkDataSupport: WebSdkDataSupport\r\n    };\r\n\r\n    core.log = function () {\r\n        if (!core.WebSdk.debug) return;\r\n\r\n        if (console.log.apply)\r\n            console.log.apply(console, [].slice.call(arguments));\r\n        else\r\n            console.log(arguments[0]);\r\n    }\r\n\r\n    return core;\r\n});\r\n;\r\n(function(factory) {\r\n    'use strict';\r\n    if (typeof define === 'function' && define.amd) {\r\n        define('WebSdkCore.utils', [\r\n            'WebSdkCore'\r\n        ], factory);\r\n    } else {\r\n        if (!window.WebSdkCore)\r\n            throw new Error(\"WebSdkCore is not loaded.\");\r\n\r\n      window.WebSdkCore.utils = factory(window.WebSdkCore);\r\n    }\r\n})(function (core) {\r\n\r\n    function getQueryParam(url, name) {\r\n        var match = RegExp('[?&]' + name + '=([^&]*)').exec(url);\r\n        return match ? decodeURIComponent(match[1].replace(/\\+/g, ' ')) : null;\r\n    }\r\n\r\n    function ajax(method, url, data) {\r\n        var promise = new window.Promise(function (resolve, reject) {\r\n            var xhr = new XMLHttpRequest();\r\n            xhr.open(method, url, true);\r\n            xhr.responseType = \"json\";\r\n            xhr.setRequestHeader(\"Accept\", \"application/json\");\r\n            xhr.onreadystatechange = function onreadystatechange() {\r\n                if (this.readyState === XMLHttpRequest.DONE) {\r\n                    if (this.status === 200) {\r\n                        var data;\r\n                        if (this.responseType === '' && typeof this.responseText === \"string\")\r\n                            data = JSON.parse(this.responseText);\r\n                        else\r\n                            data = this.response;\r\n                        resolve(data);\r\n                    } else {\r\n                        reject(this);\r\n                    }\r\n                }\r\n            };\r\n\r\n            if (method.toLowerCase() === \"post\" && data) {\r\n                var urlEncodedData = \"\";\r\n                var urlEncodedDataPairs = [];\r\n                var name;\r\n                for (name in data) {\r\n                    urlEncodedDataPairs.push(encodeURIComponent(name) + '=' + encodeURIComponent(data[name]));\r\n                }\r\n                urlEncodedData = urlEncodedDataPairs.join('&').replace(/%20/g, '+');\r\n                xhr.send(urlEncodedData);\r\n            } else {\r\n                xhr.send();\r\n            }\r\n        });\r\n\r\n        return promise;\r\n    }\r\n\r\n    function defer(deferred) {\r\n        deferred.promise = new window.Promise(function (resolve, reject) {\r\n            deferred.resolve = resolve;\r\n            deferred.reject = reject;\r\n        });\r\n        return deferred;\r\n    }\r\n\r\n    function Deferred() {\r\n        if (this instanceof Deferred) return defer(this);\r\n        else return defer(Object.create(Deferred.prototype));\r\n    }\r\n\r\n    function tryParseJson(str) {\r\n        if (!str)\r\n            return null;\r\n\r\n        var obj;\r\n        try {\r\n            obj = JSON.parse(str);\r\n        } catch (e) {\r\n            obj = null;\r\n        }\r\n        return obj;\r\n    }\r\n\r\n    var FixedQueue = (function () {\r\n        function FixedQueue(maxSize) {\r\n            this.m_items = [];\r\n            this.m_maxSize = maxSize;\r\n        }\r\n\r\n        Object.defineProperty(FixedQueue.prototype, \"length\", {\r\n            get: function () {\r\n                return this.m_items.length;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n\r\n        Object.defineProperty(FixedQueue.prototype, \"items\", {\r\n            get: function () {\r\n                return this.m_items;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n\r\n        FixedQueue.prototype.trimHead = function () {\r\n            if (this.m_items.length <= this.m_maxSize)\r\n                return;\r\n            Array.prototype.splice.call(this.m_items, 0, this.m_items.length - this.m_maxSize);\r\n        };\r\n\r\n        FixedQueue.prototype.trimTail = function () {\r\n            if (this.m_items.length <= this.m_maxSize)\r\n                return;\r\n            Array.prototype.splice.call(this.m_items, this.m_maxSize, this.m_items.length - this.m_maxSize);\r\n        };\r\n\r\n        FixedQueue.prototype.push = function () {\r\n            var result = Array.prototype.push.apply(this.m_items, arguments);\r\n            this.trimHead();\r\n            return result;\r\n        };\r\n\r\n        FixedQueue.prototype.splice = function () {\r\n\r\n            var result = Array.prototype.splice.apply(this.m_items, arguments);\r\n            this.trimTail();\r\n            return result;\r\n        };\r\n\r\n        FixedQueue.prototype.unshift = function () {\r\n\r\n            var result = Array.prototype.unshift.apply(this.m_items, arguments);\r\n            this.trimTail();\r\n            return result;\r\n        };\r\n        return FixedQueue;\r\n    })();\r\n\r\n    return {\r\n        getQueryParam: getQueryParam,\r\n        ajax: ajax,\r\n        tryParseJson: tryParseJson,\r\n\r\n        Deferred: Deferred,\r\n        FixedQueue: FixedQueue\r\n    };\r\n});\r\n;(function (factory) {\r\n    'use strict';\r\n    if (typeof define === 'function' && define.amd) {\r\n        define('WebSdkCore.configurator', [\r\n            'WebSdkCore',\r\n            'WebSdkCore.utils'\r\n        ], factory);\r\n    } else {\r\n        if (!window.WebSdkCore)\r\n            throw new Error(\"WebSdkCore is not loaded.\");\r\n\r\n        window.WebSdkCore.configurator = factory(window.WebSdkCore, window.WebSdkCore.utils);\r\n    }\r\n})(function (core, utils) {\r\n\r\n    /**\r\n    * Loads configuration parameters from configuration server and saves it in session storage.\r\n    */\r\n    function Configurator() {\r\n        this.m_key = \"websdk\";\r\n\r\n        var sessionData = utils.tryParseJson(sessionStorage.getItem(this.m_key));\r\n        if (sessionData) {\r\n            this.m_port = parseInt(sessionData.port);\r\n            this.m_host = sessionData.host || \"127.0.0.1\";\r\n            this.m_isSecure = sessionData.isSecure;\r\n            this.m_srp = sessionData.srp;\r\n        }\r\n    }\r\n\r\n    Object.defineProperty(Configurator.prototype, \"url\", {\r\n        get: function () {\r\n            if (!this.m_port || !this.m_host) return null;\r\n\r\n            var protocol = this.m_isSecure ? \"https\" : \"http\";\r\n            return protocol + \"://\" + this.m_host + \":\" + this.m_port.toString();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n\r\n    Object.defineProperty(Configurator.prototype, \"srp\", {\r\n        get: function () {\r\n            return this.m_srp;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n\r\n    Object.defineProperty(Configurator.prototype, \"sessionId\", {\r\n        get: function () {\r\n            return sessionStorage.getItem(\"websdk.sessionId\");\r\n        },\r\n        set: function (value) {\r\n            return sessionStorage.setItem(\"websdk.sessionId\", value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n\r\n    Configurator.prototype.ensureLoaded = function (callback) {\r\n        core.log(\"Configurator: ensureLoaded\");\r\n\r\n        if (!!this.url && !!this.srp) return callback(null);\r\n\r\n        var self = this,\r\n            uri = \"https://127.0.0.1:52181/get_connection\";\r\n\r\n        utils.ajax('get', uri)\r\n            .then(function (response) {\r\n                core.log(\"Configurator: findConfiguration -> \", response);\r\n                if (response && response.endpoint && self.tryParse(response.endpoint)) {\r\n                    callback(null);\r\n                } else {\r\n                    callback(new Error(\"Cannot load configuration\"));\r\n                }\r\n            })\r\n            .catch(function (err) {\r\n                core.log(\"Configurator: findConfiguration -> ERROR \", err);\r\n                callback(err);\r\n            });\r\n    };\r\n\r\n    Configurator.prototype.tryParse = function (connectionString) {\r\n        core.log(\"Configurator: tryParse \" + connectionString);\r\n\r\n        var urlEl = document.createElement(\"a\");\r\n        urlEl.href = connectionString;\r\n\r\n        var port = parseInt(utils.getQueryParam(urlEl.search, \"web_sdk_port\") || \"\"),\r\n            isSecure = utils.getQueryParam(urlEl.search, \"web_sdk_secure\") == \"true\",\r\n            host = urlEl.hostname;\r\n\r\n        var p1 = utils.getQueryParam(urlEl.search, \"web_sdk_username\"),\r\n            p2 = utils.getQueryParam(urlEl.search, \"web_sdk_password\"),\r\n            salt = utils.getQueryParam(urlEl.search, \"web_sdk_salt\");\r\n\r\n        if (!port || !host || !p1 || !p2 || !salt) return false;\r\n\r\n        this.m_port = port;\r\n        this.m_host = host;\r\n        this.m_isSecure = isSecure;\r\n        this.m_srp = {\r\n            p1: p1,\r\n            p2: p2,\r\n            salt: salt\r\n        };\r\n\r\n        sessionStorage.setItem(this.m_key, JSON.stringify({\r\n            port: this.m_port,\r\n            host: this.m_host,\r\n            isSecure: this.m_isSecure,\r\n            srp: this.m_srp\r\n        }));\r\n\r\n        return true;\r\n    };\r\n\r\n    return new Configurator();\r\n});\r\n; (function (factory) {\r\n    'use strict';\r\n    if (typeof define === 'function' && define.amd) {\r\n        define('WebSdkCore.cipher', [\r\n            'WebSdkCore'\r\n        ], factory);\r\n    } else {\r\n        if (!window.WebSdkCore)\r\n            throw new Error(\"WebSdkCore is not loaded.\");\r\n\r\n        window.WebSdkCore.cipher = factory(window.WebSdkCore);\r\n    }\r\n})(function (core) {\r\n\r\n    var WebSdkAESVersion = 1;\r\n\r\n    var WebSdkAESDataType = {\r\n        Binary: 1,\r\n        UnicodeString: 2,\r\n        UTF8String: 3\r\n    };\r\n\r\n    var crypt = window.crypto || window.msCrypto;\r\n\r\n    function utf8ToBase64(str) {\r\n        var binstr = utf8ToBinaryString(str);\r\n        return btoa(binstr);\r\n    }\r\n\r\n    function base64ToUtf8(b64) {\r\n        var binstr = atob(b64);\r\n\r\n        return binaryStringToUtf8(binstr);\r\n    }\r\n\r\n    function utf8ToBinaryString(str) {\r\n        var escstr = encodeURIComponent(str);\r\n        var binstr = escstr.replace(/%([0-9A-F]{2})/g, function (match, p1) {\r\n            return String.fromCharCode(parseInt(p1, 16));\r\n        });\r\n\r\n        return binstr;\r\n    }\r\n\r\n    function binaryStringToUtf8(binstr) {\r\n        var escstr = binstr.replace(/(.)/g, function (m, p) {\r\n            var code = p.charCodeAt(0).toString(16).toUpperCase();\r\n            if (code.length < 2) {\r\n                code = '0' + code;\r\n            }\r\n            return '%' + code;\r\n        });\r\n\r\n        return decodeURIComponent(escstr);\r\n    }\r\n\r\n    function keyCharAt(key, i) {\r\n        return key.charCodeAt(Math.floor(i % key.length));\r\n    }\r\n\r\n    function xor(key, data) {\r\n        var strArr = Array.prototype.map.call(data, function (x) { return x });\r\n        return strArr.map(function (c, i) {\r\n            return String.fromCharCode(c.charCodeAt(0) ^ keyCharAt(key, i));\r\n        }).join(\"\");\r\n    }\r\n\r\n    function getHdr(buf) {\r\n        var dv = new DataView(buf);\r\n        var version = dv.getUint8(0);\r\n        var type = dv.getUint8(1);\r\n        var length = dv.getUint32(2, true);\r\n        var offset = dv.getUint16(6, true);\r\n        return { version: version, type: type, length: length, offset: offset };\r\n    }\r\n\r\n    function setHdr(buf, type)\r\n    {\r\n        var dv = new DataView(buf);\r\n        // set version\r\n        dv.setUint8(0, WebSdkAESVersion);\r\n        // set type\r\n        dv.setUint8(1, type);\r\n        // set length\r\n        dv.setUint32(2, buf.byteLength - 8, true);\r\n        // set offset\r\n        dv.setUint16(6, 8, true);\r\n    }\r\n\r\n    function ab2str(buf) {\r\n\r\n        return new window.Promise(function (resolve, reject) {\r\n            var blob = new Blob([new Uint8Array(buf)]);\r\n            var fileReader = new FileReader();\r\n            fileReader.onload = function (event) {\r\n                return resolve(event.target.result);\r\n            };\r\n            fileReader.onerror = function (event) {\r\n                return reject(event.target.error);\r\n            };\r\n            fileReader.readAsText(blob, 'utf-16');\r\n        });\r\n    }\r\n    function str2ab(str) {\r\n        var buf = new ArrayBuffer(str.length * 2 + 8); // 2 bytes for each char\r\n        setHdr(buf, WebSdkAESDataType.UnicodeString); // unicode string\r\n        var bufView = new Uint16Array(buf, 8);\r\n        for (var i = 0, strLen = str.length; i < strLen; i++) {\r\n            bufView[i] = str.charCodeAt(i);\r\n        }\r\n        return buf;\r\n    }\r\n    function binary2ab(bin) {\r\n        var buf = new ArrayBuffer(bin.length + 8);\r\n        setHdr(buf, WebSdkAESDataType.Binary); // binary string\r\n        var bufSrc = new Uint8Array(bin);\r\n        var bufDest = new Uint8Array(buf, 8);\r\n        bufDest.set(bufSrc);\r\n        return buf;\r\n    }\r\n\r\n    // AES encryption wrappers\r\n    // So far we will use AES-CBC 256bit encryption with 128bit IV vector.\r\n\r\n    // You can use crypto.generateKey or crypto.importKey,\r\n    // but since I'm always either going to share, store, or receive a key\r\n    // I don't see the point of using 'generateKey' directly\r\n    function generateKey(rawKey) {\r\n        var usages = ['encrypt', 'decrypt'];\r\n        var extractable = false;\r\n\r\n        return crypt.subtle.importKey(\r\n          'raw'\r\n        , rawKey\r\n        , { name: 'AES-CBC' }\r\n        , extractable\r\n        , usages\r\n        );\r\n    }\r\n\r\n    function encrypt(data, key, iv) {\r\n        // a public value that should be generated for changes each time\r\n        return crypt.subtle.encrypt(\r\n          { name: 'AES-CBC', iv: iv }\r\n        , key\r\n        , data\r\n        );\r\n    };\r\n\r\n    function decrypt(data, key, iv) {\r\n        // a public value that should be generated for changes each time\r\n        return crypt.subtle.decrypt(\r\n          { name: 'AES-CBC', iv: iv }\r\n        , key\r\n        , data\r\n        );\r\n    };\r\n\r\n    function msGenerateKey(rawKey) {\r\n        var usages = ['encrypt', 'decrypt'];\r\n        var extractable = false;\r\n        return new window.Promise(function (resolve, reject) {\r\n\r\n            var keyOpp = crypt.subtle.importKey(\r\n              'raw'\r\n            , rawKey\r\n            , { name: 'AES-CBC' }\r\n            , extractable\r\n            , usages\r\n            );\r\n            keyOpp.oncomplete = function (e) {\r\n                resolve(keyOpp.result);\r\n            }\r\n\r\n            keyOpp.onerror = function (e) {\r\n                reject(new Error(\"Cannot create a key...\"));\r\n            }\r\n\r\n        });\r\n    }\r\n\r\n    function msEncrypt(data, key, iv) {\r\n        return new window.Promise(function (resolve, reject) {\r\n            // a public value that should be generated for changes each time\r\n            var encOpp = crypt.subtle.encrypt(\r\n              { name: 'AES-CBC', iv: iv }\r\n            , key\r\n            , data\r\n            );\r\n            encOpp.oncomplete = function (e) {\r\n                resolve(encOpp.result);\r\n            };\r\n            encOpp.onerror = function (e) {\r\n                reject(new Error(\"Fail to encrypt data...\"));\r\n            }\r\n        });\r\n    }\r\n\r\n    function msDecrypt(data, key, iv) {\r\n        return new window.Promise(function (resolve, reject) {\r\n            // a public value that should be generated for changes each time\r\n            var decOpp = crypt.subtle.decrypt(\r\n              { name: 'AES-CBC', iv: iv }\r\n            , key\r\n            , data\r\n            );\r\n            decOpp.oncomplete = function (e) {\r\n                resolve(decOpp.result);\r\n            };\r\n            decOpp.onerror = function (e) {\r\n                reject(new Error(\"Fail to encrypt data...\"));\r\n            }\r\n        });\r\n    }\r\n\r\n    function encryptAES(data, key, iv) {\r\n        if (typeof window.crypto !== 'undefined') {\r\n            return generateKey(key).then(function (key) {\r\n                return encrypt(data, key, iv);\r\n            });\r\n        } else { // Microsoft IE\r\n            return msGenerateKey(key).then(function (key) {\r\n                return msEncrypt(data, key, iv);\r\n            });\r\n        }\r\n    };\r\n\r\n    function decryptAES(data, key, iv) {\r\n        if (typeof window.crypto !== 'undefined') {\r\n            return generateKey(key).then(function (key) {\r\n                return decrypt(data, key, iv);\r\n            });\r\n        } else {\r\n            return msGenerateKey(key).then(function (key) {\r\n                return msDecrypt(data, key, iv);\r\n            });\r\n        }\r\n    };\r\n\r\n    /////////////////////////////////////////////\r\n\r\n    function hexToArray(hex) {\r\n        if (hex.length % 2 === 1) throw new Error(\"hexToBytes can't have a string with an odd number of characters.\");\r\n        if (hex.indexOf(\"0x\") === 0) hex = hex.slice(2);\r\n        return new Uint8Array(hex.match(/../g).map(function (x) { return parseInt(x, 16) }));\r\n    };\r\n\r\n    function promisefy(data) {\r\n        return new window.Promise(function (resolve, reject) {\r\n            setTimeout(function () {\r\n                resolve(data);\r\n            });\r\n        });\r\n    }\r\n\r\n    function AESEncryption(key, M1, data) {\r\n        var iv = new Uint8Array(hexToArray(M1).buffer, 0, 16);\r\n        var buff;\r\n        if (typeof data === 'string')\r\n            buff = str2ab(data);\r\n        else\r\n            buff = binary2ab(data);\r\n        return encryptAES(buff, key, iv);\r\n    }\r\n    function AESDecryption(key, M1, data) {\r\n        var iv = new Uint8Array(hexToArray(M1).buffer, 0, 16);\r\n        return decryptAES(data, key, iv).then(function (data) {\r\n            var hdr = getHdr(data);\r\n            if (hdr.version !== WebSdkAESVersion)\r\n                throw new Error(\"Invalid data version!\");\r\n            switch (hdr.type) {\r\n                case WebSdkAESDataType.Binary:\r\n                    return data.slice(hdr.offset);\r\n                case WebSdkAESDataType.UnicodeString:\r\n                    return ab2str(data.slice(hdr.offset));\r\n                default:\r\n                    throw new Error(\"Invalid data type!\");\r\n            }\r\n            return ab2str(data);\r\n        });\r\n    }\r\n\r\n    return {\r\n        encode: function (key, M1, data) {\r\n            switch (core.WebSdk.version) {\r\n                case core.WebSdkEncryptionSupport.AESEncryption:\r\n                    return AESEncryption(key, M1, data);\r\n                case core.WebSdkEncryptionSupport.Encryption:\r\n                    return promisefy(utf8ToBase64(xor(M1, data)));\r\n                case core.WebSdkEncryptionSupport.Encoding:\r\n                    return promisefy(utf8ToBase64(data));\r\n                default:\r\n                    return promisefy(data);\r\n            }\r\n        },\r\n        decode: function (key, M1, data) {\r\n            switch (core.WebSdk.version) {\r\n                case core.WebSdkEncryptionSupport.AESEncryption:\r\n                    return AESDecryption(key, M1, data);\r\n                case core.WebSdkEncryptionSupport.Encryption:\r\n                    return promisefy(xor(M1, base64ToUtf8(data)));\r\n                case core.WebSdkEncryptionSupport.Encoding:\r\n                    return promisefy(base64ToUtf8(data));\r\n                default:\r\n                    return promisefy(data);\r\n            }\r\n        },\r\n        isCryptoSupported: function () {\r\n            return ((typeof crypt !== 'undefined') && crypt.subtle && crypt.subtle.importKey && crypt.subtle.encrypt);\r\n        },\r\n        hexToBytes: function(hex) {\r\n            return hexToArray(hex);\r\n        }\r\n    };\r\n});\r\n; (function (factory) {\r\n    'use strict';\r\n\r\n    if (typeof define === 'function' && define.amd) {\r\n        define('WebSdkCore.channelOptions', [\r\n            'WebSdkCore'\r\n        ], factory);\r\n    } else {\r\n        var core = window.WebSdkCore;\r\n        if (!core)\r\n            throw new Error(\"WebSdkCore is not loaded.\");\r\n\r\n        window.WebSdkCore.channelOptions = factory(core);\r\n    }\r\n})(function (core) {\r\n\r\n    function WebChannelOptions(options) {\r\n        if (!options) options = {};\r\n\r\n        var version = core.WebSdkEncryptionSupport.AESEncryption,\r\n            debug = options.debug === true;\r\n\r\n        if (!!options.version) {\r\n            validateVersion(options.version);\r\n            version = options.version;\r\n        }\r\n\r\n        Object.defineProperties(this, {\r\n            \"version\": {\r\n                get: function () { return version; },\r\n                set: function (value) {\r\n                    validateVersion(value);\r\n                    version = value;\r\n                },\r\n                enumerable: true\r\n            },\r\n            \"debug\": {\r\n                get: function () { return debug; },\r\n                set: function () { debug = value; },\r\n                enumerable: true\r\n            }\r\n        });\r\n\r\n        function validateVersion(v) {\r\n            for (var supportedVersion in core.WebSdkEncryptionSupport) {\r\n                if (core.WebSdkEncryptionSupport.hasOwnProperty(supportedVersion) &&\r\n                    core.WebSdkEncryptionSupport[supportedVersion] === v)\r\n                    return;\r\n            }\r\n            throw new Error(\"invalid WebSdk version requested\");\r\n        }\r\n    }\r\n    return WebChannelOptions;\r\n\r\n});\r\n\r\n; (function (factory) {\r\n    'use strict';\r\n\r\n    if (typeof define === 'function' && define.amd) {\r\n        define('WebSdkCore.channelClientImplementation', [\r\n            'async',\r\n            'sjcl',\r\n            'BigInteger',\r\n            'SRPClient',\r\n            'ES6Promise',\r\n            'WebSdkCore',\r\n            'WebSdkCore.utils',\r\n            'WebSdkCore.configurator',\r\n            'WebSdkCore.cipher'\r\n        ], factory);\r\n    } else {\r\n        var core = window.WebSdkCore;\r\n        if (!core)\r\n            throw new Error(\"WebSdkCore is not loaded.\");\r\n\r\n        window.WebSdkCore.channelClientImplementation = factory(async, sjcl, BigInteger, SRPClient, ES6Promise, core, core.utils, core.configurator, core.cipher);\r\n    }\r\n})(function (async, sjcl, BigInteger, SRPClient, ES6Promise, core, utils, configurator, cipher) {\r\n\r\n    if (!window.Promise)\r\n        window.Promise = ES6Promise.Promise;\r\n\r\n    function WebChannelClientImpl(clientPath) {\r\n\r\n        if (!clientPath)\r\n            throw new Error(\"clientPath cannot be empty\");\r\n\r\n        core.log(\"WebSdkVersion: \", core.WebSdk.version, \"clientPath: \", clientPath);\r\n\r\n        this.clientPath = clientPath;\r\n\r\n        this.wsThreshold = 10240; // max number of buffered bytes (10k)\r\n        this.wsQueueInterval = 1000; // interval to process message queue and send data over web-socket if buffer size is less then the threshold\r\n        this.wsQueueLimit = 100; // maximum queue size, when reaching this limit the oldest messages will be removed from the queue.\r\n        this.wsReconnectInterval = 5000;\r\n\r\n        this.queue = new utils.FixedQueue(this.wsQueueLimit);\r\n        this.queueInterval = null;\r\n        this.webSocket = null;\r\n\r\n        this.sessionKey = null;\r\n        this.M1 = null;\r\n\r\n        this.reconnectTimer = null;\r\n\r\n        this.onConnectionFailed = null;\r\n        this.onConnectionSucceed = null;\r\n        this.onDataReceivedBin = null;\r\n        this.onDataReceivedTxt = null;\r\n\r\n        var self = this;\r\n\r\n        window.parent.parent.addEventListener(\"blur\", function () {\r\n            self.resetReconnectTimer();\r\n            self.notifyFocusChanged(false);\r\n        });\r\n        window.parent.parent.addEventListener(\"focus\", function () {\r\n            self.notifyFocusChanged(true);\r\n        });\r\n\r\n    }\r\n\r\n    WebChannelClientImpl.prototype.notifyFocusChanged = function(isFocused) {\r\n        if (!this.isConnected()) return;\r\n\r\n        core.log('WebChannelClientImpl: notifyFocusChanged ->', isFocused);\r\n\r\n        var data = {\r\n            type: 'sdk.focusChanged',\r\n            data: isFocused\r\n        }\r\n\r\n        this.sendData(JSON.stringify(data));\r\n    }\r\n    WebChannelClientImpl.prototype.fireConnectionFailed = function() {\r\n        if (window.parent.parent.document.hasFocus()) {\r\n            this.setReconnectTimer();\r\n        }\r\n\r\n        if (this.onConnectionFailed) {\r\n            this.onConnectionFailed();\r\n        }\r\n    };\r\n\r\n    WebChannelClientImpl.prototype.fireConnectionSucceed = function() {\r\n        if (this.onConnectionSucceed) {\r\n            this.onConnectionSucceed();\r\n        }\r\n    };\r\n\r\n    WebChannelClientImpl.prototype.resetReconnectTimer = function() {\r\n        if (this.reconnectTimer) {\r\n            clearInterval(this.reconnectTimer);\r\n            this.reconnectTimer = null;\r\n        }\r\n    }\r\n\r\n    WebChannelClientImpl.prototype.setReconnectTimer = function() {\r\n        this.resetReconnectTimer();\r\n\r\n        var self = this;\r\n        this.reconnectTimer = setInterval(function() {\r\n            self.connectInternal(false);\r\n        }, this.wsReconnectInterval);\r\n    }\r\n\r\n    /**\r\n    * Connects to web socket server and setups all event listeners\r\n    */\r\n    WebChannelClientImpl.prototype.wsconnect = function(url) {\r\n        core.log(\"WebChannelClientImpl: wsconnect \" + url);\r\n        var self = this;\r\n\r\n        var $q = utils.Deferred();\r\n        if (this.webSocket && this.webSocket.readyState !== WebSocket.CLOSED)\r\n            throw new Error(\"wsdisconnect has not been called\");\r\n\r\n        this.webSocket = new WebSocket(url);\r\n        // we need binary type 'arraybuffer' because default type 'blob' is not working\r\n        this.webSocket.binaryType = 'arraybuffer';\r\n\r\n\r\n        this.webSocket.onclose = function(event) {\r\n            core.log(\"WebChannelClientImpl: wsonclose\");\r\n            return self.wsonclose(true);\r\n        };\r\n        this.webSocket.onopen = function(event) {\r\n            core.log(\"WebChannelClientImpl: wsonopen\");\r\n            $q.resolve();\r\n\r\n            if (window.parent.parent.document.hasFocus()) {\r\n                self.notifyFocusChanged(true);\r\n            }else{\r\n                self.notifyFocusChanged(false);\r\n            }\r\n        };\r\n        this.webSocket.onerror = function(event) {\r\n            core.log(\"WebChannelClientImpl: wsonerror \" + arguments);\r\n            return $q.reject(new Error(\"WebSocket connection failed.\"));\r\n        };\r\n        this.webSocket.onmessage = function(event) {\r\n            return self.wsonmessage(event);\r\n        };\r\n\r\n        return $q.promise;\r\n    };\r\n\r\n    /**\r\n    * Closes web socket connection and cleans up all event listeners\r\n    */\r\n    WebChannelClientImpl.prototype.wsdisconnect = function() {\r\n        var self = this;\r\n        var $q = utils.Deferred();\r\n\r\n        if (!this.webSocket || this.webSocket.readyState !== WebSocket.OPEN) {\r\n            $q.resolve();\r\n        } else {\r\n            this.webSocket.onclose = function(event) {\r\n                self.wsonclose(false);\r\n                $q.resolve();\r\n            };\r\n            this.webSocket.close();\r\n        }\r\n\r\n        return $q.promise;\r\n    };\r\n\r\n    WebChannelClientImpl.prototype.wsonclose = function(isFailed) {\r\n        core.log(\"WebChannelClientImpl: connection closed\");\r\n\r\n        this.webSocket.onclose = null;\r\n        this.webSocket.onopen = null;\r\n        this.webSocket.onmessage = null;\r\n        this.webSocket.onerror = null;\r\n\r\n        this.deactivateBufferCheck();\r\n\r\n        if (isFailed) {\r\n            this.fireConnectionFailed();\r\n        }\r\n    };\r\n\r\n    WebChannelClientImpl.prototype.wsonmessage = function(event) {\r\n        var self = this;\r\n        cipher.decode(this.sessionKey, this.M1, event.data).then(function (data) {\r\n            if (typeof data === 'string') {\r\n                if (self.onDataReceivedTxt) {\r\n                    self.onDataReceivedTxt(data);\r\n                }\r\n            } else {\r\n                if (self.onDataReceivedBin) {\r\n                    self.onDataReceivedBin(data);\r\n                }\r\n            }\r\n        });\r\n    };\r\n\r\n    /**\r\n    * Sends data over web socket\r\n    */\r\n    WebChannelClientImpl.prototype.wssend = function(data) {\r\n        if (!this.isConnected())\r\n            return false;\r\n\r\n        if (this.webSocket.bufferedAmount >= this.wsThreshold) {\r\n            this.activateBufferCheck();\r\n            return false;\r\n        }\r\n\r\n        this.webSocket.send(data);\r\n        return true;\r\n    };\r\n\r\n    WebChannelClientImpl.prototype.generateSessionKey = function(callback) {\r\n        var srpData = configurator.srp;\r\n        if (!srpData.p1 || !srpData.p2 || !srpData.salt)\r\n            return callback(new Error(\"No data available for authentication\"));\r\n\r\n        var self = this;\r\n\r\n        var srp = new SRPClient(srpData.p1, srpData.p2);\r\n        var a;\r\n        do {\r\n            a = srp.srpRandom();\r\n        } while (!srp.canCalculateA(a));\r\n\r\n        var A = srp.calculateA(a);\r\n\r\n        if (core.WebSdk.version >= core.WebSdkEncryptionSupport.AESEncryption && !cipher.isCryptoSupported())\r\n            core.WebSdk.version = core.WebSdkEncryptionSupport.Encryption; // if AES encryption is not supported by Browser, set data encryption to old one.\r\n\r\n        utils.ajax('post', configurator.url + '/connect', {\r\n            username: srpData.p1,\r\n            A: srp.toHexString(A),\r\n            version: core.WebSdk.version.toString()\r\n        }).then(function (response) {\r\n\r\n            if (response.version === undefined) // old client\r\n                core.WebSdk.version = Math.min(core.WebSdk.version, core.WebSdkEncryptionSupport.Encryption);\r\n            else core.WebSdk.version = response.version;\r\n\r\n            var B = new BigInteger(response.B, 16),\r\n                u = srp.calculateU(A, B),\r\n                S = srp.calculateS(B, srpData.salt, u, a),\r\n                K = srp.calculateK(S),\r\n                M1 = srp.calculateM(A, B, K, srpData.salt);\r\n\r\n            // we will use SHA256 from K as AES 256bit session key\r\n            self.sessionKey = cipher.hexToBytes(sjcl.codec.hex.fromBits(sjcl.hash.sha256.hash(sjcl.codec.hex.toBits(K))));\r\n            self.M1 = M1;\r\n\r\n            callback(null, M1);\r\n        }).catch(callback);\r\n    }\r\n\r\n    /**\r\n    * Sets up connection with parameters from configurator (generates session key and connects to websocket server).\r\n    */\r\n    WebChannelClientImpl.prototype.setupSecureChannel = function(callback) {\r\n        core.log('WebChannelClientImpl.setupSecureChannel');\r\n\r\n        var self = this;\r\n        async.waterfall([\r\n            function(callback) {\r\n                self.generateSessionKey(callback);\r\n            },\r\n            function(sessionKey, callback) {\r\n               // self.sessionKey = sessionKey;\r\n\r\n                var connectionUrl = configurator.url.replace('http', 'ws') +\r\n                    '/' + self.clientPath +\r\n                    '?username=' + configurator.srp.p1 +\r\n                    '&M1=' + self.M1;\r\n\r\n                //adding sessionId to url\r\n                if (!configurator.sessionId) {\r\n                    configurator.sessionId = sjcl.codec.hex.fromBits(sjcl.random.randomWords(2, 0));\r\n                }\r\n                connectionUrl += \"&sessionId=\" + configurator.sessionId;\r\n\r\n                //adding version to url\r\n                connectionUrl += \"&version=\" + core.WebSdk.version.toString();\r\n\r\n                self.wsconnect(connectionUrl)\r\n                    .then(function() {\r\n                        callback(null);\r\n                    })\r\n                    .catch(function(err) {\r\n                        core.log(err);\r\n                        callback(err);\r\n                    });\r\n            }\r\n        ], callback);\r\n    };\r\n\r\n    /**\r\n    * @result {boolean} True if web socket is ready for transferring data\r\n    */\r\n    WebChannelClientImpl.prototype.isConnected = function() {\r\n        return !!this.webSocket && this.webSocket.readyState === WebSocket.OPEN;\r\n    };\r\n\r\n    /**\r\n    * Sends message if channel is ready\r\n    * Otherwise, adds message to the queue.\r\n    */\r\n    WebChannelClientImpl.prototype.sendData = function(data) {\r\n        if (!this.wssend(data)) {\r\n            this.queue.push(data);\r\n        }\r\n    };\r\n    WebChannelClientImpl.prototype.deactivateBufferCheck = function() {\r\n        if (!this.queueInterval) return;\r\n\r\n        clearInterval(this.queueInterval);\r\n        this.queueInterval = null;\r\n    };\r\n\r\n    WebChannelClientImpl.prototype.activateBufferCheck = function() {\r\n        if (this.queueInterval) return;\r\n\r\n        var self = this;\r\n        this.queueInterval = setInterval(function() {\r\n            self.processMessageQueue();\r\n\r\n            if (self.queue.length === 0) {\r\n                self.deactivateBufferCheck();\r\n            }\r\n        }, this.wsQueueInterval);\r\n    }\r\n\r\n    /**\r\n    * Sends messages from a queue if any. Initiates secure connection if needed and has not been yet initiated.\r\n    */\r\n    WebChannelClientImpl.prototype.processMessageQueue = function() {\r\n        core.log(\"WebChannelClientImpl: processMessageQueue \" + this.queue.length);\r\n        if (this.queue.length === 0)\r\n            return;\r\n\r\n        for (var i = 0; i < this.queue.length;) {\r\n            if (!this.wssend(this.queue.items[i])) break;\r\n            this.queue.splice(i, 1);\r\n        }\r\n    };\r\n\r\n    WebChannelClientImpl.prototype.connectInternal = function(multipleAttempts) {\r\n        core.log('WebChannelClientImpl.connectInternal');\r\n\r\n        this.resetReconnectTimer();\r\n\r\n        var self = this;\r\n        async.waterfall([\r\n            function(callback) {\r\n                configurator.ensureLoaded(callback);\r\n            },\r\n            function(callback) {\r\n                async.retry(multipleAttempts ? 3 : 1, function() {\r\n                    self.setupSecureChannel(callback);\r\n                }, callback);\r\n            }\r\n        ], function(err) {\r\n            if (err) return self.fireConnectionFailed();\r\n\r\n            self.fireConnectionSucceed();\r\n            self.processMessageQueue();\r\n        });\r\n    };\r\n\r\n    WebChannelClientImpl.prototype.connect = function() {\r\n        this.connectInternal(true);\r\n    };\r\n\r\n    WebChannelClientImpl.prototype.disconnect = function() {\r\n        this.wsdisconnect();\r\n    };\r\n\r\n    WebChannelClientImpl.prototype.sendDataBin = function (data) {\r\n        var self = this;\r\n        cipher.encode(this.sessionKey, this.M1, data).then(function (data) {\r\n            self.sendData(data);\r\n        });\r\n    };\r\n\r\n    WebChannelClientImpl.prototype.sendDataTxt = function(data) {\r\n        var self = this;\r\n        cipher.encode(this.sessionKey, this.M1, data).then(function (data) {\r\n            self.sendData(data);\r\n        });\r\n    };\r\n\r\n    return WebChannelClientImpl;\r\n});\r\n\r\n; (function (factory) {\r\n\t'use strict';\r\n\r\n\tif (typeof define === 'function' && define.amd) {\r\n\t\tdefine('WebSdkCore.channelClient', [\r\n            'WebSdkCore',\r\n            'WebSdkCore.channelOptions',\r\n            'WebSdkCore.channelClientImplementation'\r\n\t\t], factory);\r\n\t} else {\r\n\t\tvar core = window.WebSdkCore;\r\n\t\tif (!core)\r\n\t\t\tthrow new Error(\"WebSdkCore is not loaded.\");\r\n\r\n\t\twindow.WebSdkCore.channelClient = factory(core, core.channelOptions, core.channelClientImplementation);\r\n    }\r\n})(function (core, WebChannelOptions, WebChannelClientImpl) {\r\n\r\n    function WebChannelClient(clientPath, options) {\r\n        if (options) {\r\n            core.log(options);\r\n\r\n            var webChannelOptions = new WebChannelOptions(options);\r\n\r\n            core.WebSdk.debug = webChannelOptions.debug;\r\n            core.WebSdk.version = webChannelOptions.version;\r\n        }\r\n\r\n        var client = new WebChannelClientImpl(clientPath);\r\n\r\n        Object.defineProperties(this, {\r\n            \"path\": {\r\n                get: function () { return clientPath; },\r\n                enumerable: true\r\n            },\r\n            \"onConnectionFailed\": {\r\n                get: function () { return client.onConnectionFailed; },\r\n                set: function (value) { client.onConnectionFailed = value; },\r\n                enumerable: true\r\n            },\r\n            \"onConnectionSucceed\": {\r\n                get: function () { return client.onConnectionSucceed; },\r\n                set: function (value) { client.onConnectionSucceed = value; },\r\n                enumerable: true\r\n            },\r\n            \"onDataReceivedBin\": {\r\n                get: function () { return client.onDataReceivedBin; },\r\n                set: function (value) { client.onDataReceivedBin = value; },\r\n                enumerable: true\r\n            },\r\n            \"onDataReceivedTxt\": {\r\n                get: function () { return client.onDataReceivedTxt; },\r\n                set: function (value) { client.onDataReceivedTxt = value; },\r\n                enumerable: true\r\n            }\r\n        });\r\n\r\n        this.connect = function () {\r\n            client.connect();\r\n        }\r\n\r\n        this.disconnect = function () {\r\n            client.disconnect();\r\n        }\r\n\r\n        this.isConnected = function () {\r\n            return client.isConnected();\r\n        }\r\n\r\n        this.sendDataBin = function (data) {\r\n            client.sendDataBin(data);\r\n        }\r\n\r\n        this.sendDataTxt = function (data) {\r\n            client.sendDataTxt(data);\r\n        }\r\n\r\n        this.resetReconnectTimer = function () {\r\n            client.resetReconnectTimer();\r\n        }\r\n    }\r\n\r\n    return WebChannelClient;\r\n});\r\n\r\n; (function (factory) {\r\n    'use strict';\r\n\r\n    if (typeof define === 'function' && define.amd) {\r\n        define('WebSdk', [\r\n            'WebSdkCore',\r\n            'WebSdkCore.channelOptions',\r\n            'WebSdkCore.channelClient'\r\n        ], factory);\r\n    } else {\r\n        var core = window.WebSdkCore;\r\n        if (!core)\r\n            throw new Error(\"WebSdkCore is not loaded.\");\r\n\r\n        window.WebSdk = factory(core, core.channelOptions, core.channelClient);\r\n    }\r\n})(function (core, WebChannelOptions, WebChannelClient) {\r\n    core.log('loaded websdk.client');\r\n\r\n    return {\r\n        WebChannelOptions: WebChannelOptions,\r\n        WebChannelClient: WebChannelClient\r\n    };\r\n});","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}