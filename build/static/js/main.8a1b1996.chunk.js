(this["webpackJsonpsample-react-dp"]=this["webpackJsonpsample-react-dp"]||[]).push([[0],{123:function(t,e,n){"use strict";(function(t){var r=n(8),i=n.n(r),o=n(15),s=n(14),a=(n(133),n(10)),c=(n(33),n(134),n(67),n(64)),u=(n(236),n(239)),h=n(124),f=n(65),l=n(4);e.a=function(){var e=window.faceSDK,n=new c.FingerprintReader,r=Object(a.useState)(!1),p=Object(s.a)(r,2),d=p[0],m=p[1],y=Object(a.useState)("dinesh@dpdemo.com"),E=Object(s.a)(y,2),v=E[0],C=E[1],A=Object(a.useState)(""),B=Object(s.a)(A,2),g=(B[0],B[1]),D=Object(a.useState)(""),F=Object(s.a)(D,2),b=F[0],w=F[1],_=Object(a.useRef)(null),S=Object(a.useRef)(null),T=Object(a.useRef)(null);Object(a.useEffect)((function(){W(),g(!0)}),[]);var x=_.current,k=S.current,O=T.current;function R(e){return function(t){return(t=(t=t.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}(t.from(JSON.stringify(e)).toString("base64"))}Object(a.useEffect)((function(){}),[]);var I=function(t){var e=[];t.forEach((function(t){var n={Version:1,Header:{Factor:2,Format:{FormatOwner:0,FormatID:0},Type:1,Purpose:1,Quality:-1,Encryption:0},Data:R({Version:1,ImageType:1,ImageData:t.replace("data:image/jpeg;base64,","")})};e.push(n)})),j(v,JSON.stringify(e))},j=function(t,e){M(t,R(e))},M=function(t,e,n){console.log(e)},N=function(t){console.log(t)},P=function(t){console.log(t)},L=function(){var t=Object(o.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.init(O,{video:!0},x,k,1,I,N,P);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),W=function(){var t=Object(o.a)(i.a.mark((function t(){var e,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.enumerateDevices();case 3:return e=t.sent,console.log(e,"devices"),t.next=7,n.getDeviceInfo(e[0]);case 7:r=t.sent,console.log(r),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(){return t.apply(this,arguments)}}();function U(t,e,n){var r="";if(n){var i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3),r="; expires="+i.toUTCString()}document.cookie=t+"="+(e||"")+r+"; path=/"}var q=function(){var e=Object(o.a)(i.a.mark((function e(n){var r,o,s,a,c,f;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(JSON.stringify(n),"Asdsa"),r=t.from(JSON.stringify(n)).toString("base64"),console.log(r),e.next=6,u.a.post("https://".concat("sdk.techinoviq.com","/DPWebAuth/DPWebAuthService.svc/AuthenticateUser"),{user:{name:v,type:6},credential:{id:"AC184A13-60AB-40e5-A514-E10F777EC2F9",data:r}});case 6:o=e.sent,s=o.data.AuthenticateUserResult.jwt,a=Object(h.a)(s),console.log(a),U("credentials",v),window.location.replace("http://localhost:9089/BrowserWeb/servlet/BrowserServlet"),console.log("fingerprint acquired"),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),"Request failed with status code 404"==(null===e.t0||void 0===e.t0?void 0:e.t0.message)&&(console.log(null===e.t0||void 0===e.t0||null===(c=e.t0.response)||void 0===c?void 0:c.data,"asdsa"),w(null===e.t0||void 0===e.t0||null===(f=e.t0.response)||void 0===f?void 0:f.data),V()),console.log(e.t0,"error");case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}();n.onDeviceDisconnected=function(){var t=Object(o.a)(i.a.mark((function t(e){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,H();case 2:console.log("device is diconnected");case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),n.onSamplesAcquired=function(){var t=Object(o.a)(i.a.mark((function t(e){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:w(""),console.log("sampler equried"),n.stopAcquisition(),m(!1),q(e.samples);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();var H=function(){var t=Object(o.a)(i.a.mark((function t(){var e;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.enumerateDevices();case 3:e=t.sent,g({readerConnected:e.length>0}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),g({readerConnected:!1});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),V=function(){var t=Object(o.a)(i.a.mark((function t(){var e;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""==v){t.next=15;break}return console.log("start scan"),m(!0),t.prev=3,t.next=6,n.startAcquisition(c.SampleFormat.Intermediate);case 6:e=t.sent,console.log(e,"Res"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),console.log(t.t0);case 13:t.next=16;break;case 15:w("Please type username");case 16:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(){return t.apply(this,arguments)}}();return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)("button",{className:"primary btn",style:{width:"200px",margin:"0 auto",marginBottom:"30px"},onClick:function(){return V()},type:"button",children:"Capture Fingerprint"}),Object(l.jsx)("button",{className:"primary btn",style:{width:"200px",margin:"0 auto",marginBottom:"30px"},onClick:function(){return e.stopVideo()},type:"button",children:"Stop Face"}),Object(l.jsx)("button",{className:"primary btn",style:{width:"200px",margin:"0 auto",marginBottom:"30px"},onClick:function(){return L()},type:"button",children:"Capture FAce"}),Object(l.jsx)("input",{type:"text",value:v,onChange:function(t){return C(t.target.value)}}),Object(l.jsxs)(l.Fragment,{children:[d?Object(l.jsx)("p",{children:"Please scan your fingeprint"}):Object(l.jsx)(l.Fragment,{}),b?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h3",{children:"Error"}),Object(l.jsx)("p",{children:"Description:"}),Object(l.jsx)("p",{children:b.description}),Object(l.jsx)("p",{children:"Error code:"}),Object(l.jsx)("p",{children:b.error_code})]}):Object(l.jsx)("p",{})]}),Object(l.jsx)(f.a,{canvasRef:S}),Object(l.jsx)(f.a,{canvasRef:_,style:{display:"none"}}),Object(l.jsx)("video",{width:"640",height:"480",ref:T,autoPlay:!0,style:{display:"none"}})]})}}).call(this,n(6).Buffer)},129:function(t,e,n){},133:function(t,e,n){"use strict";n.p},143:function(t,e,n){(function(r,o,s){var c,u,h,f,l,p,d,m,y,E,v,C,A,B,g,D,F,b;!function(){var e,i={};function a(){}function h(t){return t}function f(t){return!!t}function l(t){return!t}var p="object"===typeof self&&self===self&&self||"object"===typeof r&&r.global===r&&r||this;function d(t){return function(){if(null===t)throw new Error("Callback was already called.");t.apply(this,arguments),t=null}}function m(t){return function(){null!==t&&(t.apply(this,arguments),t=null)}}null!=p&&(e=p.async),i.noConflict=function(){return p.async=e,i};var y=Object.prototype.toString,E=Array.isArray||function(t){return"[object Array]"===y.call(t)};function v(t){return E(t)||"number"===typeof t.length&&t.length>=0&&t.length%1===0}function C(t,e){for(var n=-1,r=t.length;++n<r;)e(t[n],n,t)}function A(t,e){for(var n=-1,r=t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function B(t){return A(Array(t),(function(t,e){return e}))}function g(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}var D=Object.keys||function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e};function F(t){var e,n,r=-1;return v(t)?(e=t.length,function(){return++r<e?r:null}):(n=D(t),e=n.length,function(){return++r<e?n[r]:null})}function b(t,e){return e=null==e?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+e];switch(e){case 0:return t.call(this,r);case 1:return t.call(this,arguments[0],r)}}}function w(t){return function(e,n,r){return t(e,r)}}var _="function"===typeof o&&o,S=_?function(t){_(t)}:function(t){setTimeout((function(){t()}),0)};function T(t){return function(e,n,r){r=m(r||a);var i=F(e=e||[]);if(t<=0)return r(null);var o=!1,s=0,c=!1;!function a(){if(o&&s<=0)return r(null);for(;s<t&&!c;){var u=i();if(null===u)return o=!0,void(s<=0&&r(null));s+=1,n(e[u],u,d((function(t){s-=1,t?(r(t),c=!0):a()})))}}()}}function x(t){return function(e,n,r){return t(i.eachOf,e,n,r)}}function k(t){return function(e,n,r,i){return t(T(n),e,r,i)}}function O(t){return function(e,n,r){return t(i.eachOfSeries,e,n,r)}}function R(t,e,n,r){r=m(r||a);var i=v(e=e||[])?[]:{};t(e,(function(t,e,r){n(t,(function(t,n){i[e]=n,r(t)}))}),(function(t){r(t,i)}))}function I(t,e,n,r){var i=[];t(e,(function(t,e,r){n(t,(function(n){n&&i.push({index:e,value:t}),r()}))}),(function(){r(A(i.sort((function(t,e){return t.index-e.index})),(function(t){return t.value})))}))}function j(t,e,n,r){I(t,e,(function(t,e){n(t,(function(t){e(!t)}))}),r)}function M(t,e,n){return function(r,i,o,s){function a(){s&&s(n(!1,void 0))}function c(t,r,i){if(!s)return i();o(t,(function(r){s&&e(r)&&(s(n(!0,t)),s=o=!1),i()}))}arguments.length>3?t(r,i,c,a):(s=o,o=i,t(r,c,a))}}function N(t,e){return e}function P(t,e,n){n=n||a;var r=v(e)?[]:{};t(e,(function(t,e,n){t(b((function(t,i){i.length<=1&&(i=i[0]),r[e]=i,n(t)})))}),(function(t){n(t,r)}))}function L(t,e,n,r){var i=[];t(e,(function(t,e,r){n(t,(function(t,e){i=i.concat(e||[]),r(t)}))}),(function(t){r(t,i)}))}function W(t,e,n){if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");function r(t,e,n,r){if(null!=r&&"function"!==typeof r)throw new Error("task callback must be a function");if(t.started=!0,E(e)||(e=[e]),0===e.length&&t.idle())return i.setImmediate((function(){t.drain()}));C(e,(function(e){var i={data:e,callback:r||a};n?t.tasks.unshift(i):t.tasks.push(i),t.tasks.length===t.concurrency&&t.saturated()})),i.setImmediate(t.process)}function o(t,e){return function(){s-=1;var n=!1,r=arguments;C(e,(function(t){C(c,(function(e,r){e!==t||n||(c.splice(r,1),n=!0)})),t.callback.apply(t,r)})),t.tasks.length+s===0&&t.drain(),t.process()}}var s=0,c=[],u={tasks:[],concurrency:e,payload:n,saturated:a,empty:a,drain:a,started:!1,paused:!1,push:function(t,e){r(u,t,!1,e)},kill:function(){u.drain=a,u.tasks=[]},unshift:function(t,e){r(u,t,!0,e)},process:function(){if(!u.paused&&s<u.concurrency&&u.tasks.length)for(;s<u.concurrency&&u.tasks.length;){var e=u.payload?u.tasks.splice(0,u.payload):u.tasks.splice(0,u.tasks.length),n=A(e,(function(t){return t.data}));0===u.tasks.length&&u.empty(),s+=1,c.push(e[0]);var r=d(o(u,e));t(n,r)}},length:function(){return u.tasks.length},running:function(){return s},workersList:function(){return c},idle:function(){return u.tasks.length+s===0},pause:function(){u.paused=!0},resume:function(){if(!1!==u.paused){u.paused=!1;for(var t=Math.min(u.concurrency,u.tasks.length),e=1;e<=t;e++)i.setImmediate(u.process)}}};return u}function U(t){return b((function(e,n){e.apply(null,n.concat([b((function(e,n){"object"===typeof console&&(e?console.error&&console.error(e):console[t]&&C(n,(function(e){console[t](e)})))}))]))}))}function q(t){return function(e,n,r){t(B(e),n,r)}}function H(t){return b((function(e,n){var r=b((function(n){var r=this,i=n.pop();return t(e,(function(t,e,i){t.apply(r,n.concat([i]))}),i)}));return n.length?r.apply(this,n):r}))}function V(t){return b((function(e){var n=e.pop();e.push((function(){var t=arguments;r?i.setImmediate((function(){n.apply(null,t)})):n.apply(null,t)}));var r=!0;t.apply(this,e),r=!1}))}"object"===typeof s&&"function"===typeof s.nextTick?i.nextTick=s.nextTick:i.nextTick=S,i.setImmediate=_?S:i.nextTick,i.forEach=i.each=function(t,e,n){return i.eachOf(t,w(e),n)},i.forEachSeries=i.eachSeries=function(t,e,n){return i.eachOfSeries(t,w(e),n)},i.forEachLimit=i.eachLimit=function(t,e,n,r){return T(e)(t,w(n),r)},i.forEachOf=i.eachOf=function(t,e,n){n=m(n||a);for(var r,i=F(t=t||[]),o=0;null!=(r=i());)o+=1,e(t[r],r,d(s));function s(t){o--,t?n(t):null===r&&o<=0&&n(null)}0===o&&n(null)},i.forEachOfSeries=i.eachOfSeries=function(t,e,n){n=m(n||a);var r=F(t=t||[]),o=r();!function s(){var a=!0;if(null===o)return n(null);e(t[o],o,d((function(t){if(t)n(t);else{if(null===(o=r()))return n(null);a?i.setImmediate(s):s()}}))),a=!1}()},i.forEachOfLimit=i.eachOfLimit=function(t,e,n,r){T(e)(t,n,r)},i.map=x(R),i.mapSeries=O(R),i.mapLimit=k(R),i.inject=i.foldl=i.reduce=function(t,e,n,r){i.eachOfSeries(t,(function(t,r,i){n(e,t,(function(t,n){e=n,i(t)}))}),(function(t){r(t,e)}))},i.foldr=i.reduceRight=function(t,e,n,r){var o=A(t,h).reverse();i.reduce(o,e,n,r)},i.transform=function(t,e,n,r){3===arguments.length&&(r=n,n=e,e=E(t)?[]:{}),i.eachOf(t,(function(t,r,i){n(e,t,r,i)}),(function(t){r(t,e)}))},i.select=i.filter=x(I),i.selectLimit=i.filterLimit=k(I),i.selectSeries=i.filterSeries=O(I),i.reject=x(j),i.rejectLimit=k(j),i.rejectSeries=O(j),i.any=i.some=M(i.eachOf,f,h),i.someLimit=M(i.eachOfLimit,f,h),i.all=i.every=M(i.eachOf,l,l),i.everyLimit=M(i.eachOfLimit,l,l),i.detect=M(i.eachOf,h,N),i.detectSeries=M(i.eachOfSeries,h,N),i.detectLimit=M(i.eachOfLimit,h,N),i.sortBy=function(t,e,n){function r(t,e){var n=t.criteria,r=e.criteria;return n<r?-1:n>r?1:0}i.map(t,(function(t,n){e(t,(function(e,r){e?n(e):n(null,{value:t,criteria:r})}))}),(function(t,e){if(t)return n(t);n(null,A(e.sort(r),(function(t){return t.value})))}))},i.auto=function(t,e,n){n||(n=e,e=null),n=m(n||a);var r=D(t),o=r.length;if(!o)return n(null);e||(e=o);var s={},c=0,u=[];function h(t){u.unshift(t)}function f(){o--,C(u.slice(0),(function(t){t()}))}h((function(){o||n(null,s)})),C(r,(function(r){for(var o,a=E(t[r])?t[r]:[t[r]],l=b((function(t,e){if(c--,e.length<=1&&(e=e[0]),t){var o={};u=function(t,e){o[e]=t},C(D(a=s),(function(t){u(a[t],t)})),o[r]=e,n(t,o)}else s[r]=e,i.setImmediate(f);var a,u})),p=a.slice(0,a.length-1),d=p.length;d--;){if(!(o=t[p[d]]))throw new Error("Has inexistant dependency");if(E(o)&&g(o,r)>=0)throw new Error("Has cyclic dependencies")}function m(){return c<e&&(t=function(t,e){return t&&s.hasOwnProperty(e)},n=!0,C(p,(function(e,r,i){n=t(n,e,r,i)})),n)&&!s.hasOwnProperty(r);var t,n}m()?(c++,a[a.length-1](l,s)):h((function t(){m()&&(c++,function(t){var e=g(u,t);e>=0&&u.splice(e,1)}(t),a[a.length-1](l,s))}))}))},i.retry=function(t,e,n){var r=5,o=0,s=[],a={times:r,interval:o};function c(t,e){if("number"===typeof e)t.times=parseInt(e,10)||r;else{if("object"!==typeof e)throw new Error("Unsupported argument type for 'times': "+typeof e);t.times=parseInt(e.times,10)||r,t.interval=parseInt(e.interval,10)||o}}var u=arguments.length;if(u<1||u>3)throw new Error("Invalid arguments - must be either (task), (task, callback), (times, task) or (times, task, callback)");function h(t,e){function n(t,n){return function(r){t((function(t,e){r(!t||n,{err:t,result:e})}),e)}}function r(t){return function(e){setTimeout((function(){e(null)}),t)}}for(;a.times;){var o=!(a.times-=1);s.push(n(a.task,o)),!o&&a.interval>0&&s.push(r(a.interval))}i.series(s,(function(e,n){n=n[n.length-1],(t||a.callback)(n.err,n.result)}))}return u<=2&&"function"===typeof t&&(n=e,e=t),"function"!==typeof t&&c(a,t),a.callback=n,a.task=e,a.callback?h():h},i.waterfall=function(t,e){if(e=m(e||a),!E(t)){var n=new Error("First argument to waterfall must be an array of functions");return e(n)}if(!t.length)return e();!function t(n){return b((function(r,i){if(r)e.apply(null,[r].concat(i));else{var o=n.next();o?i.push(t(o)):i.push(e),V(n).apply(null,i)}}))}(i.iterator(t))()},i.parallel=function(t,e){P(i.eachOf,t,e)},i.parallelLimit=function(t,e,n){P(T(e),t,n)},i.series=function(t,e){P(i.eachOfSeries,t,e)},i.iterator=function(t){return function e(n){function r(){return t.length&&t[n].apply(null,arguments),r.next()}return r.next=function(){return n<t.length-1?e(n+1):null},r}(0)},i.apply=b((function(t,e){return b((function(n){return t.apply(null,e.concat(n))}))})),i.concat=x(L),i.concatSeries=O(L),i.whilst=function(t,e,n){if(n=n||a,t()){var r=b((function(i,o){i?n(i):t.apply(this,o)?e(r):n(null)}));e(r)}else n(null)},i.doWhilst=function(t,e,n){var r=0;return i.whilst((function(){return++r<=1||e.apply(this,arguments)}),t,n)},i.until=function(t,e,n){return i.whilst((function(){return!t.apply(this,arguments)}),e,n)},i.doUntil=function(t,e,n){return i.doWhilst(t,(function(){return!e.apply(this,arguments)}),n)},i.during=function(t,e,n){n=n||a;var r=b((function(e,r){e?n(e):(r.push(i),t.apply(this,r))})),i=function(t,i){t?n(t):i?e(r):n(null)};t(i)},i.doDuring=function(t,e,n){var r=0;i.during((function(t){r++<1?t(null,!0):e.apply(this,arguments)}),t,n)},i.queue=function(t,e){return W((function(e,n){t(e[0],n)}),e,1)},i.priorityQueue=function(t,e){function n(t,e){return t.priority-e.priority}var r=i.queue(t,e);return r.push=function(t,e,o){!function(t,e,r,o){if(null!=o&&"function"!==typeof o)throw new Error("task callback must be a function");if(t.started=!0,E(e)||(e=[e]),0===e.length)return i.setImmediate((function(){t.drain()}));C(e,(function(e){var s={data:e,priority:r,callback:"function"===typeof o?o:a};t.tasks.splice(function(t,e,n){for(var r=-1,i=t.length-1;r<i;){var o=r+(i-r+1>>>1);n(e,t[o])>=0?r=o:i=o-1}return r}(t.tasks,s,n)+1,0,s),t.tasks.length===t.concurrency&&t.saturated(),i.setImmediate(t.process)}))}(r,t,e,o)},delete r.unshift,r},i.cargo=function(t,e){return W(t,1,e)},i.log=U("log"),i.dir=U("dir"),i.memoize=function(t,e){var n={},r={};e=e||h;var o=b((function(o){var s=o.pop(),a=e.apply(null,o);a in n?i.setImmediate((function(){s.apply(null,n[a])})):a in r?r[a].push(s):(r[a]=[s],t.apply(null,o.concat([b((function(t){n[a]=t;var e=r[a];delete r[a];for(var i=0,o=e.length;i<o;i++)e[i].apply(null,t)}))])))}));return o.memo=n,o.unmemoized=t,o},i.unmemoize=function(t){return function(){return(t.unmemoized||t).apply(null,arguments)}},i.times=q(i.map),i.timesSeries=q(i.mapSeries),i.timesLimit=function(t,e,n,r){return i.mapLimit(B(t),e,n,r)},i.seq=function(){var t=arguments;return b((function(e){var n=this,r=e[e.length-1];"function"==typeof r?e.pop():r=a,i.reduce(t,e,(function(t,e,r){e.apply(n,t.concat([b((function(t,e){r(t,e)}))]))}),(function(t,e){r.apply(n,[t].concat(e))}))}))},i.compose=function(){return i.seq.apply(null,Array.prototype.reverse.call(arguments))},i.applyEach=H(i.eachOf),i.applyEachSeries=H(i.eachOfSeries),i.forever=function(t,e){var n=d(e||a),r=V(t);!function t(e){if(e)return n(e);r(t)}()},i.ensureAsync=V,i.constant=b((function(t){var e=[null].concat(t);return function(t){return t.apply(this,e)}})),i.wrapSync=i.asyncify=function(t){return b((function(e){var n,r=e.pop();try{n=t.apply(this,e)}catch(i){return r(i)}!function(t){var e=typeof t;return"function"===e||"object"===e&&!!t}(n)||"function"!==typeof n.then?r(null,n):n.then((function(t){r(null,t)})).catch((function(t){r(t.message?t:new Error(t))}))}))},t.exports?t.exports=i:(c=function(){return i}.call((u={id:"async",exports:{},loaded:!1}).exports,n,u.exports,u),u.loaded=!0,void 0!==c||(c=u.exports))}(),function(t){"use strict";F=[],h="function"===typeof(D=function(){return function(){var t="0123456789abcdef";function e(e){for(var n="",r=7;r>=0;r--)n+=t.charAt(e>>4*r&15);return n}function n(t){for(var e=1+(t.length+8>>6),n=new Array(16*e),r=0;r<16*e;r++)n[r]=0;for(r=0;r<t.length;r++)n[r>>2]|=t.charCodeAt(r)<<24-r%4*8;return n[r>>2]|=128<<24-r%4*8,n[16*e-1]=8*t.length,n}function r(t){for(var e=t.length+1>>1,n=1+(e+8>>6),r=new Array(16*n),i=0;i<16*n;i++)r[i]=0;for(i=0;i<e;i++)r[i>>2]|=parseInt(t.substr(2*i,2),16)<<24-i%4*8;return r[i>>2]|=128<<24-i%4*8,r[16*n-1]=8*e,r}function i(t,e,n){for(var r=1+(n+8>>6),i=new Array(16*r),o=0;o<16*r;o++)i[o]=0;for(o=0;o<n;o++)i[o>>2]|=(255&t[e+o])<<24-o%4*8;return i[o>>2]|=128<<24-o%4*8,i[16*r-1]=8*n,i}function o(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function s(t,e){return t<<e|t>>>32-e}function a(t,e,n,r){return t<20?e&n|~e&r:t<40?e^n^r:t<60?e&n|e&r|n&r:e^n^r}function c(t){return t<20?1518500249:t<40?1859775393:t<60?-1894007588:-899497514}function u(t){return p(n(t))}function h(t){return p(r(t))}function f(t){return p(i(t,0,t.length))}function l(t,e,n){return p(i(t,e,n))}function p(t){var n=d(t);return e(n[0])+e(n[1])+e(n[2])+e(n[3])+e(n[4])}function d(t){for(var e=new Array(80),n=1732584193,r=-271733879,i=-1732584194,u=271733878,h=-1009589776,f=0;f<t.length;f+=16){for(var l=n,p=r,d=i,m=u,y=h,E=0;E<80;E++){var v;e[E]=E<16?t[f+E]:s(e[E-3]^e[E-8]^e[E-14]^e[E-16],1),v=o(o(s(n,5),a(E,r,i,u)),o(o(h,e[E]),c(E))),h=u,u=i,i=s(r,30),r=n,n=v}n=o(n,l),r=o(r,p),i=o(i,d),u=o(u,m),h=o(h,y)}return new Array(n,r,i,u,h)}return{calcSHA1:u,calcSHA1Hex:h,calcSHA1BA:f,calcSHA1BAEx:l}}()})?D.apply(e,F):D}(),function(r){"use strict";F=[],f="function"===typeof(D=function(){var e={cipher:{},hash:{},keyexchange:{},mode:{},misc:{},codec:{},exception:{corrupt:function(t){this.toString=function(){return"CORRUPT: "+this.message},this.message=t},invalid:function(t){this.toString=function(){return"INVALID: "+this.message},this.message=t},bug:function(t){this.toString=function(){return"BUG: "+this.message},this.message=t},notReady:function(t){this.toString=function(){return"NOT READY: "+this.message},this.message=t}}};return e.bitArray={bitSlice:function(t,n,r){return t=e.bitArray._shiftRight(t.slice(n/32),32-(31&n)).slice(1),void 0===r?t:e.bitArray.clamp(t,r-n)},extract:function(t,e,n){var r=Math.floor(-e-n&31);return(-32&(e+n-1^e)?t[e/32|0]<<32-r^t[e/32+1|0]>>>r:t[e/32|0]>>>r)&(1<<n)-1},concat:function(t,n){if(0===t.length||0===n.length)return t.concat(n);var r=t[t.length-1],i=e.bitArray.getPartial(r);return 32===i?t.concat(n):e.bitArray._shiftRight(n,i,0|r,t.slice(0,t.length-1))},bitLength:function(t){var n,r=t.length;return 0===r?0:(n=t[r-1],32*(r-1)+e.bitArray.getPartial(n))},clamp:function(t,n){if(32*t.length<n)return t;var r=(t=t.slice(0,Math.ceil(n/32))).length;return n&=31,r>0&&n&&(t[r-1]=e.bitArray.partial(n,t[r-1]&2147483648>>n-1,1)),t},partial:function(t,e,n){return 32===t?e:(n?0|e:e<<32-t)+1099511627776*t},getPartial:function(t){return Math.round(t/1099511627776)||32},equal:function(t,n){if(e.bitArray.bitLength(t)!==e.bitArray.bitLength(n))return!1;var r,i=0;for(r=0;r<t.length;r++)i|=t[r]^n[r];return 0===i},_shiftRight:function(t,n,r,i){var o,s,a=0;for(void 0===i&&(i=[]);n>=32;n-=32)i.push(r),r=0;if(0===n)return i.concat(t);for(o=0;o<t.length;o++)i.push(r|t[o]>>>n),r=t[o]<<32-n;return a=t.length?t[t.length-1]:0,s=e.bitArray.getPartial(a),i.push(e.bitArray.partial(n+s&31,n+s>32?r:i.pop(),1)),i},_xor4:function(t,e){return[t[0]^e[0],t[1]^e[1],t[2]^e[2],t[3]^e[3]]},byteswapM:function(t){var e,n,r=65280;for(e=0;e<t.length;++e)n=t[e],t[e]=n>>>24|n>>>8&r|(n&r)<<8|n<<24;return t}},e.hash.sha256=function(t){this._key[0]||this._precompute(),t?(this._h=t._h.slice(0),this._buffer=t._buffer.slice(0),this._length=t._length):this.reset()},e.hash.sha256.hash=function(t){return(new e.hash.sha256).update(t).finalize()},e.hash.sha256.prototype={blockSize:512,reset:function(){return this._h=this._init.slice(0),this._buffer=[],this._length=0,this},update:function(t){"string"===typeof t&&(t=e.codec.utf8String.toBits(t));var n,r=this._buffer=e.bitArray.concat(this._buffer,t),i=this._length,o=this._length=i+e.bitArray.bitLength(t);for(n=512+i&-512;n<=o;n+=512)this._block(r.splice(0,16));return this},finalize:function(){var t,n=this._buffer,r=this._h;for(t=(n=e.bitArray.concat(n,[e.bitArray.partial(1,1)])).length+2;15&t;t++)n.push(0);for(n.push(Math.floor(this._length/4294967296)),n.push(0|this._length);n.length;)this._block(n.splice(0,16));return this.reset(),r},_init:[],_key:[],_precompute:function(){var t,e=0,n=2;function r(t){return 4294967296*(t-Math.floor(t))|0}t:for(;e<64;n++){for(t=2;t*t<=n;t++)if(n%t===0)continue t;e<8&&(this._init[e]=r(Math.pow(n,.5))),this._key[e]=r(Math.pow(n,1/3)),e++}},_block:function(t){var e,n,r,i,o=t.slice(0),s=this._h,a=this._key,c=s[0],u=s[1],h=s[2],f=s[3],l=s[4],p=s[5],d=s[6],m=s[7];for(e=0;e<64;e++)e<16?n=o[e]:(r=o[e+1&15],i=o[e+14&15],n=o[15&e]=(r>>>7^r>>>18^r>>>3^r<<25^r<<14)+(i>>>17^i>>>19^i>>>10^i<<15^i<<13)+o[15&e]+o[e+9&15]|0),n=n+m+(l>>>6^l>>>11^l>>>25^l<<26^l<<21^l<<7)+(d^l&(p^d))+a[e],m=d,d=p,p=l,l=f+n|0,f=h,h=u,c=n+((u=c)&h^f&(u^h))+(u>>>2^u>>>13^u>>>22^u<<30^u<<19^u<<10)|0;s[0]=s[0]+c|0,s[1]=s[1]+u|0,s[2]=s[2]+h|0,s[3]=s[3]+f|0,s[4]=s[4]+l|0,s[5]=s[5]+p|0,s[6]=s[6]+d|0,s[7]=s[7]+m|0}},e.cipher.aes=function(t){this._tables[0][0][0]||this._precompute();var n,r,i,o,s,a=this._tables[0][4],c=this._tables[1],u=t.length,h=1;if(4!==u&&6!==u&&8!==u)throw new e.exception.invalid("invalid aes key size");for(this._key=[o=t.slice(0),s=[]],n=u;n<4*u+28;n++)i=o[n-1],(n%u===0||8===u&&n%u===4)&&(i=a[i>>>24]<<24^a[i>>16&255]<<16^a[i>>8&255]<<8^a[255&i],n%u===0&&(i=i<<8^i>>>24^h<<24,h=h<<1^283*(h>>7))),o[n]=o[n-u]^i;for(r=0;n;r++,n--)i=o[3&r?n:n-4],s[r]=n<=4||r<4?i:c[0][a[i>>>24]]^c[1][a[i>>16&255]]^c[2][a[i>>8&255]]^c[3][a[255&i]]},e.cipher.aes.prototype={encrypt:function(t){return this._crypt(t,0)},decrypt:function(t){return this._crypt(t,1)},_tables:[[[],[],[],[],[]],[[],[],[],[],[]]],_precompute:function(){var t,e,n,r,i,o,s,a,c=this._tables[0],u=this._tables[1],h=c[4],f=u[4],l=[],p=[];for(t=0;t<256;t++)p[(l[t]=t<<1^283*(t>>7))^t]=t;for(e=n=0;!h[e];e^=r||1,n=p[n]||1)for(o=(o=n^n<<1^n<<2^n<<3^n<<4)>>8^255&o^99,h[e]=o,f[o]=e,a=16843009*l[i=l[r=l[e]]]^65537*i^257*r^16843008*e,s=257*l[o]^16843008*o,t=0;t<4;t++)c[t][e]=s=s<<24^s>>>8,u[t][o]=a=a<<24^a>>>8;for(t=0;t<5;t++)c[t]=c[t].slice(0),u[t]=u[t].slice(0)},_crypt:function(t,n){if(4!==t.length)throw new e.exception.invalid("invalid aes block size");var r,i,o,s,a=this._key[n],c=t[0]^a[0],u=t[n?3:1]^a[1],h=t[2]^a[2],f=t[n?1:3]^a[3],l=a.length/4-2,p=4,d=[0,0,0,0],m=this._tables[n],y=m[0],E=m[1],v=m[2],C=m[3],A=m[4];for(s=0;s<l;s++)r=y[c>>>24]^E[u>>16&255]^v[h>>8&255]^C[255&f]^a[p],i=y[u>>>24]^E[h>>16&255]^v[f>>8&255]^C[255&c]^a[p+1],o=y[h>>>24]^E[f>>16&255]^v[c>>8&255]^C[255&u]^a[p+2],f=y[f>>>24]^E[c>>16&255]^v[u>>8&255]^C[255&h]^a[p+3],p+=4,c=r,u=i,h=o;for(s=0;s<4;s++)d[n?3&-s:s]=A[c>>>24]<<24^A[u>>16&255]<<16^A[h>>8&255]<<8^A[255&f]^a[p++],r=c,c=u,u=h,h=f,f=r;return d}},e.prng=function(t){this._pools=[new e.hash.sha256],this._poolEntropy=[0],this._reseedCount=0,this._robins={},this._eventId=0,this._collectorIds={},this._collectorIdNext=0,this._strength=0,this._poolStrength=0,this._nextReseed=0,this._key=[0,0,0,0,0,0,0,0],this._counter=[0,0,0,0],this._cipher=void 0,this._defaultParanoia=t,this._collectorsStarted=!1,this._callbacks={progress:{},seeded:{}},this._callbackI=0,this._NOT_READY=0,this._READY=1,this._REQUIRES_RESEED=2,this._MAX_WORDS_PER_BURST=65536,this._PARANOIA_LEVELS=[0,48,64,96,128,192,256,384,512,768,1024],this._MILLISECONDS_PER_RESEED=3e4,this._BITS_PER_RESEED=80},e.prng.prototype={randomWords:function(t,n){var r,i,o=[],s=this.isReady(n);if(s===this._NOT_READY)throw new e.exception.notReady("generator isn't seeded");for(s&this._REQUIRES_RESEED&&this._reseedFromPools(!(s&this._READY)),r=0;r<t;r+=4)(r+1)%this._MAX_WORDS_PER_BURST===0&&this._gate(),i=this._gen4words(),o.push(i[0],i[1],i[2],i[3]);return this._gate(),o.slice(0,t)},setDefaultParanoia:function(t,e){if(0===t&&"Setting paranoia=0 will ruin your security; use it only for testing"!==e)throw"Setting paranoia=0 will ruin your security; use it only for testing";this._defaultParanoia=t},addEntropy:function(t,n,r){r=r||"user";var i,o,s,a,c=(new Date).valueOf(),u=this._robins[r],h=this.isReady(),f=0;switch(void 0===(i=this._collectorIds[r])&&(i=this._collectorIds[r]=this._collectorIdNext++),void 0===u&&(u=this._robins[r]=0),this._robins[r]=(this._robins[r]+1)%this._pools.length,typeof t){case"number":void 0===n&&(n=1),this._pools[u].update([i,this._eventId++,1,n,c,1,0|t]);break;case"object":if("[object Uint32Array]"===(a=Object.prototype.toString.call(t))){for(s=[],o=0;o<t.length;o++)s.push(t[o]);t=s}else for("[object Array]"!==a&&(f=1),o=0;o<t.length&&!f;o++)"number"!==typeof t[o]&&(f=1);if(!f){if(void 0===n)for(n=0,o=0;o<t.length;o++)for(s=t[o];s>0;)n++,s>>>=1;this._pools[u].update([i,this._eventId++,2,n,c,t.length].concat(t))}break;case"string":void 0===n&&(n=t.length),this._pools[u].update([i,this._eventId++,3,n,c,t.length]),this._pools[u].update(t);break;default:f=1}if(f)throw new e.exception.bug("random: addEntropy only supports number, array of numbers or string");this._poolEntropy[u]+=n,this._poolStrength+=n,h===this._NOT_READY&&(this.isReady()!==this._NOT_READY&&this._fireEvent("seeded",Math.max(this._strength,this._poolStrength)),this._fireEvent("progress",this.getProgress()))},isReady:function(t){var e=this._PARANOIA_LEVELS[void 0!==t?t:this._defaultParanoia];return this._strength&&this._strength>=e?this._poolEntropy[0]>this._BITS_PER_RESEED&&(new Date).valueOf()>this._nextReseed?this._REQUIRES_RESEED|this._READY:this._READY:this._poolStrength>=e?this._REQUIRES_RESEED|this._NOT_READY:this._NOT_READY},getProgress:function(t){var e=this._PARANOIA_LEVELS[t||this._defaultParanoia];return this._strength>=e||this._poolStrength>e?1:this._poolStrength/e},startCollectors:function(){if(!this._collectorsStarted){if(this._eventListener={loadTimeCollector:this._bind(this._loadTimeCollector),mouseCollector:this._bind(this._mouseCollector),keyboardCollector:this._bind(this._keyboardCollector),accelerometerCollector:this._bind(this._accelerometerCollector),touchCollector:this._bind(this._touchCollector)},window.addEventListener)window.addEventListener("load",this._eventListener.loadTimeCollector,!1),window.addEventListener("keypress",this._eventListener.keyboardCollector,!1);else{if(!document.attachEvent)throw new e.exception.bug("can't attach event");document.attachEvent("onload",this._eventListener.loadTimeCollector),document.attachEvent("keypress",this._eventListener.keyboardCollector)}this._collectorsStarted=!0}},stopCollectors:function(){this._collectorsStarted&&(window.removeEventListener?(window.removeEventListener("load",this._eventListener.loadTimeCollector,!1),window.removeEventListener("keypress",this._eventListener.keyboardCollector,!1)):document.detachEvent&&(document.detachEvent("onload",this._eventListener.loadTimeCollector),document.detachEvent("keypress",this._eventListener.keyboardCollector)),this._collectorsStarted=!1)},addEventListener:function(t,e){this._callbacks[t][this._callbackI++]=e},removeEventListener:function(t,e){var n,r,i=this._callbacks[t],o=[];for(r in i)i.hasOwnProperty(r)&&i[r]===e&&o.push(r);for(n=0;n<o.length;n++)delete i[r=o[n]]},_bind:function(t){var e=this;return function(){t.apply(e,arguments)}},_gen4words:function(){for(var t=0;t<4&&(this._counter[t]=this._counter[t]+1|0,!this._counter[t]);t++);return this._cipher.encrypt(this._counter)},_gate:function(){this._key=this._gen4words().concat(this._gen4words()),this._cipher=new e.cipher.aes(this._key)},_reseed:function(t){this._key=e.hash.sha256.hash(this._key.concat(t)),this._cipher=new e.cipher.aes(this._key);for(var n=0;n<4&&(this._counter[n]=this._counter[n]+1|0,!this._counter[n]);n++);},_reseedFromPools:function(t){var n,r=[],i=0;for(this._nextReseed=r[0]=(new Date).valueOf()+this._MILLISECONDS_PER_RESEED,n=0;n<16;n++)r.push(4294967296*Math.random()|0);for(n=0;n<this._pools.length&&(r=r.concat(this._pools[n].finalize()),i+=this._poolEntropy[n],this._poolEntropy[n]=0,t||!(this._reseedCount&1<<n));n++);this._reseedCount>=1<<this._pools.length&&(this._pools.push(new e.hash.sha256),this._poolEntropy.push(0)),this._poolStrength-=i,i>this._strength&&(this._strength=i),this._reseedCount++,this._reseed(r)},_keyboardCollector:function(){this._addCurrentTimeToEntropy(1)},_mouseCollector:function(t){var n,r;try{n=t.x||t.clientX||t.offsetX||0,r=t.y||t.clientY||t.offsetY||0}catch(i){n=0,r=0}0!=n&&0!=r&&e.random.addEntropy([n,r],2,"mouse"),this._addCurrentTimeToEntropy(0)},_touchCollector:function(t){var n=t.touches[0]||t.changedTouches[0],r=n.pageX||n.clientX,i=n.pageY||n.clientY;e.random.addEntropy([r,i],1,"touch"),this._addCurrentTimeToEntropy(0)},_loadTimeCollector:function(){this._addCurrentTimeToEntropy(2)},_addCurrentTimeToEntropy:function(t){"undefined"!==typeof window&&window.performance&&"function"===typeof window.performance.now?e.random.addEntropy(window.performance.now(),t,"loadtime"):e.random.addEntropy((new Date).valueOf(),t,"loadtime")},_accelerometerCollector:function(t){var n=t.accelerationIncludingGravity.x||t.accelerationIncludingGravity.y||t.accelerationIncludingGravity.z;if(window.orientation){var r=window.orientation;"number"===typeof r&&e.random.addEntropy(r,1,"accelerometer")}n&&e.random.addEntropy(n,2,"accelerometer"),this._addCurrentTimeToEntropy(0)},_fireEvent:function(t,n){var r,i=e.random._callbacks[t],o=[];for(r in i)i.hasOwnProperty(r)&&o.push(i[r]);for(r=0;r<o.length;r++)o[r](n)}},e.random=new e.prng(6),function(){function r(){try{return n(145)}catch(t){return null}}try{var i,o,s;if(t.exports&&(o=r())&&o.randomBytes)i=o.randomBytes(128),i=new Uint32Array(new Uint8Array(i).buffer),e.random.addEntropy(i,1024,"crypto.randomBytes");else if("undefined"!==typeof window&&"undefined"!==typeof Uint32Array){if(s=new Uint32Array(32),window.crypto&&window.crypto.getRandomValues)window.crypto.getRandomValues(s);else{if(!window.msCrypto||!window.msCrypto.getRandomValues)return;window.msCrypto.getRandomValues(s)}e.random.addEntropy(s,1024,"crypto.getRandomValues")}}catch(a){"undefined"!==typeof window&&window.console&&(console.log("There was an error collecting entropy from the browser:"),console.log(a))}}(),e.codec.hex={fromBits:function(t){var n,r="";for(n=0;n<t.length;n++)r+=(0xf00000000000+(0|t[n])).toString(16).substr(4);return r.substr(0,e.bitArray.bitLength(t)/4)},toBits:function(t){var n,r,i=[];for(r=(t=t.replace(/\s|0x/g,"")).length,t+="00000000",n=0;n<t.length;n+=8)i.push(0^parseInt(t.substr(n,8),16));return e.bitArray.clamp(i,4*r)}},e.codec.utf8String={fromBits:function(t){var n,r,i="",o=e.bitArray.bitLength(t);for(n=0;n<o/8;n++)0===(3&n)&&(r=t[n/4]),i+=String.fromCharCode(r>>>24),r<<=8;return decodeURIComponent(escape(i))},toBits:function(t){t=unescape(encodeURIComponent(t));var n,r=[],i=0;for(n=0;n<t.length;n++)i=i<<8|t.charCodeAt(n),3===(3&n)&&(r.push(i),i=0);return 3&n&&r.push(e.bitArray.partial(8*(3&n),i)),r}},e.codec.base64={_chars:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fromBits:function(t,n,r){var i,o="",s=0,a=e.codec.base64._chars,c=0,u=e.bitArray.bitLength(t);for(r&&(a=a.substr(0,62)+"-_"),i=0;6*o.length<u;)o+=a.charAt((c^t[i]>>>s)>>>26),s<6?(c=t[i]<<6-s,s+=26,i++):(c<<=6,s-=6);for(;3&o.length&&!n;)o+="=";return o},toBits:function(t,n){t=t.replace(/\s|=/g,"");var r,i,o=[],s=0,a=e.codec.base64._chars,c=0;for(n&&(a=a.substr(0,62)+"-_"),r=0;r<t.length;r++){if((i=a.indexOf(t.charAt(r)))<0)throw new e.exception.invalid("this isn't base64!");s>26?(s-=26,o.push(c^i>>>s),c=i<<32-s):c^=i<<32-(s+=6)}return 56&s&&o.push(e.bitArray.partial(56&s,c,1)),o}},e.codec.base64url={fromBits:function(t){return e.codec.base64.fromBits(t,1,1)},toBits:function(t){return e.codec.base64.toBits(t,1)}},e})?D.apply(e,F):D}(),function(t){"use strict";F=[],l="function"===typeof(D=function(){var t,e=!0;function n(t,e,n){null!=t&&("number"==typeof t?this.fromNumber(t,e,n):null==e&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,e))}function r(){return new n(null)}function i(t,e,n,r,i,o){for(;--o>=0;){var s=e*this[t++]+n[r]+i;i=Math.floor(s/67108864),n[r++]=67108863&s}return i}function o(t,e,n,r,i,o){for(var s=32767&e,a=e>>15;--o>=0;){var c=32767&this[t],u=this[t++]>>15,h=a*c+u*s;i=((c=s*c+((32767&h)<<15)+n[r]+(1073741823&i))>>>30)+(h>>>15)+a*u+(i>>>30),n[r++]=1073741823&c}return i}function s(t,e,n,r,i,o){for(var s=16383&e,a=e>>14;--o>=0;){var c=16383&this[t],u=this[t++]>>14,h=a*c+u*s;i=((c=s*c+((16383&h)<<14)+n[r]+i)>>28)+(h>>14)+a*u,n[r++]=268435455&c}return i}e&&"Microsoft Internet Explorer"==navigator.appName?(n.prototype.am=o,t=30):e&&"Netscape"!=navigator.appName?(n.prototype.am=i,t=26):(n.prototype.am=s,t=28);n.prototype.DB=t,n.prototype.DM=(1<<t)-1,n.prototype.DV=1<<t;var a=52;n.prototype.FV=Math.pow(2,a),n.prototype.F1=a-t,n.prototype.F2=2*t-a;var c,u,h="0123456789abcdefghijklmnopqrstuvwxyz",f=new Array;for(c="0".charCodeAt(0),u=0;u<=9;++u)f[c++]=u;for(c="a".charCodeAt(0),u=10;u<36;++u)f[c++]=u;for(c="A".charCodeAt(0),u=10;u<36;++u)f[c++]=u;function l(t){return h.charAt(t)}function p(t,e){var n=f[t.charCodeAt(e)];return null==n?-1:n}function d(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s}function m(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+DV:this.t=0}function y(t){var e=r();return e.fromInt(t),e}function E(t,e){var r;if(16==e)r=4;else if(8==e)r=3;else if(256==e)r=8;else if(2==e)r=1;else if(32==e)r=5;else{if(4!=e)return void this.fromRadix(t,e);r=2}this.t=0,this.s=0;for(var i=t.length,o=!1,s=0;--i>=0;){var a=8==r?255&t[i]:p(t,i);a<0?"-"==t.charAt(i)&&(o=!0):(o=!1,0==s?this[this.t++]=a:s+r>this.DB?(this[this.t-1]|=(a&(1<<this.DB-s)-1)<<s,this[this.t++]=a>>this.DB-s):this[this.t-1]|=a<<s,(s+=r)>=this.DB&&(s-=this.DB))}8==r&&0!=(128&t[0])&&(this.s=-1,s>0&&(this[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),o&&n.ZERO.subTo(this,this)}function v(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t}function C(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var n,r=(1<<e)-1,i=!1,o="",s=this.t,a=this.DB-s*this.DB%e;if(s-- >0)for(a<this.DB&&(n=this[s]>>a)>0&&(i=!0,o=l(n));s>=0;)a<e?(n=(this[s]&(1<<a)-1)<<e-a,n|=this[--s]>>(a+=this.DB-e)):(n=this[s]>>(a-=e)&r,a<=0&&(a+=this.DB,--s)),n>0&&(i=!0),i&&(o+=l(n));return i?o:"0"}function A(){var t=r();return n.ZERO.subTo(this,t),t}function B(){return this.s<0?this.negate():this}function g(t){var e=this.s-t.s;if(0!=e)return e;var n=this.t;if(0!=(e=n-t.t))return this.s<0?-e:e;for(;--n>=0;)if(0!=(e=this[n]-t[n]))return e;return 0}function D(t){var e,n=1;return 0!=(e=t>>>16)&&(t=e,n+=16),0!=(e=t>>8)&&(t=e,n+=8),0!=(e=t>>4)&&(t=e,n+=4),0!=(e=t>>2)&&(t=e,n+=2),0!=(e=t>>1)&&(t=e,n+=1),n}function F(){return this.t<=0?0:this.DB*(this.t-1)+D(this[this.t-1]^this.s&this.DM)}function b(t,e){var n;for(n=this.t-1;n>=0;--n)e[n+t]=this[n];for(n=t-1;n>=0;--n)e[n]=0;e.t=this.t+t,e.s=this.s}function w(t,e){for(var n=t;n<this.t;++n)e[n-t]=this[n];e.t=Math.max(this.t-t,0),e.s=this.s}function _(t,e){var n,r=t%this.DB,i=this.DB-r,o=(1<<i)-1,s=Math.floor(t/this.DB),a=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)e[n+s+1]=this[n]>>i|a,a=(this[n]&o)<<r;for(n=s-1;n>=0;--n)e[n]=0;e[s]=a,e.t=this.t+s+1,e.s=this.s,e.clamp()}function S(t,e){e.s=this.s;var n=Math.floor(t/this.DB);if(n>=this.t)e.t=0;else{var r=t%this.DB,i=this.DB-r,o=(1<<r)-1;e[0]=this[n]>>r;for(var s=n+1;s<this.t;++s)e[s-n-1]|=(this[s]&o)<<i,e[s-n]=this[s]>>r;r>0&&(e[this.t-n-1]|=(this.s&o)<<i),e.t=this.t-n,e.clamp()}}function T(t,e){for(var n=0,r=0,i=Math.min(t.t,this.t);n<i;)r+=this[n]-t[n],e[n++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r-=t.s;n<this.t;)r+=this[n],e[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<t.t;)r-=t[n],e[n++]=r&this.DM,r>>=this.DB;r-=t.s}e.s=r<0?-1:0,r<-1?e[n++]=this.DV+r:r>0&&(e[n++]=r),e.t=n,e.clamp()}function x(t,e){var r=this.abs(),i=t.abs(),o=r.t;for(e.t=o+i.t;--o>=0;)e[o]=0;for(o=0;o<i.t;++o)e[o+r.t]=r.am(0,i[o],e,o,0,r.t);e.s=0,e.clamp(),this.s!=t.s&&n.ZERO.subTo(e,e)}function k(t){for(var e=this.abs(),n=t.t=2*e.t;--n>=0;)t[n]=0;for(n=0;n<e.t-1;++n){var r=e.am(n,e[n],t,2*n,0,1);(t[n+e.t]+=e.am(n+1,2*e[n],t,2*n+1,r,e.t-n-1))>=e.DV&&(t[n+e.t]-=e.DV,t[n+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(n,e[n],t,2*n,0,1)),t.s=0,t.clamp()}function O(t,e,i){var o=t.abs();if(!(o.t<=0)){var s=this.abs();if(s.t<o.t)return null!=e&&e.fromInt(0),void(null!=i&&this.copyTo(i));null==i&&(i=r());var a=r(),c=this.s,u=t.s,h=this.DB-D(o[o.t-1]);h>0?(o.lShiftTo(h,a),s.lShiftTo(h,i)):(o.copyTo(a),s.copyTo(i));var f=a.t,l=a[f-1];if(0!=l){var p=l*(1<<this.F1)+(f>1?a[f-2]>>this.F2:0),d=this.FV/p,m=(1<<this.F1)/p,y=1<<this.F2,E=i.t,v=E-f,C=null==e?r():e;for(a.dlShiftTo(v,C),i.compareTo(C)>=0&&(i[i.t++]=1,i.subTo(C,i)),n.ONE.dlShiftTo(f,C),C.subTo(a,a);a.t<f;)a[a.t++]=0;for(;--v>=0;){var A=i[--E]==l?this.DM:Math.floor(i[E]*d+(i[E-1]+y)*m);if((i[E]+=a.am(0,A,i,v,0,f))<A)for(a.dlShiftTo(v,C),i.subTo(C,i);i[E]<--A;)i.subTo(C,i)}null!=e&&(i.drShiftTo(f,e),c!=u&&n.ZERO.subTo(e,e)),i.t=f,i.clamp(),h>0&&i.rShiftTo(h,i),c<0&&n.ZERO.subTo(i,i)}}}function R(t){var e=r();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(n.ZERO)>0&&t.subTo(e,e),e}function I(t){this.m=t}function j(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}function M(t){return t}function N(t){t.divRemTo(this.m,null,t)}function P(t,e,n){t.multiplyTo(e,n),this.reduce(n)}function L(t,e){t.squareTo(e),this.reduce(e)}function W(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return(e=(e=(e=(e=e*(2-(15&t)*e)&15)*(2-(255&t)*e)&255)*(2-((65535&t)*e&65535))&65535)*(2-t*e%this.DV)%this.DV)>0?this.DV-e:-e}function U(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function q(t){var e=r();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(n.ZERO)>0&&this.m.subTo(e,e),e}function H(t){var e=r();return t.copyTo(e),this.reduce(e),e}function V(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var n=32767&t[e],r=n*this.mpl+((n*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(t[n=e+this.m.t]+=this.m.am(0,r,t,e,0,this.m.t);t[n]>=t.DV;)t[n]-=t.DV,t[++n]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}function z(t,e){t.squareTo(e),this.reduce(e)}function Q(t,e,n){t.multiplyTo(e,n),this.reduce(n)}function Y(){return 0==(this.t>0?1&this[0]:this.s)}function Z(t,e){if(t>4294967295||t<1)return n.ONE;var i=r(),o=r(),s=e.convert(this),a=D(t)-1;for(s.copyTo(i);--a>=0;)if(e.sqrTo(i,o),(t&1<<a)>0)e.mulTo(o,s,i);else{var c=i;i=o,o=c}return e.revert(i)}function K(t,e){var n;return n=t<256||e.isEven()?new I(e):new U(e),this.exp(t,n)}function J(){var t=r();return this.copyTo(t),t}function X(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function G(){return 0==this.t?this.s:this[0]<<24>>24}function $(){return 0==this.t?this.s:this[0]<<16>>16}function tt(t){return Math.floor(Math.LN2*this.DB/Math.log(t))}function et(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1}function nt(t){if(null==t&&(t=10),0==this.signum()||t<2||t>36)return"0";var e=this.chunkSize(t),n=Math.pow(t,e),i=y(n),o=r(),s=r(),a="";for(this.divRemTo(i,o,s);o.signum()>0;)a=(n+s.intValue()).toString(t).substr(1)+a,o.divRemTo(i,o,s);return s.intValue().toString(t)+a}function rt(t,e){this.fromInt(0),null==e&&(e=10);for(var r=this.chunkSize(e),i=Math.pow(e,r),o=!1,s=0,a=0,c=0;c<t.length;++c){var u=p(t,c);u<0?"-"==t.charAt(c)&&0==this.signum()&&(o=!0):(a=e*a+u,++s>=r&&(this.dMultiply(i),this.dAddOffset(a,0),s=0,a=0))}s>0&&(this.dMultiply(Math.pow(e,s)),this.dAddOffset(a,0)),o&&n.ZERO.subTo(this,this)}function it(t,e,r){if("number"==typeof e)if(t<2)this.fromInt(1);else for(this.fromNumber(t,r),this.testBit(t-1)||this.bitwiseTo(n.ONE.shiftLeft(t-1),lt,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(n.ONE.shiftLeft(t-1),this);else{var i=new Array,o=7&t;i.length=1+(t>>3),e.nextBytes(i),o>0?i[0]&=(1<<o)-1:i[0]=0,this.fromString(i,256)}}function ot(){var t=this.t,e=new Array;e[0]=this.s;var n,r=this.DB-t*this.DB%8,i=0;if(t-- >0)for(r<this.DB&&(n=this[t]>>r)!=(this.s&this.DM)>>r&&(e[i++]=n|this.s<<this.DB-r);t>=0;)r<8?(n=(this[t]&(1<<r)-1)<<8-r,n|=this[--t]>>(r+=this.DB-8)):(n=this[t]>>(r-=8)&255,r<=0&&(r+=this.DB,--t)),0!=(128&n)&&(n|=-256),0==i&&(128&this.s)!=(128&n)&&++i,(i>0||n!=this.s)&&(e[i++]=n);return e}function st(t){return 0==this.compareTo(t)}function at(t){return this.compareTo(t)<0?this:t}function ct(t){return this.compareTo(t)>0?this:t}function ut(t,e,n){var r,i,o=Math.min(t.t,this.t);for(r=0;r<o;++r)n[r]=e(this[r],t[r]);if(t.t<this.t){for(i=t.s&this.DM,r=o;r<this.t;++r)n[r]=e(this[r],i);n.t=this.t}else{for(i=this.s&this.DM,r=o;r<t.t;++r)n[r]=e(i,t[r]);n.t=t.t}n.s=e(this.s,t.s),n.clamp()}function ht(t,e){return t&e}function ft(t){var e=r();return this.bitwiseTo(t,ht,e),e}function lt(t,e){return t|e}function pt(t){var e=r();return this.bitwiseTo(t,lt,e),e}function dt(t,e){return t^e}function mt(t){var e=r();return this.bitwiseTo(t,dt,e),e}function yt(t,e){return t&~e}function Et(t){var e=r();return this.bitwiseTo(t,yt,e),e}function vt(){for(var t=r(),e=0;e<this.t;++e)t[e]=this.DM&~this[e];return t.t=this.t,t.s=~this.s,t}function Ct(t){var e=r();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e}function At(t){var e=r();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e}function Bt(t){if(0==t)return-1;var e=0;return 0==(65535&t)&&(t>>=16,e+=16),0==(255&t)&&(t>>=8,e+=8),0==(15&t)&&(t>>=4,e+=4),0==(3&t)&&(t>>=2,e+=2),0==(1&t)&&++e,e}function gt(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+Bt(this[t]);return this.s<0?this.t*this.DB:-1}function Dt(t){for(var e=0;0!=t;)t&=t-1,++e;return e}function Ft(){for(var t=0,e=this.s&this.DM,n=0;n<this.t;++n)t+=Dt(this[n]^e);return t}function bt(t){var e=Math.floor(t/this.DB);return e>=this.t?0!=this.s:0!=(this[e]&1<<t%this.DB)}function wt(t,e){var r=n.ONE.shiftLeft(t);return this.bitwiseTo(r,e,r),r}function _t(t){return this.changeBit(t,lt)}function St(t){return this.changeBit(t,yt)}function Tt(t){return this.changeBit(t,dt)}function xt(t,e){for(var n=0,r=0,i=Math.min(t.t,this.t);n<i;)r+=this[n]+t[n],e[n++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r+=t.s;n<this.t;)r+=this[n],e[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<t.t;)r+=t[n],e[n++]=r&this.DM,r>>=this.DB;r+=t.s}e.s=r<0?-1:0,r>0?e[n++]=r:r<-1&&(e[n++]=this.DV+r),e.t=n,e.clamp()}function kt(t){var e=r();return this.addTo(t,e),e}function Ot(t){var e=r();return this.subTo(t,e),e}function Rt(t){var e=r();return this.multiplyTo(t,e),e}function It(){var t=r();return this.squareTo(t),t}function jt(t){var e=r();return this.divRemTo(t,e,null),e}function Mt(t){var e=r();return this.divRemTo(t,null,e),e}function Nt(t){var e=r(),n=r();return this.divRemTo(t,e,n),new Array(e,n)}function Pt(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()}function Lt(t,e){if(0!=t){for(;this.t<=e;)this[this.t++]=0;for(this[e]+=t;this[e]>=this.DV;)this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e]}}function Wt(){}function Ut(t){return t}function qt(t,e,n){t.multiplyTo(e,n)}function Ht(t,e){t.squareTo(e)}function Vt(t){return this.exp(t,new Wt)}function zt(t,e,n){var r,i=Math.min(this.t+t.t,e);for(n.s=0,n.t=i;i>0;)n[--i]=0;for(r=n.t-this.t;i<r;++i)n[i+this.t]=this.am(0,t[i],n,i,0,this.t);for(r=Math.min(t.t,e);i<r;++i)this.am(0,t[i],n,i,0,e-i);n.clamp()}function Qt(t,e,n){--e;var r=n.t=this.t+t.t-e;for(n.s=0;--r>=0;)n[r]=0;for(r=Math.max(e-this.t,0);r<t.t;++r)n[this.t+r-e]=this.am(e-r,t[r],n,0,0,this.t+r-e);n.clamp(),n.drShiftTo(1,n)}function Yt(t){this.r2=r(),this.q3=r(),n.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}function Zt(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=r();return t.copyTo(e),this.reduce(e),e}function Kt(t){return t}function Jt(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)}function Xt(t,e){t.squareTo(e),this.reduce(e)}function Gt(t,e,n){t.multiplyTo(e,n),this.reduce(n)}function $t(t,e){var n,i,o=t.bitLength(),s=y(1);if(o<=0)return s;n=o<18?1:o<48?3:o<144?4:o<768?5:6,i=o<8?new I(e):e.isEven()?new Yt(e):new U(e);var a=new Array,c=3,u=n-1,h=(1<<n)-1;if(a[1]=i.convert(this),n>1){var f=r();for(i.sqrTo(a[1],f);c<=h;)a[c]=r(),i.mulTo(f,a[c-2],a[c]),c+=2}var l,p,d=t.t-1,m=!0,E=r();for(o=D(t[d])-1;d>=0;){for(o>=u?l=t[d]>>o-u&h:(l=(t[d]&(1<<o+1)-1)<<u-o,d>0&&(l|=t[d-1]>>this.DB+o-u)),c=n;0==(1&l);)l>>=1,--c;if((o-=c)<0&&(o+=this.DB,--d),m)a[l].copyTo(s),m=!1;else{for(;c>1;)i.sqrTo(s,E),i.sqrTo(E,s),c-=2;c>0?i.sqrTo(s,E):(p=s,s=E,E=p),i.mulTo(E,a[l],s)}for(;d>=0&&0==(t[d]&1<<o);)i.sqrTo(s,E),p=s,s=E,E=p,--o<0&&(o=this.DB-1,--d)}return i.revert(s)}function te(t){var e=this.s<0?this.negate():this.clone(),n=t.s<0?t.negate():t.clone();if(e.compareTo(n)<0){var r=e;e=n,n=r}var i=e.getLowestSetBit(),o=n.getLowestSetBit();if(o<0)return e;for(i<o&&(o=i),o>0&&(e.rShiftTo(o,e),n.rShiftTo(o,n));e.signum()>0;)(i=e.getLowestSetBit())>0&&e.rShiftTo(i,e),(i=n.getLowestSetBit())>0&&n.rShiftTo(i,n),e.compareTo(n)>=0?(e.subTo(n,e),e.rShiftTo(1,e)):(n.subTo(e,n),n.rShiftTo(1,n));return o>0&&n.lShiftTo(o,n),n}function ee(t){if(t<=0)return 0;var e=this.DV%t,n=this.s<0?t-1:0;if(this.t>0)if(0==e)n=this[0]%t;else for(var r=this.t-1;r>=0;--r)n=(e*n+this[r])%t;return n}function ne(t){var e=t.isEven();if(this.isEven()&&e||0==t.signum())return n.ZERO;for(var r=t.clone(),i=this.clone(),o=y(1),s=y(0),a=y(0),c=y(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),e?(o.isEven()&&s.isEven()||(o.addTo(this,o),s.subTo(t,s)),o.rShiftTo(1,o)):s.isEven()||s.subTo(t,s),s.rShiftTo(1,s);for(;i.isEven();)i.rShiftTo(1,i),e?(a.isEven()&&c.isEven()||(a.addTo(this,a),c.subTo(t,c)),a.rShiftTo(1,a)):c.isEven()||c.subTo(t,c),c.rShiftTo(1,c);r.compareTo(i)>=0?(r.subTo(i,r),e&&o.subTo(a,o),s.subTo(c,s)):(i.subTo(r,i),e&&a.subTo(o,a),c.subTo(s,c))}return 0!=i.compareTo(n.ONE)?n.ZERO:c.compareTo(t)>=0?c.subtract(t):c.signum()<0?(c.addTo(t,c),c.signum()<0?c.add(t):c):c}I.prototype.convert=j,I.prototype.revert=M,I.prototype.reduce=N,I.prototype.mulTo=P,I.prototype.sqrTo=L,U.prototype.convert=q,U.prototype.revert=H,U.prototype.reduce=V,U.prototype.mulTo=Q,U.prototype.sqrTo=z,n.prototype.copyTo=d,n.prototype.fromInt=m,n.prototype.fromString=E,n.prototype.clamp=v,n.prototype.dlShiftTo=b,n.prototype.drShiftTo=w,n.prototype.lShiftTo=_,n.prototype.rShiftTo=S,n.prototype.subTo=T,n.prototype.multiplyTo=x,n.prototype.squareTo=k,n.prototype.divRemTo=O,n.prototype.invDigit=W,n.prototype.isEven=Y,n.prototype.exp=Z,n.prototype.toString=C,n.prototype.negate=A,n.prototype.abs=B,n.prototype.compareTo=g,n.prototype.bitLength=F,n.prototype.mod=R,n.prototype.modPowInt=K,n.ZERO=y(0),n.ONE=y(1),Wt.prototype.convert=Ut,Wt.prototype.revert=Ut,Wt.prototype.mulTo=qt,Wt.prototype.sqrTo=Ht,Yt.prototype.convert=Zt,Yt.prototype.revert=Kt,Yt.prototype.reduce=Jt,Yt.prototype.mulTo=Gt,Yt.prototype.sqrTo=Xt;var re=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],ie=(1<<26)/re[re.length-1];function oe(t){var e,n=this.abs();if(1==n.t&&n[0]<=re[re.length-1]){for(e=0;e<re.length;++e)if(n[0]==re[e])return!0;return!1}if(n.isEven())return!1;for(e=1;e<re.length;){for(var r=re[e],i=e+1;i<re.length&&r<ie;)r*=re[i++];for(r=n.modInt(r);e<i;)if(r%re[e++]==0)return!1}return n.millerRabin(t)}function se(t){var e=this.subtract(n.ONE),i=e.getLowestSetBit();if(i<=0)return!1;var o=e.shiftRight(i);(t=t+1>>1)>re.length&&(t=re.length);for(var s=r(),a=0;a<t;++a){s.fromInt(re[Math.floor(Math.random()*re.length)]);var c=s.modPow(o,this);if(0!=c.compareTo(n.ONE)&&0!=c.compareTo(e)){for(var u=1;u++<i&&0!=c.compareTo(e);)if(0==(c=c.modPowInt(2,this)).compareTo(n.ONE))return!1;if(0!=c.compareTo(e))return!1}}return!0}return n.prototype.chunkSize=tt,n.prototype.toRadix=nt,n.prototype.fromRadix=rt,n.prototype.fromNumber=it,n.prototype.bitwiseTo=ut,n.prototype.changeBit=wt,n.prototype.addTo=xt,n.prototype.dMultiply=Pt,n.prototype.dAddOffset=Lt,n.prototype.multiplyLowerTo=zt,n.prototype.multiplyUpperTo=Qt,n.prototype.modInt=ee,n.prototype.millerRabin=se,n.prototype.clone=J,n.prototype.intValue=X,n.prototype.byteValue=G,n.prototype.shortValue=$,n.prototype.signum=et,n.prototype.toByteArray=ot,n.prototype.equals=st,n.prototype.min=at,n.prototype.max=ct,n.prototype.and=ft,n.prototype.or=pt,n.prototype.xor=mt,n.prototype.andNot=Et,n.prototype.not=vt,n.prototype.shiftLeft=Ct,n.prototype.shiftRight=At,n.prototype.getLowestSetBit=gt,n.prototype.bitCount=Ft,n.prototype.testBit=bt,n.prototype.setBit=_t,n.prototype.clearBit=St,n.prototype.flipBit=Tt,n.prototype.add=kt,n.prototype.subtract=Ot,n.prototype.multiply=Rt,n.prototype.divide=jt,n.prototype.remainder=Mt,n.prototype.divideAndRemainder=Nt,n.prototype.modPow=$t,n.prototype.modInverse=ne,n.prototype.pow=Vt,n.prototype.gcd=te,n.prototype.isProbablePrime=oe,n.prototype.square=It,n})?D.apply(e,F):D}(),function(t){"use strict";F=[h,f,l],p="function"===typeof(D=function(t,e,n){var r=function(t,e,r,i){if(!t)throw"Username cannot be empty.";this.username=t,this.password=e,this.hashFn=i||"sha-1";r=r||1024;var o=this.initVals[r];this.N=new n(o.N,16),this.g=new n(o.g,16),this.gBn=new n(o.g,16),this.k=this.k(),this.one=new n("1",16),this.two=new n("2",16)};return r.prototype={toHexString:function(t){var e=t.toString(16);return e.length%2===1&&(e="0"+e),e},padLeft:function(t,e){return t.length>e?t:Array(e-t.length+1).join("0")+t},bytesToHex:function(t){var e=this;return t.map((function(t){return e.padLeft(e.toHexString(t),2)})).join("")},hexToBytes:function(t){if(t.length%2===1)throw new Error("hexToBytes can't have a string with an odd number of characters.");return 0===t.indexOf("0x")&&(t=t.slice(2)),t.match(/../g).map((function(t){return parseInt(t,16)}))},stringToBytes:function(t){for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e},bytesToString:function(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},k:function(){var t=[this.toHexString(this.N),this.toHexString(this.g)];return this.paddedHash(t)},calculateX:function(t){if(!t)throw"Missing parameter.";if(!this.username||!this.password)throw"Username and password cannot be empty.";var e=this.stringToBytes(this.username),r=this.hexToBytes(this.password),i=e.concat([58]).concat(r),o=this.hash(this.bytesToString(i)),s=this.hexToBytes(o),a=this.hexToBytes(t).concat(s),c=this.hash(this.bytesToString(a)),u=new n(c,16);if(u.compareTo(this.N)<0)return u;var h=new n(1,16);return u.mod(this.N.subtract(h))},calculateV:function(t){if(!t)throw"Missing parameter.";var e=this.calculateX(t);return this.g.modPow(e,this.N)},calculateU:function(t,e){if(!t||!e)throw"Missing parameter(s).";if("0"==t.mod(this.N).toString()||"0"==e.mod(this.N).toString())throw"ABORT: illegal_parameter";var n=[this.toHexString(t),this.toHexString(e)];return this.paddedHash(n)},canCalculateA:function(t){if(!t)throw"Missing parameter.";return Math.ceil(t.bitLength()/8)>=32},calculateA:function(t){if(!t)throw"Missing parameter.";if(!this.canCalculateA(t))throw"Client key length is less than 256 bits.";var e=this.g.modPow(t,this.N);if("0"==e.mod(this.N).toString())throw"ABORT: illegal_parameter";return e},calculateM1:function(t,e,r,i){if(!t||!e||!r||!i)throw"Missing parameter(s).";if("0"==t.mod(this.N).toString()||"0"==e.mod(this.N).toString())throw"ABORT: illegal_parameter";for(var o=this.hexHash(this.toHexString(this.N)),s=this.hexHash(this.toHexString(this.g)),a=this.hash(this.username),c=[],u=this.hexToBytes(o),h=this.hexToBytes(s),f=0;f<u.length;f++)c[f]=u[f]^h[f];for(var l=[this.bytesToHex(c),a,i,this.toHexString(t),this.toHexString(e),r],p="",d=0;d<l.length;d++)p+=l[d];return new n(this.hexHash(p),16)},calculateM:function(t,e,n,r){if(!t||!e||!n||!r)throw"Missing parameter(s).";if("0"==t.mod(this.N).toString()||"0"==e.mod(this.N).toString())throw"ABORT: illegal_parameter";for(var i=this.hexHash(this.toHexString(this.N)),o=this.hexHash(this.toHexString(this.g)),s=this.hash(this.username),a=[],c=this.hexToBytes(i),u=this.hexToBytes(o),h=0;h<c.length;h++)a[h]=c[h]^u[h];for(var f=[this.bytesToHex(a),s,r,this.toHexString(t),this.toHexString(e),n],l="",p=0;p<f.length;p++)l+=f[p];return this.hexHash(l)},calculateM2:function(t,e,r){if(!t||!e||!r)throw"Missing parameter(s).";if("0"==t.mod(this.N).toString()||"0"==e.mod(this.N).toString())throw"ABORT: illegal_parameter";for(var i=[this.toHexString(t),this.toHexString(e),r],o="",s=0;s<i.length;s++)o+=i[s];return new n(this.hexHash(o),16)},calculateS:function(t,e,n,r){if(!t||!e||!n||!r)throw"Missing parameters.";if("0"==t.mod(this.N).toString())throw"ABORT: illegal_parameter";var i=this.calculateX(e),o=this.g.modPow(i,this.N);return t.add(this.N.multiply(this.k)).subtract(o.multiply(this.k)).mod(this.N).modPow(i.multiply(n).add(r),this.N)},calculateK:function(t){return this.hexHash(this.toHexString(t))},srpRandom:function(){var t=e.random.randomWords(8,0),r=e.codec.hex.fromBits(t);if(64!=r.length)throw"Invalid random number size.";var i=new n(r,16);return i.compareTo(this.N)>=0&&(i=a.mod(this.N.subtract(this.one))),i.compareTo(this.two)<0&&(i=two),i},randomHexSalt:function(){var t=e.random.randomWords(8,0);return e.codec.hex.fromBits(t)},paddedHash:function(t){for(var e=2*(4*this.toHexString(this.N).length+7>>3),r="",i=0;i<t.length;i++)r+=this.nZeros(e-t[i].length)+t[i];return new n(this.hexHash(r),16).mod(this.N)},hash:function(n){switch(this.hashFn.toLowerCase()){case"sha-256":var r=e.codec.hex.fromBits(e.hash.sha256.hash(n));return this.nZeros(64-r.length)+r;case"sha-1":default:return t.calcSHA1(n)}},hexHash:function(t){switch(this.hashFn.toLowerCase()){case"sha-256":var n=e.codec.hex.fromBits(e.hash.sha256.hash(e.codec.hex.toBits(t)));return this.nZeros(64-n.length)+n;case"sha-1":default:return this.hash(this.pack(t))}},pack:function(t){for(t.length%2!=0&&(t="0"+t),i=0,ascii="";i<t.length/2;)ascii+=String.fromCharCode(parseInt(t.substr(2*i,2),16)),i++;return ascii},nZeros:function(t){if(t<1)return"";var e=this.nZeros(t>>1);return 0==(1&t)?e+e:e+e+"0"},initVals:{1024:{N:"EEAF0AB9ADB38DD69C33F80AFA8FC5E86072618775FF3C0B9EA2314C9C256576D674DF7496EA81D3383B4813D692C6E0E0D5D8E250B98BE48E495C1D6089DAD15DC7D7B46154D6B6CE8EF4AD69B15D4982559B297BCF1885C529F566660E57EC68EDBC3C05726CC02FD4CBF4976EAA9AFD5138FE8376435B9FC61D2FC0EB06E3",g:"2"},1536:{N:"9DEF3CAFB939277AB1F12A8617A47BBBDBA51DF499AC4C80BEEEA9614B19CC4D5F4F5F556E27CBDE51C6A94BE4607A291558903BA0D0F84380B655BB9A22E8DCDF028A7CEC67F0D08134B1C8B97989149B609E0BE3BAB63D47548381DBC5B1FC764E3F4B53DD9DA1158BFD3E2B9C8CF56EDF019539349627DB2FD53D24B7C48665772E437D6C7F8CE442734AF7CCB7AE837C264AE3A9BEB87F8A2FE9B8B5292E5A021FFF5E91479E8CE7A28C2442C6F315180F93499A234DCF76E3FED135F9BB",g:"2"},2048:{N:"AC6BDB41324A9A9BF166DE5E1389582FAF72B6651987EE07FC3192943DB56050A37329CBB4A099ED8193E0757767A13DD52312AB4B03310DCD7F48A9DA04FD50E8083969EDB767B0CF6095179A163AB3661A05FBD5FAAAE82918A9962F0B93B855F97993EC975EEAA80D740ADBF4FF747359D041D5C33EA71D281E446B14773BCA97B43A23FB801676BD207A436C6481F1D2B9078717461A5B9D32E688F87748544523B524B0D57D5EA77A2775D2ECFA032CFBDBF52FB3786160279004E57AE6AF874E7303CE53299CCC041C7BC308D82A5698F3A8D0C38271AE35F8E9DBFBB694B5C803D89F7AE435DE236D525F54759B65E372FCD68EF20FA7111F9E4AFF73",g:"2"},3072:{N:"FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200CBBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFCE0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF",g:"5"},4096:{N:"FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200CBBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFCE0FD108E4B82D120A92108011A723C12A787E6D788719A10BDBA5B2699C327186AF4E23C1A946834B6150BDA2583E9CA2AD44CE8DBBBC2DB04DE8EF92E8EFC141FBECAA6287C59474E6BC05D99B2964FA090C3A2233BA186515BE7ED1F612970CEE2D7AFB81BDD762170481CD0069127D5B05AA993B4EA988D8FDDC186FFB7DC90A6C08F4DF435C934063199FFFFFFFFFFFFFFFF",g:"5"},6144:{N:"FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200CBBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFCE0FD108E4B82D120A92108011A723C12A787E6D788719A10BDBA5B2699C327186AF4E23C1A946834B6150BDA2583E9CA2AD44CE8DBBBC2DB04DE8EF92E8EFC141FBECAA6287C59474E6BC05D99B2964FA090C3A2233BA186515BE7ED1F612970CEE2D7AFB81BDD762170481CD0069127D5B05AA993B4EA988D8FDDC186FFB7DC90A6C08F4DF435C93402849236C3FAB4D27C7026C1D4DCB2602646DEC9751E763DBA37BDF8FF9406AD9E530EE5DB382F413001AEB06A53ED9027D831179727B0865A8918DA3EDBEBCF9B14ED44CE6CBACED4BB1BDB7F1447E6CC254B332051512BD7AF426FB8F401378CD2BF5983CA01C64B92ECF032EA15D1721D03F482D7CE6E74FEF6D55E702F46980C82B5A84031900B1C9E59E7C97FBEC7E8F323A97A7E36CC88BE0F1D45B7FF585AC54BD407B22B4154AACC8F6D7EBF48E1D814CC5ED20F8037E0A79715EEF29BE32806A1D58BB7C5DA76F550AA3D8A1FBFF0EB19CCB1A313D55CDA56C9EC2EF29632387FE8D76E3C0468043E8F663F4860EE12BF2D5B0B7474D6E694F91E6DCC4024FFFFFFFFFFFFFFFF",g:"5"},8192:{N:"FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200CBBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFCE0FD108E4B82D120A92108011A723C12A787E6D788719A10BDBA5B2699C327186AF4E23C1A946834B6150BDA2583E9CA2AD44CE8DBBBC2DB04DE8EF92E8EFC141FBECAA6287C59474E6BC05D99B2964FA090C3A2233BA186515BE7ED1F612970CEE2D7AFB81BDD762170481CD0069127D5B05AA993B4EA988D8FDDC186FFB7DC90A6C08F4DF435C93402849236C3FAB4D27C7026C1D4DCB2602646DEC9751E763DBA37BDF8FF9406AD9E530EE5DB382F413001AEB06A53ED9027D831179727B0865A8918DA3EDBEBCF9B14ED44CE6CBACED4BB1BDB7F1447E6CC254B332051512BD7AF426FB8F401378CD2BF5983CA01C64B92ECF032EA15D1721D03F482D7CE6E74FEF6D55E702F46980C82B5A84031900B1C9E59E7C97FBEC7E8F323A97A7E36CC88BE0F1D45B7FF585AC54BD407B22B4154AACC8F6D7EBF48E1D814CC5ED20F8037E0A79715EEF29BE32806A1D58BB7C5DA76F550AA3D8A1FBFF0EB19CCB1A313D55CDA56C9EC2EF29632387FE8D76E3C0468043E8F663F4860EE12BF2D5B0B7474D6E694F91E6DBE115974A3926F12FEE5E438777CB6A932DF8CD8BEC4D073B931BA3BC832B68D9DD300741FA7BF8AFC47ED2576F6936BA424663AAB639C5AE4F5683423B4742BF1C978238F16CBE39D652DE3FDB8BEFC848AD922222E04A4037C0713EB57A81A23F0C73473FC646CEA306B4BCBC8862F8385DDFA9D4B7FA2C087E879683303ED5BDD3A062B3CF5B3A278A66D2A13F83F44F82DDF310EE074AB6A364597E899A0255DC164F31CC50846851DF9AB48195DED7EA1B1D510BD7EE74D73FAF36BC31ECFA268359046F4EB879F924009438B481C6CD7889A002ED5EE382BC9190DA6FC026E479558E4475677E9AA9E3050E2765694DFC81F56E880B96E7160C980DD98EDD3DFFFFFFFFFFFFFFFFF",g:"19"}},calculateB:function(t,e){if(!t||!e)throw"Missing parameters.";return this.g.modPow(t,this.N).add(e.multiply(this.k)).mod(this.N)},calculateServerS:function(t,e,n,r){if(!t||!e||!n||!r)throw"Missing parameters.";if("0"==t.mod(this.N).toString()||"0"==r.mod(this.N).toString())throw"ABORT: illegal_parameter";return e.modPow(n,this.N).multiply(t).mod(this.N).modPow(r,this.N)}},r})?D.apply(e,F):D}(),function(){"use strict";function t(t){return"function"===typeof t}var e,i,o=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},a=0,c=function(t,e){v[a]=t,v[a+1]=e,2===(a+=2)&&(i?i(C):E())};var u="undefined"!==typeof window?window:void 0,h=u||{},f=h.MutationObserver||h.WebKitMutationObserver,l="undefined"!==typeof s&&"[object process]"==={}.toString.call(s),p="undefined"!==typeof Uint8ClampedArray&&"undefined"!==typeof importScripts&&"undefined"!==typeof MessageChannel;function y(){return function(){setTimeout(C,1)}}var E,v=new Array(1e3);function C(){for(var t=0;t<a;t+=2){(0,v[t])(v[t+1]),v[t]=void 0,v[t+1]=void 0}a=0}function A(){}E=l?function(){s.nextTick(C)}:f?function(){var t=0,e=new f(C),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}():p?function(){var t=new MessageChannel;return t.port1.onmessage=C,function(){t.port2.postMessage(0)}}():void 0===u?function(){try{var t=n(!function(){var t=new Error("Cannot find module 'vertx'");throw t.code="MODULE_NOT_FOUND",t}());return e=t.runOnLoop||t.runOnContext,function(){e(C)}}catch(r){return y()}}():y();var B=void 0,g=new x;function D(e,n){if(n.constructor===e.constructor)!function(t,e){1===e._state?w(t,e._result):2===e._state?_(t,e._result):S(e,void 0,(function(e){F(t,e)}),(function(e){_(t,e)}))}(e,n);else{var r=function(t){try{return t.then}catch(e){return g.error=e,g}}(n);r===g?_(e,g.error):void 0===r?w(e,n):t(r)?function(t,e,n){c((function(t){var r=!1,i=function(t,e,n,r){try{t.call(e,n,r)}catch(i){return i}}(n,e,(function(n){r||(r=!0,e!==n?F(t,n):w(t,n))}),(function(e){r||(r=!0,_(t,e))}),t._label);!r&&i&&(r=!0,_(t,i))}),t)}(e,n,r):w(e,n)}}function F(t,e){var n;t===e?_(t,new TypeError("You cannot resolve a promise with itself")):"function"===typeof(n=e)||"object"===typeof n&&null!==n?D(t,e):w(t,e)}function b(t){t._onerror&&t._onerror(t._result),T(t)}function w(t,e){t._state===B&&(t._result=e,t._state=1,0!==t._subscribers.length&&c(T,t))}function _(t,e){t._state===B&&(t._state=2,t._result=e,c(b,t))}function S(t,e,n,r){var i=t._subscribers,o=i.length;t._onerror=null,i[o]=e,i[o+1]=n,i[o+2]=r,0===o&&t._state&&c(T,t)}function T(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r,i,o=t._result,s=0;s<e.length;s+=3)r=e[s],i=e[s+n],r?O(n,r,i,o):i(o);t._subscribers.length=0}}function x(){this.error=null}var k=new x;function O(e,n,r,i){var o,s,a,c,u=t(r);if(u){if((o=function(t,e){try{return t(e)}catch(n){return k.error=n,k}}(r,i))===k?(c=!0,s=o.error,o=null):a=!0,n===o)return void _(n,new TypeError("A promises callback cannot return that same promise."))}else o=i,a=!0;n._state!==B||(u&&a?F(n,o):c?_(n,s):1===e?w(n,o):2===e&&_(n,o))}function R(t,e){var n=this;n._instanceConstructor=t,n.promise=new t(A),n._validateInput(e)?(n._input=e,n.length=e.length,n._remaining=e.length,n._init(),0===n.length?w(n.promise,n._result):(n.length=n.length||0,n._enumerate(),0===n._remaining&&w(n.promise,n._result))):_(n.promise,n._validationError())}R.prototype._validateInput=function(t){return o(t)},R.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},R.prototype._init=function(){this._result=new Array(this.length)};var I=R;R.prototype._enumerate=function(){for(var t=this,e=t.length,n=t.promise,r=t._input,i=0;n._state===B&&i<e;i++)t._eachEntry(r[i],i)},R.prototype._eachEntry=function(t,e){var n,r=this,i=r._instanceConstructor;"object"===typeof(n=t)&&null!==n?t.constructor===i&&t._state!==B?(t._onerror=null,r._settledAt(t._state,e,t._result)):r._willSettleAt(i.resolve(t),e):(r._remaining--,r._result[e]=t)},R.prototype._settledAt=function(t,e,n){var r=this,i=r.promise;i._state===B&&(r._remaining--,2===t?_(i,n):r._result[e]=n),0===r._remaining&&w(i,r._result)},R.prototype._willSettleAt=function(t,e){var n=this;S(t,void 0,(function(t){n._settledAt(1,e,t)}),(function(t){n._settledAt(2,e,t)}))};var j=function(t){return new I(this,t).promise};var M=function(t){var e=new this(A);if(!o(t))return _(e,new TypeError("You must pass an array to race.")),e;var n=t.length;function r(t){F(e,t)}function i(t){_(e,t)}for(var s=0;e._state===B&&s<n;s++)S(this.resolve(t[s]),void 0,r,i);return e};var N=function(t){if(t&&"object"===typeof t&&t.constructor===this)return t;var e=new this(A);return F(e,t),e};var P=function(t){var e=new this(A);return _(e,t),e},L=0;var W=U;function U(e){this._id=L++,this._state=void 0,this._result=void 0,this._subscribers=[],A!==e&&(t(e)||function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof U||function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}(),function(t,e){try{e((function(e){F(t,e)}),(function(e){_(t,e)}))}catch(n){_(t,n)}}(this,e))}U.all=j,U.race=M,U.resolve=N,U.reject=P,U._setScheduler=function(t){i=t},U._setAsap=function(t){c=t},U._asap=c,U.prototype={constructor:U,then:function(t,e){var n=this,r=n._state;if(1===r&&!t||2===r&&!e)return this;var i=new this.constructor(A),o=n._result;if(r){var s=arguments[r-1];c((function(){O(r,i,s,o)}))}else S(n,i,t,e);return i},catch:function(t){return this.then(null,t)}};var q=function(){var t;if("undefined"!==typeof r)t=r;else if("undefined"!==typeof self)t=self;else try{t=Function("return this")()}catch(n){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;e&&"[object Promise]"===Object.prototype.toString.call(e.resolve())&&!e.cast||(t.Promise=W)},H={Promise:W,polyfill:q};d=function(){return H}.call((m={id:"ES6Promise",exports:{},loaded:!1}).exports,n,m.exports,m),m.loaded=!0,void 0!==d||(d=m.exports),q()}.call(this),function(t){"use strict";F=[],y="function"===typeof(D=function(){var t={WebSdk:{Promise:null,debug:!1,version:4},WebSdkEncryptionSupport:{None:1,Encoding:2,Encryption:3,AESEncryption:4},WebSdkDataSupport:{Binary:1,String:2}};return t.log=function(){t.WebSdk.debug&&(console.log.apply?console.log.apply(console,[].slice.call(arguments)):console.log(arguments[0]))},t})?D.apply(e,F):D}(),function(t){"use strict";F=[y],E="function"===typeof(D=function(t){function e(t,e){var n=RegExp("[?&]"+e+"=([^&]*)").exec(t);return n?decodeURIComponent(n[1].replace(/\+/g," ")):null}function n(t,e,n){return new window.Promise((function(r,i){var o=new XMLHttpRequest;if(o.open(t,e,!0),o.responseType="json",o.setRequestHeader("Accept","application/json"),o.onreadystatechange=function(){var t;this.readyState===XMLHttpRequest.DONE&&(200===this.status?(t=""===this.responseType&&"string"===typeof this.responseText?JSON.parse(this.responseText):this.response,r(t)):i(this))},"post"===t.toLowerCase()&&n){var s,a="",c=[];for(s in n)c.push(encodeURIComponent(s)+"="+encodeURIComponent(n[s]));a=c.join("&").replace(/%20/g,"+"),o.send(a)}else o.send()}))}function r(t){return t.promise=new window.Promise((function(e,n){t.resolve=e,t.reject=n})),t}function i(){return r(this instanceof i?this:Object.create(i.prototype))}function o(t){if(!t)return null;var e;try{e=JSON.parse(t)}catch(n){e=null}return e}return{getQueryParam:e,ajax:n,tryParseJson:o,Deferred:i,FixedQueue:function(){function t(t){this.m_items=[],this.m_maxSize=t}return Object.defineProperty(t.prototype,"length",{get:function(){return this.m_items.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){return this.m_items},enumerable:!0,configurable:!0}),t.prototype.trimHead=function(){this.m_items.length<=this.m_maxSize||Array.prototype.splice.call(this.m_items,0,this.m_items.length-this.m_maxSize)},t.prototype.trimTail=function(){this.m_items.length<=this.m_maxSize||Array.prototype.splice.call(this.m_items,this.m_maxSize,this.m_items.length-this.m_maxSize)},t.prototype.push=function(){var t=Array.prototype.push.apply(this.m_items,arguments);return this.trimHead(),t},t.prototype.splice=function(){var t=Array.prototype.splice.apply(this.m_items,arguments);return this.trimTail(),t},t.prototype.unshift=function(){var t=Array.prototype.unshift.apply(this.m_items,arguments);return this.trimTail(),t},t}()}})?D.apply(e,F):D}(),function(t){"use strict";F=[y,E],v="function"===typeof(D=function(t,e){function n(){this.m_key="websdk";var t=e.tryParseJson(sessionStorage.getItem(this.m_key));t&&(this.m_port=parseInt(t.port),this.m_host=t.host||"127.0.0.1",this.m_isSecure=t.isSecure,this.m_srp=t.srp)}return Object.defineProperty(n.prototype,"url",{get:function(){return this.m_port&&this.m_host?(this.m_isSecure?"https":"http")+"://"+this.m_host+":"+this.m_port.toString():null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"srp",{get:function(){return this.m_srp},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sessionId",{get:function(){return sessionStorage.getItem("websdk.sessionId")},set:function(t){return sessionStorage.setItem("websdk.sessionId",t)},enumerable:!0,configurable:!0}),n.prototype.ensureLoaded=function(n){if(t.log("Configurator: ensureLoaded"),this.url&&this.srp)return n(null);var r=this,i="https://127.0.0.1:52181/get_connection";e.ajax("get",i).then((function(e){t.log("Configurator: findConfiguration -> ",e),e&&e.endpoint&&r.tryParse(e.endpoint)?n(null):n(new Error("Cannot load configuration"))})).catch((function(e){t.log("Configurator: findConfiguration -> ERROR ",e),n(e)}))},n.prototype.tryParse=function(n){t.log("Configurator: tryParse "+n);var r=document.createElement("a");r.href=n;var i=parseInt(e.getQueryParam(r.search,"web_sdk_port")||""),o="true"==e.getQueryParam(r.search,"web_sdk_secure"),s=r.hostname,a=e.getQueryParam(r.search,"web_sdk_username"),c=e.getQueryParam(r.search,"web_sdk_password"),u=e.getQueryParam(r.search,"web_sdk_salt");return!!(i&&s&&a&&c&&u)&&(this.m_port=i,this.m_host=s,this.m_isSecure=o,this.m_srp={p1:a,p2:c,salt:u},sessionStorage.setItem(this.m_key,JSON.stringify({port:this.m_port,host:this.m_host,isSecure:this.m_isSecure,srp:this.m_srp})),!0)},new n})?D.apply(e,F):D}(),function(t){"use strict";F=[y],C="function"===typeof(D=function(t){var e=1,n={Binary:1,UnicodeString:2,UTF8String:3},r=window.crypto||window.msCrypto;function i(t){var e=s(t);return btoa(e)}function o(t){return a(atob(t))}function s(t){return encodeURIComponent(t).replace(/%([0-9A-F]{2})/g,(function(t,e){return String.fromCharCode(parseInt(e,16))}))}function a(t){var e=t.replace(/(.)/g,(function(t,e){var n=e.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}));return decodeURIComponent(e)}function c(t,e){return t.charCodeAt(Math.floor(e%t.length))}function u(t,e){return Array.prototype.map.call(e,(function(t){return t})).map((function(e,n){return String.fromCharCode(e.charCodeAt(0)^c(t,n))})).join("")}function h(t){var e=new DataView(t);return{version:e.getUint8(0),type:e.getUint8(1),length:e.getUint32(2,!0),offset:e.getUint16(6,!0)}}function f(t,n){var r=new DataView(t);r.setUint8(0,e),r.setUint8(1,n),r.setUint32(2,t.byteLength-8,!0),r.setUint16(6,8,!0)}function l(t){return new window.Promise((function(e,n){var r=new Blob([new Uint8Array(t)]),i=new FileReader;i.onload=function(t){return e(t.target.result)},i.onerror=function(t){return n(t.target.error)},i.readAsText(r,"utf-16")}))}function p(t){var e=new ArrayBuffer(2*t.length+8);f(e,n.UnicodeString);for(var r=new Uint16Array(e,8),i=0,o=t.length;i<o;i++)r[i]=t.charCodeAt(i);return e}function d(t){var e=new ArrayBuffer(t.length+8);f(e,n.Binary);var r=new Uint8Array(t);return new Uint8Array(e,8).set(r),e}function m(t){var e=["encrypt","decrypt"],n=!1;return r.subtle.importKey("raw",t,{name:"AES-CBC"},n,e)}function y(t,e,n){return r.subtle.encrypt({name:"AES-CBC",iv:n},e,t)}function E(t,e,n){return r.subtle.decrypt({name:"AES-CBC",iv:n},e,t)}function v(t){var e=["encrypt","decrypt"],n=!1;return new window.Promise((function(i,o){var s=r.subtle.importKey("raw",t,{name:"AES-CBC"},n,e);s.oncomplete=function(t){i(s.result)},s.onerror=function(t){o(new Error("Cannot create a key..."))}}))}function C(t,e,n){return new window.Promise((function(i,o){var s=r.subtle.encrypt({name:"AES-CBC",iv:n},e,t);s.oncomplete=function(t){i(s.result)},s.onerror=function(t){o(new Error("Fail to encrypt data..."))}}))}function A(t,e,n){return new window.Promise((function(i,o){var s=r.subtle.decrypt({name:"AES-CBC",iv:n},e,t);s.oncomplete=function(t){i(s.result)},s.onerror=function(t){o(new Error("Fail to encrypt data..."))}}))}function B(t,e,n){return"undefined"!==typeof window.crypto?m(e).then((function(e){return y(t,e,n)})):v(e).then((function(e){return C(t,e,n)}))}function g(t,e,n){return"undefined"!==typeof window.crypto?m(e).then((function(e){return E(t,e,n)})):v(e).then((function(e){return A(t,e,n)}))}function D(t){if(t.length%2===1)throw new Error("hexToBytes can't have a string with an odd number of characters.");return 0===t.indexOf("0x")&&(t=t.slice(2)),new Uint8Array(t.match(/../g).map((function(t){return parseInt(t,16)})))}function F(t){return new window.Promise((function(e,n){setTimeout((function(){e(t)}))}))}function b(t,e,n){var r=new Uint8Array(D(e).buffer,0,16);return B("string"===typeof n?p(n):d(n),t,r)}function w(t,r,i){return g(i,t,new Uint8Array(D(r).buffer,0,16)).then((function(t){var r=h(t);if(r.version!==e)throw new Error("Invalid data version!");switch(r.type){case n.Binary:return t.slice(r.offset);case n.UnicodeString:return l(t.slice(r.offset));default:throw new Error("Invalid data type!")}return l(t)}))}return{encode:function(e,n,r){switch(t.WebSdk.version){case t.WebSdkEncryptionSupport.AESEncryption:return b(e,n,r);case t.WebSdkEncryptionSupport.Encryption:return F(i(u(n,r)));case t.WebSdkEncryptionSupport.Encoding:return F(i(r));default:return F(r)}},decode:function(e,n,r){switch(t.WebSdk.version){case t.WebSdkEncryptionSupport.AESEncryption:return w(e,n,r);case t.WebSdkEncryptionSupport.Encryption:return F(u(n,o(r)));case t.WebSdkEncryptionSupport.Encoding:return F(o(r));default:return F(r)}},isCryptoSupported:function(){return"undefined"!==typeof r&&r.subtle&&r.subtle.importKey&&r.subtle.encrypt},hexToBytes:function(t){return D(t)}}})?D.apply(e,F):D}(),function(t){"use strict";F=[y],A="function"===typeof(D=function(t){function e(e){e||(e={});var n=t.WebSdkEncryptionSupport.AESEncryption,r=!0===e.debug;function i(e){for(var n in t.WebSdkEncryptionSupport)if(t.WebSdkEncryptionSupport.hasOwnProperty(n)&&t.WebSdkEncryptionSupport[n]===e)return;throw new Error("invalid WebSdk version requested")}e.version&&(i(e.version),n=e.version),Object.defineProperties(this,{version:{get:function(){return n},set:function(t){i(t),n=t},enumerable:!0},debug:{get:function(){return r},set:function(){r=value},enumerable:!0}})}return e})?D.apply(e,F):D}(),function(t){"use strict";F=[c,f,l,p,d,y,E,v,C],B="function"===typeof(D=function(t,e,n,r,i,o,s,a,c){window.Promise||(window.Promise=i.Promise);function u(t){if(!t)throw new Error("clientPath cannot be empty");o.log("WebSdkVersion: ",o.WebSdk.version,"clientPath: ",t),this.clientPath=t,this.wsThreshold=10240,this.wsQueueInterval=1e3,this.wsQueueLimit=100,this.wsReconnectInterval=5e3,this.queue=new s.FixedQueue(this.wsQueueLimit),this.queueInterval=null,this.webSocket=null,this.sessionKey=null,this.M1=null,this.reconnectTimer=null,this.onConnectionFailed=null,this.onConnectionSucceed=null,this.onDataReceivedBin=null,this.onDataReceivedTxt=null;var e=this;window.parent.parent.addEventListener("blur",(function(){e.resetReconnectTimer(),e.notifyFocusChanged(!1)})),window.parent.parent.addEventListener("focus",(function(){e.notifyFocusChanged(!0)}))}return u.prototype.notifyFocusChanged=function(t){if(this.isConnected()){o.log("WebChannelClientImpl: notifyFocusChanged ->",t);var e={type:"sdk.focusChanged",data:t};this.sendData(JSON.stringify(e))}},u.prototype.fireConnectionFailed=function(){window.parent.parent.document.hasFocus()&&this.setReconnectTimer(),this.onConnectionFailed&&this.onConnectionFailed()},u.prototype.fireConnectionSucceed=function(){this.onConnectionSucceed&&this.onConnectionSucceed()},u.prototype.resetReconnectTimer=function(){this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)},u.prototype.setReconnectTimer=function(){this.resetReconnectTimer();var t=this;this.reconnectTimer=setInterval((function(){t.connectInternal(!1)}),this.wsReconnectInterval)},u.prototype.wsconnect=function(t){o.log("WebChannelClientImpl: wsconnect "+t);var e=this,n=s.Deferred();if(this.webSocket&&this.webSocket.readyState!==WebSocket.CLOSED)throw new Error("wsdisconnect has not been called");return this.webSocket=new WebSocket(t),this.webSocket.binaryType="arraybuffer",this.webSocket.onclose=function(t){return o.log("WebChannelClientImpl: wsonclose"),e.wsonclose(!0)},this.webSocket.onopen=function(t){o.log("WebChannelClientImpl: wsonopen"),n.resolve(),window.parent.parent.document.hasFocus()?e.notifyFocusChanged(!0):e.notifyFocusChanged(!1)},this.webSocket.onerror=function(t){return o.log("WebChannelClientImpl: wsonerror "+arguments),n.reject(new Error("WebSocket connection failed."))},this.webSocket.onmessage=function(t){return e.wsonmessage(t)},n.promise},u.prototype.wsdisconnect=function(){var t=this,e=s.Deferred();return this.webSocket&&this.webSocket.readyState===WebSocket.OPEN?(this.webSocket.onclose=function(n){t.wsonclose(!1),e.resolve()},this.webSocket.close()):e.resolve(),e.promise},u.prototype.wsonclose=function(t){o.log("WebChannelClientImpl: connection closed"),this.webSocket.onclose=null,this.webSocket.onopen=null,this.webSocket.onmessage=null,this.webSocket.onerror=null,this.deactivateBufferCheck(),t&&this.fireConnectionFailed()},u.prototype.wsonmessage=function(t){var e=this;c.decode(this.sessionKey,this.M1,t.data).then((function(t){"string"===typeof t?e.onDataReceivedTxt&&e.onDataReceivedTxt(t):e.onDataReceivedBin&&e.onDataReceivedBin(t)}))},u.prototype.wssend=function(t){return!!this.isConnected()&&(this.webSocket.bufferedAmount>=this.wsThreshold?(this.activateBufferCheck(),!1):(this.webSocket.send(t),!0))},u.prototype.generateSessionKey=function(t){var i=a.srp;if(!i.p1||!i.p2||!i.salt)return t(new Error("No data available for authentication"));var u,h=this,f=new r(i.p1,i.p2);do{u=f.srpRandom()}while(!f.canCalculateA(u));var l=f.calculateA(u);o.WebSdk.version>=o.WebSdkEncryptionSupport.AESEncryption&&!c.isCryptoSupported()&&(o.WebSdk.version=o.WebSdkEncryptionSupport.Encryption),s.ajax("post",a.url+"/connect",{username:i.p1,A:f.toHexString(l),version:o.WebSdk.version.toString()}).then((function(r){void 0===r.version?o.WebSdk.version=Math.min(o.WebSdk.version,o.WebSdkEncryptionSupport.Encryption):o.WebSdk.version=r.version;var s=new n(r.B,16),a=f.calculateU(l,s),p=f.calculateS(s,i.salt,a,u),d=f.calculateK(p),m=f.calculateM(l,s,d,i.salt);h.sessionKey=c.hexToBytes(e.codec.hex.fromBits(e.hash.sha256.hash(e.codec.hex.toBits(d)))),h.M1=m,t(null,m)})).catch(t)},u.prototype.setupSecureChannel=function(n){o.log("WebChannelClientImpl.setupSecureChannel");var r=this;t.waterfall([function(t){r.generateSessionKey(t)},function(t,n){var i=a.url.replace("http","ws")+"/"+r.clientPath+"?username="+a.srp.p1+"&M1="+r.M1;a.sessionId||(a.sessionId=e.codec.hex.fromBits(e.random.randomWords(2,0))),i+="&sessionId="+a.sessionId,i+="&version="+o.WebSdk.version.toString(),r.wsconnect(i).then((function(){n(null)})).catch((function(t){o.log(t),n(t)}))}],n)},u.prototype.isConnected=function(){return!!this.webSocket&&this.webSocket.readyState===WebSocket.OPEN},u.prototype.sendData=function(t){this.wssend(t)||this.queue.push(t)},u.prototype.deactivateBufferCheck=function(){this.queueInterval&&(clearInterval(this.queueInterval),this.queueInterval=null)},u.prototype.activateBufferCheck=function(){if(!this.queueInterval){var t=this;this.queueInterval=setInterval((function(){t.processMessageQueue(),0===t.queue.length&&t.deactivateBufferCheck()}),this.wsQueueInterval)}},u.prototype.processMessageQueue=function(){if(o.log("WebChannelClientImpl: processMessageQueue "+this.queue.length),0!==this.queue.length)for(var t=0;t<this.queue.length&&this.wssend(this.queue.items[t]);)this.queue.splice(t,1)},u.prototype.connectInternal=function(e){o.log("WebChannelClientImpl.connectInternal"),this.resetReconnectTimer();var n=this;t.waterfall([function(t){a.ensureLoaded(t)},function(r){t.retry(e?3:1,(function(){n.setupSecureChannel(r)}),r)}],(function(t){if(t)return n.fireConnectionFailed();n.fireConnectionSucceed(),n.processMessageQueue()}))},u.prototype.connect=function(){this.connectInternal(!0)},u.prototype.disconnect=function(){this.wsdisconnect()},u.prototype.sendDataBin=function(t){var e=this;c.encode(this.sessionKey,this.M1,t).then((function(t){e.sendData(t)}))},u.prototype.sendDataTxt=function(t){var e=this;c.encode(this.sessionKey,this.M1,t).then((function(t){e.sendData(t)}))},u})?D.apply(e,F):D}(),function(t){"use strict";F=[y,A,B],g="function"===typeof(D=function(t,e,n){function r(r,i){if(i){t.log(i);var o=new e(i);t.WebSdk.debug=o.debug,t.WebSdk.version=o.version}var s=new n(r);Object.defineProperties(this,{path:{get:function(){return r},enumerable:!0},onConnectionFailed:{get:function(){return s.onConnectionFailed},set:function(t){s.onConnectionFailed=t},enumerable:!0},onConnectionSucceed:{get:function(){return s.onConnectionSucceed},set:function(t){s.onConnectionSucceed=t},enumerable:!0},onDataReceivedBin:{get:function(){return s.onDataReceivedBin},set:function(t){s.onDataReceivedBin=t},enumerable:!0},onDataReceivedTxt:{get:function(){return s.onDataReceivedTxt},set:function(t){s.onDataReceivedTxt=t},enumerable:!0}}),this.connect=function(){s.connect()},this.disconnect=function(){s.disconnect()},this.isConnected=function(){return s.isConnected()},this.sendDataBin=function(t){s.sendDataBin(t)},this.sendDataTxt=function(t){s.sendDataTxt(t)},this.resetReconnectTimer=function(){s.resetReconnectTimer()}}return r})?D.apply(e,F):D}(),function(n){"use strict";F=[y,A,g],void 0===(b="function"===typeof(D=function(t,e,n){return t.log("loaded websdk.client"),{WebChannelOptions:e,WebChannelClient:n}})?D.apply(e,F):D)||(t.exports=b)}()}).call(this,n(9),n(70).setImmediate,n(5))},147:function(t,e){},149:function(t,e){},159:function(t,e){},161:function(t,e){},186:function(t,e){},187:function(t,e){},192:function(t,e){},194:function(t,e){},201:function(t,e){},220:function(t,e){},236:function(t,e,n){},238:function(t,e,n){"use strict";n.r(e);var r=n(10),i=n.n(r),o=n(122),s=n.n(o),a=(n(129),n(123)),c=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,241)).then((function(e){var n=e.getCLS,r=e.getFID,i=e.getFCP,o=e.getLCP,s=e.getTTFB;n(t),r(t),i(t),o(t),s(t)}))},u=n(4);s.a.render(Object(u.jsx)(i.a.StrictMode,{children:Object(u.jsx)(a.a,{})}),document.getElementById("root")),c()},65:function(t,e,n){"use strict";n(10);var r=n(4);e.a=function(t){var e=t.canvasRef,n=t.style;return Object(r.jsx)("canvas",{ref:e,style:n,width:"640",height:"480"})}}},[[238,1,2]]]);
//# sourceMappingURL=main.8a1b1996.chunk.js.map